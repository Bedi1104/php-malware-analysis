<?php

$path = "/jgkf";    
$path = "./jgkf";    
function is__writable($path) {
echo "is__writable($path)\n";
    //echo $path."\n";
    $p = realpath($path);
echo "\$p = $p\n";
    if(is_dir($p)){       
echo "$p is a directory\n";
        $path = $p;
        return is__writable($path.uniqid(mt_rand()).".tmp");
    }
/*
if ($path{strlen($path)-1}=="/")
    return is__writable($path.uniqid(mt_rand()).".tmp");
*/


/*
if (file_exists($path)) {
    if (!($f = @fopen($path, "r+")))
        return false;
    fclose($f);
    return true;
}
*/
if (!($f = fopen($path, "w"))) {
echo "Failed to fopen($path)\n";
    return false;
}
echo "fopened $path\n";
fputs($f, "test");
fclose($f);
//unlink($path);
return true;
}

$a = 5;
$b = 6;
if(is__writable($path)){
    echo "result:".($a+$b);
} else {
    echo "NO";
}
