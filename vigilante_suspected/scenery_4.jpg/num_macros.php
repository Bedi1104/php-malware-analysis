<?php
function num_macros($content)
{
    preg_match_all('#\[RAND\-([[:digit:]]+)\-([[:digit:]]+)\]#', $content, $matches);
	print "count(\$matches[0]) = ".count($matches[0])."\n";
    for($i = 0; $i < count($matches[0]); $i++)
    {
        $min = $matches[1][$i];
        $max = $matches[2][$i];
print "$i: min $min, max $max\n";
        $rand = rand($min, $max);
        $content = str_replace($matches[0][$i], $rand, $content);
    }
    return $content;
}

$x = num_macros($argv[1]);
print $argv[1]."\n";
print $x[1]."\n";
